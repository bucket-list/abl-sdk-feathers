var vendor=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r},function(t,e,r){"use strict";var n=r(8),i=r(446),o=r(33),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?n.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var i;i=r.subscribe(function(e){if(i)try{t(e)}catch(t){n(t),i.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(5),s=r(70),u=r(34),c=function(t){function e(r,n,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!r){this.destination=s.empty;break}if("object"==typeof r){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new a(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new a(this,r,n,i)}}return n(e,t),e.prototype[u.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,r=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=r,this},e}(o.Subscription);e.Subscriber=c;var a=function(t){function e(e,r,n,o){t.call(this),this._parentSubscriber=e;var u,c=this;i.isFunction(r)?u=r:r&&(u=r.next,n=r.error,o=r.complete,r!==s.empty&&(c=Object.create(r),i.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=u,this._error=n,this._complete=o}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(2),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},function(t,e,r){"use strict";function n(t,e,r,n){var p=new h.InnerSubscriber(t,r,n);if(p.closed)return null;if(e instanceof c.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):e.subscribe(p);if(o.isArrayLike(e)){for(var f=0,d=e.length;f<d&&!p.closed;f++)p.next(e[f]);p.closed||p.complete()}else{if(s.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[a.iterator])for(var b=e[a.iterator]();;){var y=b.next();if(y.done){p.complete();break}if(p.next(y.value),p.closed)break}else if(e&&"function"==typeof e[l.observable]){var v=e[l.observable]();if("function"==typeof v.subscribe)return v.subscribe(new h.InnerSubscriber(t,r,n));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var m=u.isObject(e)?"an invalid object":"'"+e+"'",_="You provided "+m+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(_))}}return null}var i=r(8),o=r(95),s=r(97),u=r(96),c=r(1),a=r(24),h=r(169),l=r(33);e.subscribeToResult=n},function(t,e,r){"use strict";function n(t){return t.reduce(function(t,e){return t.concat(e instanceof a.UnsubscriptionError?e.errors:e)},[])}var i=r(12),o=r(96),s=r(38),u=r(9),c=r(7),a=r(93),h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this,h=r._parent,l=r._parents,p=r._unsubscribe,f=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,b=l?l.length:0;h;)h.remove(this),h=++d<b&&l[d]||null;if(s.isFunction(p)){var y=u.tryCatch(p).call(this);y===c.errorObject&&(e=!0,t=t||(c.errorObject.e instanceof a.UnsubscriptionError?n(c.errorObject.e.errors):[c.errorObject.e]))}if(i.isArray(f))for(d=-1,b=f.length;++d<b;){var v=f[d];if(o.isObject(v)){var y=u.tryCatch(v.unsubscribe).call(v);if(y===c.errorObject){e=!0,t=t||[];var m=c.errorObject.e;m instanceof a.UnsubscriptionError?t=t.concat(n(m.errors)):t.push(m)}}}if(e)throw new a.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=this._subscriptions||(this._subscriptions=[]);return i.push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);r!==-1&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this,r=e._parent,n=e._parents;r&&r!==t?n?n.indexOf(t)===-1&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=h},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(2),s=r(5),u=r(36),c=r(71),a=r(34),h=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=h;var l=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[a.rxSubscriber]=function(){return new h(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=l;var p=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):s.Subscription.EMPTY},e}(l);e.AnonymousSubject=p},function(t,e){"use strict";e.errorObject={e:{}}},function(t,e){(function(t){"use strict";var r="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof t&&t,o=r||i||n;e.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function i(t){return o=t,n}var o,s=r(7);e.tryCatch=i},function(t,e,r){"use strict";var n=r(22),i=r(23);e.async=new i.AsyncScheduler(n.AsyncAction)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(49),s=r(15),u=r(13),c=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var i=t.length;return i>1?new e(t,n):1===i?new o.ScalarObservable(t[0],n):new s.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,i=t.subscriber;return r>=n?void i.complete():(i.next(e[r]),void(i.closed||(t.index=r+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,n=this.array,i=n.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:n,index:r,count:i,subscriber:t});for(var s=0;s<i&&!t.closed;s++)t.next(n[s]);t.complete()},e}(i.Observable);e.ArrayObservable=c},function(t,e){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){b&&f&&(b=!1,f.length?d=f.concat(d):y=-1,d.length&&u())}function u(){if(!b){var t=i(s);b=!0;for(var e=d.length;e;){for(f=d,d=[];++y<e;)f&&f[y].run();y=-1,e=d.length}f=null,b=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function a(){}var h,l,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var f,d=[],b=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||b||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.prependListener=a,p.prependOnceListener=a,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;return r?r.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(i.Observable);e.EmptyObservable=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(138),o=n(i),s=r(29),u=r(139),c=n(u);e.default={_:s._,getArguments:o.default,stripSlashes:s.stripSlashes,hooks:c.default,matcher:s.matcher,sorter:s.sorter,select:s.select,makeUrl:s.makeUrl,each:s.each,some:s.some,every:s.every,keys:s.keys,values:s.values,isMatch:s.isMatch,isEmpty:s.isEmpty,isObject:s.isObject,extend:s.extend,omit:s.omit,pick:s.pick,merge:s.merge},t.exports=e.default},function(t,e,r){"use strict";function n(t,e){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new o(r,e));var n=Object.create(this,i.connectableObservableDescriptor);return n.source=this,n.subjectFactory=r,n}var i=r(72);e.multicast=n;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}();e.MulticastOperator=o},function(t,e,r){(function(t){function n(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}function i(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=m[t.type];for(var u=0;u<o.length;u++)s[u+1]=o[u];return n(s.buffer)}function o(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=new FileReader;return i.onload=function(){t.data=i.result,e.encodePacket(t,r,!0,n)},i.readAsArrayBuffer(t.data)}function s(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(v)return o(t,r,n);var i=new Uint8Array(1);i[0]=m[t.type];var s=new g([i.buffer,t.data]);return n(s)}function u(t){try{t=d.decode(t)}catch(t){return!1}return t}function c(t,e,r){for(var n=new Array(t.length),i=f(t.length,r),o=function(t,r,i){e(r,function(e,r){n[t]=r,i(e,n)})},s=0;s<t.length;s++)o(s,t[s],i)}var a,h=r(121),l=r(63),p=r(107),f=r(106),d=r(458);t&&t.ArrayBuffer&&(a=r(109));var b="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),y="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=b||y;e.protocol=3;var m=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},_=h(m),w={type:"error",data:"parser error"},g=r(110);e.encodePacket=function(e,r,o,u){"function"==typeof r&&(u=r,r=!1),"function"==typeof o&&(u=o,o=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return i(e,r,u);if(g&&c instanceof t.Blob)return s(e,r,u);if(c&&c.base64)return n(e,u);var a=m[e.type];return void 0!==e.data&&(a+=o?d.encode(String(e.data)):String(e.data)),u(""+a)},e.encodeBase64Packet=function(r,n){var i="b"+e.packets[r.type];if(g&&r.data instanceof t.Blob){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(i+t)},o.readAsDataURL(r.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var u=new Uint8Array(r.data),c=new Array(u.length),a=0;a<u.length;a++)c[a]=u[a];s=String.fromCharCode.apply(null,c)}return i+=t.btoa(s),n(i)},e.decodePacket=function(t,r,n){if(void 0===t)return w;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&(t=u(t),t===!1))return w;var i=t.charAt(0);return Number(i)==i&&_[i]?t.length>1?{type:_[i],data:t.substring(1)}:{type:_[i]}:w}var o=new Uint8Array(t),i=o[0],s=p(t,1);return g&&"blob"===r&&(s=new g([s])),{type:_[i],data:s}},e.decodeBase64Packet=function(t,e){var r=_[t.charAt(0)];if(!a)return{type:r,data:{base64:!0,data:t.substr(1)}};var n=a.decode(t.substr(1));return"blob"===e&&g&&(n=new g([n])),{type:r,data:n}},e.encodePayload=function(t,r,n){function i(t){return t.length+":"+t}function o(t,n){e.encodePacket(t,!!s&&r,!0,function(t){n(null,i(t))})}"function"==typeof r&&(n=r,r=null);var s=l(t);return r&&s?g&&!v?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,o,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);"function"==typeof r&&(n=r,r=null);var i;if(""==t)return n(w,0,1);for(var o,s,u="",c=0,a=t.length;c<a;c++){var h=t.charAt(c);if(":"!=h)u+=h;else{if(""==u||u!=(o=Number(u)))return n(w,0,1);if(s=t.substr(c+1,o),u!=s.length)return n(w,0,1);if(s.length){if(i=e.decodePacket(s,r,!0),w.type==i.type&&w.data==i.data)return n(w,0,1);var l=n(i,c+o,a);if(!1===l)return}c+=o,u=""}}return""!=u?n(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void c(t,n,function(t,e){var n=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),i=new Uint8Array(n),o=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?i[o++]=0:i[o++]=1;for(var u=r.byteLength.toString(),s=0;s<u.length;s++)i[o++]=parseInt(u[s]);i[o++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)i[o++]=n[s]}),r(i.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);t=n.buffer,e[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,s=o.toString(),u=new Uint8Array(s.length+1),i=0;i<s.length;i++)u[i]=parseInt(s[i]);if(u[s.length]=255,g){var c=new g([e.buffer,u.buffer,t]);r(null,c)}})}c(t,n,function(t,e){return r(new g(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var i=t,o=[],s=!1;i.byteLength>0;){for(var u=new Uint8Array(i),c=0===u[0],a="",h=1;255!=u[h];h++){if(a.length>310){s=!0;break}a+=u[h]}if(s)return n(w,0,1);i=p(i,2+a.length),a=parseInt(a);var l=p(i,0,a);if(c)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var f=new Uint8Array(l);l="";for(var h=0;h<f.length;h++)l+=String.fromCharCode(f[h])}o.push(l),i=p(i,a)}var d=o.length;o.forEach(function(t,i){n(e.decodePacket(t,r,!0),i,d)})}}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e,r,n,i){t=t||"Error";var o=void 0,s=void 0,u=void 0;t instanceof Error?(s=t.message||"Error",t.errors&&(o=t.errors)):"object"===("undefined"==typeof t?"undefined":x(t))?(s=t.message||"Error",i=t):s=t,Error.call(this,s),i&&(u=JSON.parse(JSON.stringify(i)),u.errors?(o=u.errors,delete u.errors):i.errors&&(o=JSON.parse(JSON.stringify(i.errors)))),this.type="FeathersError",this.name=e,this.message=s,this.code=r,this.className=n,this.data=u,this.errors=o||{},O(this.name+"("+this.code+"): "+this.message)}function i(t,e){n.call(this,t,"BadRequest",400,"bad-request",e)}function o(t,e){n.call(this,t,"NotAuthenticated",401,"not-authenticated",e)}function s(t,e){n.call(this,t,"PaymentError",402,"payment-error",e)}function u(t,e){n.call(this,t,"Forbidden",403,"forbidden",e)}function c(t,e){n.call(this,t,"NotFound",404,"not-found",e)}function a(t,e){n.call(this,t,"MethodNotAllowed",405,"method-not-allowed",e)}function h(t,e){n.call(this,t,"NotAcceptable",406,"not-acceptable",e)}function l(t,e){n.call(this,t,"Timeout",408,"timeout",e)}function p(t,e){n.call(this,t,"Conflict",409,"conflict",e)}function f(t,e){n.call(this,t,"LengthRequired",411,"length-required",e)}function d(t,e){n.call(this,t,"Unprocessable",422,"unprocessable",e)}function b(t,e){n.call(this,t,"TooManyRequests",429,"too-many-requests",e)}function y(t,e){n.call(this,t,"GeneralError",500,"general-error",e)}function v(t,e){n.call(this,t,"NotImplemented",501,"not-implemented",e)}function m(t,e){n.call(this,t,"BadGateway",502,"bad-gateway",e)}function _(t,e){n.call(this,t,"Unavailable",503,"unavailable",e)}function w(t){if(!t)return t;var e=S[t.name],r=e?new e(t.message,t.data):new Error(t.message||t);return"object"===("undefined"==typeof t?"undefined":x(t))&&g(r,t),r}Object.defineProperty(e,"__esModule",{value:!0});var g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O=r(27)("feathers-errors");n.prototype=new Error,Object.defineProperty(n.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),i.prototype=new n,o.prototype=new n,s.prototype=new n,u.prototype=new n,c.prototype=new n,a.prototype=new n,h.prototype=new n,l.prototype=new n,p.prototype=new n,f.prototype=new n,d.prototype=new n,b.prototype=new n,y.prototype=new n,v.prototype=new n,m.prototype=new n,_.prototype=new n;var S={FeathersError:n,BadRequest:i,NotAuthenticated:o,PaymentError:s,Forbidden:u,NotFound:c,MethodNotAllowed:a,NotAcceptable:h,Timeout:l,Conflict:p,LengthRequired:f,Unprocessable:d,TooManyRequests:b,GeneralError:y,NotImplemented:v,BadGateway:m,Unavailable:_,400:i,401:o,402:s,403:u,404:c,405:a,406:h,408:l,409:p,411:f,422:d,429:b,500:y,501:v,502:m,503:_};e.default=g({convert:w,types:S,errors:S},S),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){throw(0,l.convert)(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(162),a=n(c),h=r(16),l=r(19),p=function(){function t(e){i(this,t),this.name=(0,h.stripSlashes)(e.name),this.options=e.options,this.connection=e.connection,this.base=e.base+"/"+this.name}return u(t,[{key:"makeUrl",value:function(t,e){t=t||{};var r=this.base;if("undefined"!=typeof e&&null!==e&&(r+="/"+e),0!==Object.keys(t).length){var n=a.default.stringify(t);r+="?"+n}return r}},{key:"find",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.request({url:this.makeUrl(t.query),method:"GET",headers:s({},t.headers)}).catch(o)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"undefined"==typeof t?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(e.query,t),method:"GET",headers:s({},e.headers)}).catch(o)}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request({url:this.makeUrl(e.query),body:t,method:"POST",headers:s({"Content-Type":"application/json"},e.headers)}).catch(o)}},{key:"update",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"undefined"==typeof t?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,t),body:e,method:"PUT",headers:s({"Content-Type":"application/json"},r.headers)}).catch(o)}},{key:"patch",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"undefined"==typeof t?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,t),body:e,method:"PATCH",headers:s({"Content-Type":"application/json"},r.headers)}).catch(o)}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"undefined"==typeof t?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(e.query,t),method:"DELETE",headers:s({},e.headers)}).catch(o)}}]),t}();e.default=p,t.exports=e.default},function(t,e,r){"use strict";var n=r(1),i=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){var n=this.kind;switch(n){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(8),o=r(427),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),i.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r&&this.pending===!1?e:i.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(o.Action);e.AsyncAction=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(171),o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(i.Scheduler);e.AsyncScheduler=o},function(t,e,r){"use strict";function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}var i=r(8);e.symbolIteratorPonyfill=n,e.iterator=n(i.root),e.$$iterator=e.iterator},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=n},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){(function(n){function i(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),
r){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,n)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof n&&"env"in n&&(t=n.env.DEBUG),t}function a(){try{return window.localStorage}catch(t){}}e=t.exports=r(112),e.log=s,e.formatArgs=o,e.save=u,e.load=c,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,r(14))},function(t,e,r){(function(n){function i(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,n),t}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof n&&"env"in n)return n.env.DEBUG}function a(){try{return window.localStorage}catch(t){}}e=t.exports=r(119),e.log=s,e.formatArgs=o,e.save=u,e.load=c,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,r(14))},function(t,e,r){(function(t){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t){return t.replace(/^(\/*)|(\/*)$/g,"")}function s(t,e){t&&"function"==typeof t.forEach?t.forEach(e):f(t)&&Object.keys(t).forEach(function(r){return e(t[r],r)})}function u(t,e){return Object.keys(t).map(function(e){return[t[e],e]}).some(function(t){return e.apply(void 0,i(t))})}function c(t,e){return Object.keys(t).map(function(e){return[t[e],e]}).every(function(t){return e.apply(void 0,i(t))})}function a(t){return Object.keys(t)}function h(t){return O.keys(t).map(function(e){return t[e]})}function l(t,e){return O.keys(e).every(function(r){return t[r]===e[r]})}function p(t){return 0===O.keys(t).length}function f(t){return"object"===("undefined"==typeof t?"undefined":n(t))&&!Array.isArray(t)&&null!==t}function d(){return x.apply(void 0,arguments)}function b(t){for(var e=O.extend({},t),r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach(function(t){return delete e[t]}),e}function y(t){for(var e={},r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach(function(r){e[r]=t[r]}),e}function v(t,e){return f(t)&&f(e)&&Object.keys(e).forEach(function(n){f(e[n])?(t[n]||x(t,r({},n,{})),v(t[n],e[n])):x(t,r({},n,e[n]))}),t}function m(t){for(var e=t&&t.query&&t.query.$select,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];Array.isArray(e)&&n.length&&e.push.apply(e,n);var s=function(t){return Array.isArray(e)?O.pick.apply(O,[t].concat(i(e))):t};return function(t){return Array.isArray(t)?t.map(s):s(t)}}function _(t){var e=O.omit(t,"$limit","$skip","$sort","$select");return function(t){return!(!e.$or||!O.some(e.$or,function(e){return _(e)(t)}))||O.every(e,function(r,i){return null!==r&&"object"===("undefined"==typeof r?"undefined":n(r))?O.every(r,function(e,r){if(S[r]){var n=S[r](i,e);return n(t)}return!1}):"undefined"!=typeof t[i]&&t[i]===e[i]})}}function w(t){return function(e,r){var n=0;return s(t,function(t,i){t=parseInt(t,10),e[i]<r[i]&&(n-=1*t),e[i]>r[i]&&(n+=1*t)}),n}}function g(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n="function"==typeof r.get?r.get.bind(r):function(){},i=n("env")||t.env.NODE_ENV,s=n("host")||t.env.HOST_NAME||"localhost",u="development"===i||"test"===i||void 0===i?"http":"https",c=n("port")||t.env.PORT||3030,a="development"===i||"test"===i||void 0===i?":"+c:"";return e=e||"",u+"://"+s+a+"/"+o(e)}var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};Object.defineProperty(e,"__esModule",{value:!0}),e.stripSlashes=o,e.each=s,e.some=u,e.every=c,e.keys=a,e.values=h,e.isMatch=l,e.isEmpty=p,e.isObject=f,e.extend=d,e.omit=b,e.pick=y,e.merge=v,e.select=m,e.matcher=_,e.sorter=w,e.makeUrl=g;var O=e._={each:s,some:u,every:c,keys:a,values:h,isMatch:l,isEmpty:p,isObject:f,extend:d,omit:b,pick:y,merge:v},S=e.specialFilters={$in:function(t,e){return function(r){return e.indexOf(r[t])!==-1}},$nin:function(t,e){return function(r){return e.indexOf(r[t])===-1}},$lt:function(t,e){return function(r){return r[t]<e}},$lte:function(t,e){return function(r){return r[t]<=e}},$gt:function(t,e){return function(r){return r[t]>e}},$gte:function(t,e){return function(r){return r[t]>=e}},$ne:function(t,e){return function(r){return r[t]!==e}}}}).call(e,r(14))},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(5),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(89),s=r(5),u=r(53),c=r(36),a=r(71),h=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=n,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return n(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new l(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError?e=s.Subscription.EMPTY:this.isStopped?e=s.Subscription.EMPTY:(this.observers.push(t),e=new a.SubjectSubscription(this,t)),n&&t.add(t=new u.ObserveOnSubscriber(t,n));for(var i=r.length,o=0;o<i&&!t.closed;o++)t.next(r[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.Subject);e.ReplaySubject=h;var l=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.mergeAll=n;var u=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.concurrent))},t}();e.MergeAllOperator=u;var c=function(t){function e(e,r){t.call(this,e),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=c},function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var i=r(8);e.getSymbolObservable=n,e.observable=n(i.root),e.$$observable=e.observable},function(t,e,r){"use strict";var n=r(8),i=n.root.Symbol;e.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=n},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=n},function(t,e){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},function(t,e){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e,r){"use strict";function n(t){return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i=r(12);e.isNumeric=n},function(t,e,r){(function(n){function i(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,n),t}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof n&&"env"in n)return n.env.DEBUG}function a(){try{return window.localStorage}catch(t){}}e=t.exports=r(450),e.log=s,e.formatArgs=o,e.save=u,e.load=c,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,r(14))},function(t,e,r){var n,i,o;!function(r,s){i=[],n=s,o="function"==typeof n?n.apply(e,i):n,!(void 0!==o&&(t.exports=o))}(this,function(){function t(t,e,r,n){return function(){var i=this._super;this._super="function"==typeof e?e:t[r];var o=n.apply(this,arguments);return this._super=i,o}}function e(e,r){var n,i=r||this,o=/\b_super\b/,s=Object.getPrototypeOf(i)||i.prototype;for(var u in e)n=i[u],("function"==typeof e[u]&&"function"==typeof s[u]||"function"==typeof n&&"function"==typeof e[u])&&o.test(e[u])?i[u]=t(s,n,u,e[u]):i[u]=e[u];return i}function r(e,r){var n=r||this,i=/\b_super\b/,o=Object.getPrototypeOf(n)||n.prototype,s={},u=e,c=function(t){s[t]||(s[t]=Object.getOwnPropertyDescriptor(u,t))};do Object.getOwnPropertyNames(u).forEach(c);while((u=Object.getPrototypeOf(u))&&Object.getPrototypeOf(u));return Object.keys(s).forEach(function(e){var r=s[e];"function"==typeof r.value&&i.test(r.value)&&(r.value=t(o,n[e],e,r.value)),Object.defineProperty(n,e,r)}),n}return{create:function(){var t=Object.create(this),e="string"==typeof t.__init?t.__init:"init";return"function"==typeof t[e]&&t[e].apply(t,arguments),t},mixin:"function"==typeof Object.defineProperty?r:e,extend:function(t,e){return this.mixin(t,Object.create(e||this))},proxy:function(t){var e=this[t],r=Array.prototype.slice.call(arguments,1);return r.unshift(this),e.bind.apply(e,r)}}})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var i=r(18),o=r(45);t.exports=n,o(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(e){var n=r(158);t.exports=function(t){var r=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,function(){return this}())},function(t,e,r){function n(t){if(t)return i(t)}function i(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,u,c,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(r=this._events[t],s(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),r.apply(this,u)}else if(o(r))for(u=Array.prototype.slice.call(arguments,1),a=r.slice(),i=a.length,c=0;c<i;c++)a[c].apply(this,u);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,s,u;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(u=s;u-- >0;)if(r[u]===e||r[u].listener&&r[u].listener===e){i=u;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t,e,r,n){if(e===!0){var o=function(){var e=null;return{v:t.Observable.create(function(t){var o=t;if(e||(e=r.apply(void 0,i(n))),!e||"function"!=typeof e.then||"function"!=typeof e.catch)throw new Error("feathers-reactive only works with services that return a Promise");e.then(function(t){o.next(t),o.complete()}).catch(function(t){return o.error(t)})})}}();if("object"===("undefined"==typeof o?"undefined":a(o)))return o.v}return t.Observable.fromPromise(r.apply(void 0,i(n)))}function s(t){return Object.assign(t,{then:function(){var t;return(t=this.first().toPromise()).then.apply(t,arguments)},catch:function(){var t;return(t=this.first().toPromise()).catch.apply(t,arguments)}})}function u(t,e){var r=t.$sort?(0,h.sorter)(t.$sort):(0,h.sorter)(n({},e.idField,1));return function(n){var i=!!n[e.dataField],o=i?n[e.dataField]:n;r&&(o=o.sort(r));var s="number"==typeof n.limit?n.limit:parseInt(t.$limit,10);return s&&!isNaN(s)&&(o=o.slice(0,s)),i?n[e.dataField]=o:n=o,n}}function c(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=Object.assign.apply(Object,[{},t].concat(r));return"string"==typeof i.listStrategy&&(i.listStrategy=i.listStrategies[i.listStrategy]),i}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getSource=o,e.promisify=s,e.makeSorter=u,e.getOptions=c;var h=r(29)},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;return e?void n.complete():(n.next(r),void(n.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;return n?n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t}):(t.next(r),void(t.closed||t.complete()))},e}(i.Observable);e.ScalarObservable=o},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0].slice()),t.unshift(this),this.lift.call(new o.ArrayObservable(t),new h(r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(11),s=r(12),u=r(3),c=r(4),a={};e.combineLatest=n;var h=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}();e.CombineLatestOperator=h;var l=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return i(e,t),e.prototype._next=function(t){this.values.push(a),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(c.subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.values,s=o[r],u=this.toRespond?s===a?--this.toRespond:this.toRespond:0;o[r]=e,0===u&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.OuterSubscriber);e.CombineLatestSubscriber=l},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,n=t;return s.isScheduler(n[t.length-1])&&(r=n.pop()),null===r&&1===t.length&&t[0]instanceof o.Observable?t[0]:new u.ArrayObservable(t,r).lift(new c.MergeAllOperator(1))}var o=r(1),s=r(13),u=r(11),c=r(32);e.concat=n,e.concatStatic=i},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.map=n;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))},t}();e.MapOperator=s;var u=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(21);e.observeOn=n;var u=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=u;var c=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return i(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=c;var a=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=a},function(t,e,r){"use strict";function n(t,e){var r=!1;return arguments.length>=2&&(r=!0),this.lift(new s(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.reduce=n;var s=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=s;var u=function(t){function e(e,r,n,i){t.call(this,e),this.accumulator=r,this.hasSeed=i,this.index=0,this.hasValue=!1,this.acc=n,this.hasSeed||this.index++}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=u},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new s.ArrayObservable(t).lift(new p(r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(11),u=r(12),c=r(2),a=r(3),h=r(4),l=r(24);e.zipProto=n,e.zipStatic=i;var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();e.ZipOperator=p;var f=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return o(e,t),e.prototype._next=function(t){var e=this.iterators;u.isArray(t)?e.push(new b(t)):"function"==typeof t[l.iterator]?e.push(new d(t[l.iterator]())):e.push(new y(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0===e)return void this.destination.complete();this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){var i=t[n];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,s=[],n=0;n<e;n++){var i=t[n],u=i.next();if(i.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(c.Subscriber);e.ZipSubscriber=f;var d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),b=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),y=function(t){function e(e,r,n){t.call(this,e),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){
return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return h.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)},function(t,e,r){function n(){}function i(t){var r="",n=!1;return r+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(r+=t.attachments,r+="-"),t.nsp&&"/"!=t.nsp&&(n=!0,r+=t.nsp),null!=t.id&&(n&&(r+=",",n=!1),r+=t.id),null!=t.data&&(n&&(r+=","),r+=p.stringify(t.data)),l("encoded %j as %s",t,r),r}function o(t,e){function r(t){var r=d.deconstructPacket(t),n=i(r.packet),o=r.buffers;o.unshift(n),e(o)}d.removeBlobs(t,r)}function s(){this.reconstructor=null}function u(t){var r={},n=0;if(r.type=Number(t.charAt(0)),null==e.types[r.type])return h();if(e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type){for(var i="";"-"!=t.charAt(++n)&&(i+=t.charAt(n),n!=t.length););if(i!=Number(i)||"-"!=t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"==t.charAt(n+1))for(r.nsp="";++n;){var o=t.charAt(n);if(","==o)break;if(r.nsp+=o,n==t.length)break}else r.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var o=t.charAt(n);if(null==o||Number(o)!=o){--n;break}if(r.id+=t.charAt(n),n==t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),l("decoded %s as %j",t,r),r}function c(t,e){try{t.data=p.parse(e)}catch(t){return h()}return t}function a(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:"parser error"}}var l=r(453)("socket.io-parser"),p=r(159),f=r(111),d=r(452),b=r(103);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=n,e.Decoder=s,n.prototype.encode=function(t,r){if(l("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)o(t,r);else{var n=i(t);r([n])}},f(s.prototype),s.prototype.add=function(t){var r;if("string"==typeof t)r=u(t),e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type?(this.reconstructor=new a(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!b(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,this.emit("decoded",r))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e,r){(function(t){function n(e){var r,n=!1,u=!1,c=!1!==e.jsonp;if(t.location){var a="https:"===location.protocol,h=location.port;h||(h=a?443:80),n=e.hostname!==location.hostname||h!==e.port,u=e.secure!==a}if(e.xdomain=n,e.xscheme=u,r=new i(e),"open"in r&&!e.forceJSONP)return new o(e);if(!c)throw new Error("JSONP disabled");return new s(e)}var i=r(44),o=r(117),s=r(116),u=r(118);e.polling=n,e.websocket=u}).call(e,function(){return this}())},function(t,e,r){function n(t){var e=t&&t.forceBase64;h&&!e||(this.supportsBinary=!1),i.call(this,t)}var i=r(43),o=r(48),s=r(18),u=r(26),c=r(105),a=r(28)("engine.io-client:polling");t.exports=n;var h=function(){var t=r(44),e=new t({xdomain:!1});return null!=e.responseType}();u(n,i),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){a("paused"),r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(a("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){a("pre-pause polling complete"),--n||e()})),this.writable||(a("we are currently writing - waiting to pause"),n++,this.once("drain",function(){a("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;a("polling got data %s",t);var r=function(t,r,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){a("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){"use strict";function n(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(t){var r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=(0,h.getByDot)(t,u);if(void 0!==c){if("string"!=typeof c&&null!==c)throw new l.BadRequest("Expected string data. (lowercase "+u+")");(0,h.setByDot)(t,u,c?c.toLowerCase():c)}}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}},i=function(){return!0};return"function"==typeof e[e.length-1]&&(i=e.pop(),console.error("DEPRECATED Predicate func will be removed next version. (lowerCase)")),function(t){var e="before"===t.type?t.data:t.result,r=function(r){return e&&r&&("find"===t.method||Array.isArray(e)?(e.data||e).forEach(n):n(e)),t},o=i(t);return o&&"function"==typeof o.then?o.then(r):r(o)}}function i(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(t){var r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=(0,h.getByDot)(t,u);void 0!==c&&(0,h.setByDot)(t,u,void 0,!0)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}},i=function(){return!0};return"function"==typeof e[e.length-1]&&(i=e.pop(),console.error("DEPRECATED Predicate func will be removed next version. (removeQuery)")),function(t){if("after"===t.type){var e=t.params.provider||"server";throw new l.GeneralError("Provider '"+e+"' cannot remove query params on after hook. (removeQuery)")}var r=t.params.query,o=function(e){return r&&e&&n(r),t},s=i(t);return s&&"function"==typeof s.then?s.then(o):o(s)}}function o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(t){var r={};return e.forEach(function(e){var n=(0,h.getByDot)(t,e);void 0!==n&&(0,h.setByDot)(r,e,n)}),r},i=function(){return!0};return"function"==typeof e[e.length-1]&&(i=e.pop(),console.error("DEPRECATED Predicate func will be removed next version. (pluckQuery)")),function(t){if("after"===t.type)throw new l.GeneralError("Provider '"+t.params.provider+"' can not pluck query params on after hook. (pluckQuery)");var e=t.params.query,r=function(r){return e&&r&&(t.params.query=n(e)),t},o=i(t);return o&&"function"==typeof o.then?o.then(r):r(o)}}function s(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(t){var r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=(0,h.getByDot)(t,u);void 0!==c&&(0,h.setByDot)(t,u,void 0,!0)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}},i=function(t){return!!t.params.provider};return"function"==typeof e[e.length-1]&&(i=e.pop()),function(t){var e="before"===t.type?t.data:t.result,r=function(r){return e&&r&&(Array.isArray(e)?e.forEach(n):(n(e),e.data&&(Array.isArray(e.data)?e.data.forEach(n):n(e.data)))),t},o=i(t);return o&&"function"==typeof o.then?o.then(r):r(o)}}function u(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(t){var r={};return e.forEach(function(e){var n=(0,h.getByDot)(t,e);void 0!==n&&(0,h.setByDot)(r,e,n)}),r},i=function(t){return!!t.params.provider};return"function"==typeof e[e.length-1]&&(i=e.pop(),console.error("DEPRECATED Predicate func will be removed next version. (pluck)")),function(t){var e=function(e){if(e){var r=(0,h.getItems)(t);r&&(Array.isArray(r)?(0,h.replaceItems)(t,r.map(n)):(0,h.replaceItems)(t,n(r)))}return t},r=i(t);return r&&"function"==typeof r.then?r.then(e):e(r)}}function c(t){if(!t)return function(t){throw new l.MethodNotAllowed("Calling '"+t.method+"' not allowed. (disable)")};if("function"==typeof t)return function(e){var r=t(e),n=function(t){if(!t)throw new l.MethodNotAllowed("Calling '"+e.method+"' not allowed. (disable)")};return r&&"function"==typeof r.then?r.then(n):void n(r)};for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=[t].concat(r);return function(e){var r=e.params.provider;if("external"===t&&r||i.indexOf(r)!==-1)throw new l.MethodNotAllowed("Provider '"+e.params.provider+"' can not call '"+e.method+"'. (disable)'")}}function a(t,e){if(e=Object.assign({},e),console.error("Calling populate(target, options) is now DEPRECATED and will be removed in the future. Refer to docs.feathersjs.com for more information. (legacyPopulate)"),!e.service)throw new Error("You need to provide a service. (populate)");var r=e.field||t;return function(n){function i(i){if(!i[r])return Promise.resolve(i);var o=i[r];"function"==typeof i.toObject?i=i.toObject(e):"function"==typeof i.toJSON&&(i=i.toJSON(e));var s=Object.assign({},n.params,{query:void 0}),u=Array.isArray(o)?Promise.all(o.map(function(t){return n.app.service(e.service).get(t,s)})):n.app.service(e.service).get(o,s);return u.then(function(e){return e&&(i[t]=e),i})}if("after"!==n.type)throw new l.GeneralError("Can not populate on before hook. (populate)");var o="find"===n.method&&n.result.data,s=o?n.result.data:n.result;return Array.isArray(s)?Promise.all(s.map(i)).then(function(t){return o?n.result.data=t:n.result=t,n}):i(n.result).then(function(t){return n.result=t,n})}}Object.defineProperty(e,"__esModule",{value:!0}),e.lowerCase=n,e.removeQuery=i,e.pluckQuery=o,e.remove=s,e.pluck=u,e.disable=c,e.legacyPopulate=a;var h=r(61),l=r(19).errors},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getByDot=function(t,e){return e.indexOf(".")===-1?t[e]:e.split(".").reduce(function(t,e){return"object"===("undefined"==typeof t?"undefined":r(t))?t[e]:void 0},t)},e.setByDot=function(t,e,n,i){if(e.indexOf(".")===-1)return t[e]=n,void(void 0===n&&i&&delete t[e]);var o=e.split("."),s=o.length-1;return o.reduce(function(t,e,o){return o!==s?(t.hasOwnProperty(e)&&"object"===r(t[e])||(t[e]={}),t[e]):(t[e]=n,void 0===n&&i&&delete t[e],t)},t)},e.checkContext=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anonymous";if(e&&t.type!==e)throw new Error("The '"+n+"' hook can only be used as a '"+e+"' hook.");if(r){var i=Array.isArray(r)?r:[r];if(i.length>0&&i.indexOf(t.method)===-1){var o=JSON.stringify(i);throw new Error("The '"+n+"' hook can only be used on the '"+o+"' service method(s).")}}},e.getItems=function(t){var e="before"===t.type?t.data:t.result;return e&&"find"===t.method?e.data||e:e},e.replaceItems=function(t,e){"before"===t.type?t.data=e:"find"===t.method&&t.result&&t.result.data?Array.isArray(e)?(t.result.data=e,t.result.total=e.length):(t.result.data=[e],t.result.total=1):t.result=e}},function(t,e,r){t.exports=r(156)},function(t,e,r){(function(e){function n(t){function r(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(i(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&r(t[o]))return!0}return!1}return r(t)}var i=r(65);t.exports=n}).call(e,function(){return this}())},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");i!=-1&&o!=-1&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=r.exec(t||""),u={},c=14;c--;)u[n[c]]=s[c]||"";return i!=-1&&o!=-1&&(u.source=e,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},function(t,e){"use strict";var r=String.prototype.replace,n=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,n,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(t,e){"use strict";var r=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)"undefined"!=typeof t[n]&&(r[n]=t[n]);return r},e.merge=function(t,n,i){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(i.plainObjects||i.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=e.arrayToObject(t,i)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){r.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],n,i):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,r){var o=n[r];return Object.prototype.hasOwnProperty.call(t,r)?t[r]=e.merge(t[r],o,i):t[r]=o,t},o)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",i=0;i<e.length;++i){var o=e.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=e.charAt(i):o<128?r+=n[o]:o<2048?r+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?r+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(i)),r+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return r},e.compact=function(t,r){if("object"!=typeof t||null===t)return t;var n=r||[],i=n.indexOf(t);if(i!==-1)return n[i];if(n.push(t),Array.isArray(t)){for(var o=[],s=0;s<t.length;++s)t[s]&&"object"==typeof t[s]?o.push(e.compact(t[s],n)):"undefined"!=typeof t[s]&&o.push(t[s]);return o}var u=Object.keys(t);return u.forEach(function(r){t[r]=e.compact(t[r],n)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&"undefined"!=typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(36),s=function(t){function e(e){t.call(this),this._value=e}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=s},function(t,e){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(5),o=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);r!==-1&&e.splice(r,1)}}},e}(i.Subscription);e.SubjectSubscription=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(1),s=r(2),u=r(5),c=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u.Subscription,t.add(this.source.subscribe(new h(this.getSubject(),this))),t.closed?(this._connection=null,t=u.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new l(this))},e}(o.Observable);e.ConnectableObservable=c;var a=c.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}};var h=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new p(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),p=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()},e}(s.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(12),o=r(95),s=r(97),u=r(74),c=r(312),a=r(11),h=r(301),l=r(24),p=r(1),f=r(53),d=r(33),b=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return n(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[d.observable])return t instanceof p.Observable&&!r?t:new e(t,r);if(i.isArray(t))return new a.ArrayObservable(t,r);if(s.isPromise(t))return new u.PromiseObservable(t,r);if("function"==typeof t[l.iterator]||"string"==typeof t)return new c.IteratorObservable(t,r);if(o.isArrayLike(t))return new h.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new f.ObserveOnSubscriber(t,r,0))},e}(p.Observable);e.FromObservable=b},function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function i(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(8),u=r(1),c=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return o(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(n,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(o.schedule(n,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(u.Observable);e.PromiseObservable=c},function(t,e,r){"use strict";function n(){if(p.root.XMLHttpRequest)return new p.root.XMLHttpRequest;if(p.root.XDomainRequest)return new p.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(p.root.XMLHttpRequest)return new p.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=e[r],new p.root.ActiveXObject(t))break}catch(t){}return new p.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(t,e){return void 0===e&&(e=null),new m({method:"GET",url:t,headers:e})}function s(t,e,r){return new m({method:"POST",url:t,body:e,headers:r})}function u(t,e){return new m({method:"DELETE",url:t,headers:e})}function c(t,e,r){return new m({method:"PUT",url:t,body:e,headers:r})}function a(t,e,r){return new m({method:"PATCH",url:t,body:e,headers:r})}function h(t,e){return new m({method:"GET",url:t,responseType:"json",headers:e}).lift(new v.MapOperator(function(t,e){return t.response},null))}var l=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},p=r(8),f=r(9),d=r(7),b=r(1),y=r(2),v=r(52);e.ajaxGet=o,e.ajaxPost=s,e.ajaxDelete=u,e.ajaxPut=c,e.ajaxPatch=a,e.ajaxGetJSON=h;var m=function(t){function e(e){t.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?n.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);this.request=r}return l(e,t),e.prototype._subscribe=function(t){return new _(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=o,t.post=s,t.delete=u,t.put=c,t.patch=a,t.getJSON=h,t}(),e}(b.Observable);e.AjaxObservable=m;var _=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||p.root.FormData&&r.body instanceof p.root.FormData||"undefined"==typeof r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return l(e,t),e.prototype.next=function(t){this.done=!0;var e=this,r=e.xhr,n=e.request,i=e.destination,o=new w(t,r,n);i.next(o)},e.prototype.send=function(){var t=this,e=t.request,r=t.request,n=r.user,i=r.method,o=r.url,s=r.async,u=r.password,c=r.headers,a=r.body,h=e.createXHR,l=f.tryCatch(h).call(e);if(l===d.errorObject)this.error(d.errorObject.e);else{this.xhr=l,this.setupEvents(l,e);var p=void 0;if(p=n?f.tryCatch(l.open).call(l,i,o,s,n,u):f.tryCatch(l.open).call(l,i,o,s),p===d.errorObject)return this.error(d.errorObject.e),null;if(s&&(l.timeout=e.timeout,l.responseType=e.responseType),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),this.setHeaders(l,c),p=a?f.tryCatch(l.send).call(l,a):f.tryCatch(l.send).call(l),p===d.errorObject)return this.error(d.errorObject.e),null}return l},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(p.root.FormData&&t instanceof p.root.FormData)return t;if(e){var r=e.indexOf(";");r!==-1&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){function r(t){var e=r,n=e.subscriber,i=e.progressSubscriber,o=e.request;i&&i.error(t),n.error(new x(this,o))}function n(t){var e=n,r=e.subscriber,i=e.progressSubscriber,o=e.request;if(4===this.readyState){var s=1223===this.status?204:this.status,u="text"===this.responseType?this.response||this.responseText:this.response;0===s&&(s=u?200:0),200<=s&&s<300?(i&&i.complete(),r.next(t),r.complete()):(i&&i.error(t),r.error(new g("ajax error "+s,this,o)))}}var i=e.progressSubscriber;if(t.ontimeout=r,r.request=e,r.subscriber=this,r.progressSubscriber=i,t.upload&&"withCredentials"in t){if(i){var o;o=function(t){var e=o.progressSubscriber;e.next(t)},p.root.XDomainRequest?t.onprogress=o:t.upload.onprogress=o,o.progressSubscriber=i}var s;s=function(t){var e=s,r=e.progressSubscriber,n=e.subscriber,i=e.request;r&&r.error(t),n.error(new g("ajax error",this,i))},t.onerror=s,s.request=e,s.subscriber=this,s.progressSubscriber=i}t.onreadystatechange=n,n.subscriber=this,n.progressSubscriber=i,n.request=e},e.prototype.unsubscribe=function(){var e=this,r=e.done,n=e.xhr;!r&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),t.prototype.unsubscribe.call(this)},e}(y.Subscriber);e.AjaxSubscriber=_;var w=function(){function t(t,e,r){switch(this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.responseType){case"json":"response"in e?this.response=e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):this.response=JSON.parse(e.responseText||"null");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}();e.AjaxResponse=w;var g=function(t){function e(e,r,n){t.call(this,e),this.message=e,this.xhr=r,this.request=n,this.status=r.status}return l(e,t),e}(Error);e.AjaxError=g;var x=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return l(e,t),e}(g);e.AjaxTimeoutError=x},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(9),u=r(7);e.distinctUntilChanged=n;var c=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=s.tryCatch(this.keySelector)(t),r===u.errorObject))return this.destination.error(u.errorObject.e);var n=!1;if(this.hasKey){if(n=s.tryCatch(this.compare)(this.key,r),n===u.errorObject)return this.destination.error(u.errorObject.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=r,this.destination.next(t))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.filter=n;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0,this.predicate=r}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new s(t,this,!1,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.find=n;var s=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=s;var u=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,r=e.predicate,n=e.thisArg,i=this.index++;try{var o=r.call(n||this,t,i,this.source);o&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(o.Subscriber);e.FindValueSubscriber=u},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return c.isScheduler(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof i&&(r=t.pop()),null===n&&1===t.length&&t[0]instanceof o.Observable?t[0]:new s.ArrayObservable(t,n).lift(new u.MergeAllOperator(r))}var o=r(1),s=r(11),u=r(32),c=r(13);e.merge=n,e.mergeStatic=i},function(t,e,r){
"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new u(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(4),s=r(3);e.mergeMap=n;var u=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=u;var c=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=c},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new u(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.mergeMapTo=n;var u=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=u;var c=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,n,i){this.add(s.subscribeToResult(this,t,n,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,n):u.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i,o=this,s=o.resultSelector,u=o.destination;try{i=s(t,e,r,n)}catch(t){return void u.error(t)}u.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapToSubscriber=c},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&u.isArray(t[0])&&(t=t[0]),this.lift(new h(t))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&u.isArray(t[0])&&(t=t[0]),r=t.shift(),new s.FromObservable(r,null).lift(new h(t))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(73),u=r(12),c=r(3),a=r(4);e.onErrorResumeNext=n,e.onErrorResumeNextStatic=i;var h=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.nextSources))},t}(),l=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return o(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(a.subscribeToResult(this,t)):this.destination.complete()},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!s.isArray(t[0]))return t[0];t=t[0]}return new u.ArrayObservable(t).lift(new h)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(12),u=r(11),c=r(3),a=r(4);e.race=n,e.raceStatic=i;var h=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}();e.RaceOperator=h;var l=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=a.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(c.OuterSubscriber);e.RaceSubscriber=l},function(t,e,r){"use strict";function n(t,r){return void 0===r&&(r=e.defaultThrottleConfig),this.lift(new u(t,r.leading,r.trailing))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=n;var u=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector,this.leading,this.trailing))},t}(),c=function(t){function e(e,r,n,i){t.call(this,e),this.destination=e,this.durationSelector=r,this._leading=n,this._trailing=i,this._hasTrailingValue=!1}return i(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=s.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype._unsubscribe=function(){var t=this,e=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,r=t.throttled,n=t._trailing,i=t._trailingValue,o=t._hasTrailingValue;r&&n&&o&&(e.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,r,n,i){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=s.async),this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(10);e.timeInterval=n;var u=function(){function t(t,e){this.value=t,this.interval=e}return t}();e.TimeInterval=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.scheduler))},t}(),a=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new u(t,r))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=s.async),this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(10);e.timestamp=n;var u=function(){function t(t,e){this.value=t,this.timestamp=e}return t}();e.Timestamp=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.scheduler))},t}(),a=function(t){function e(e,r){t.call(this,e),this.scheduler=r}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new u(t,e))},e}(o.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(22),o=r(23),s=function(t){function e(e,r){var n=this;void 0===e&&(e=u),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e,function(){return n.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return n(e,t),e.prototype.flush=function(){for(var t,e,r=this,n=r.actions,i=r.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=i&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(o.AsyncScheduler);e.VirtualTimeScheduler=s;var u=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1),t.call(this,e,r),this.scheduler=e,this.work=r,this.index=n,this.active=!0,this.index=e.index=n}return n(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(this.active===!0)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction);e.VirtualAction=u},function(t,e,r){"use strict";var n=r(430),i=r(431);e.asap=new i.AsapScheduler(n.AsapAction)},function(t,e,r){"use strict";var n=r(432),i=r(433);e.queue=new i.QueueScheduler(n.QueueAction)},function(t,e){"use strict";var r=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}();e.SubscriptionLog=r},function(t,e,r){"use strict";var n=r(90),i=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new n.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,r=e[t];e[t]=new n.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},t}();e.SubscriptionLoggable=i},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.TimeoutError=n},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(e,t),e}(Error);e.UnsubscriptionError=n},function(t,e){"use strict";function r(t,e){for(var r=0,n=e.length;r<n;r++)for(var i=e[r],o=Object.getOwnPropertyNames(i.prototype),s=0,u=o.length;s<u;s++){var c=o[s];t.prototype[c]=i.prototype[c]}}e.applyMixins=r},function(t,e){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},function(t,e){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e){"use strict";function r(){}e.noop=r},function(t,e,r){function n(t,e){return this instanceof n?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new u.Encoder,this.decoder=new u.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(t,e)}var i=r(113),o=r(101),s=r(102),u=r(56),c=r(100),a=r(57),h=r(40)("socket.io-client:manager"),l=r(64),p=r(108),f=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},n.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},s(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(t,e){if(h("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=i(this.uri,this.opts);var r=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=c(r,"open",function(){n.onopen(),t&&t()}),s=c(r,"error",function(e){if(h("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;h("connect attempt will timeout after %d",u);var a=setTimeout(function(){h("connect attempt timed out after %d",u),o.destroy(),r.close(),r.emit("error","timeout"),n.emitAll("connect_timeout",u)},u);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(o),this.subs.push(s),this},n.prototype.onopen=function(){h("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",a(this,"ondata"))),this.subs.push(c(t,"ping",a(this,"onping"))),this.subs.push(c(t,"pong",a(this,"onpong"))),this.subs.push(c(t,"error",a(this,"onerror"))),this.subs.push(c(t,"close",a(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",a(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){h("error",t),this.emitAll("error",t)},n.prototype.socket=function(t,e){function r(){~l(i.connecting,n)||i.connecting.push(n)}var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",r),n.on("connect",function(){n.id=i.engine.id}),this.autoConnect&&r()}return n},n.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},n.prototype.packet=function(t){h("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){h("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){h("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(t){h("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();h("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(h("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(h("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(h("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},n.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e){function r(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}t.exports=r},function(t,e,r){function n(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var i=r(56),o=r(102),s=r(456),u=r(100),c=r(57),a=r(40)("socket.io-client:socket"),h=r(63);t.exports=e=n;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;o(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[u(t,"open",c(this,"onopen")),u(t,"packet",c(this,"onpacket")),u(t,"close",c(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(l.hasOwnProperty(t))return p.apply(this,arguments),this;var e=s(arguments),r=i.EVENT;h(e)&&(r=i.BINARY_EVENT);var n={type:r,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){a("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:i.CONNECT,query:this.query}):this.packet({type:i.CONNECT}))},n.prototype.onclose=function(t){a("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},n.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];a("emitting event %j",e),null!=t.id&&(a("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var n=s(arguments);a("sending ack %j",n);var o=h(n)?i.BINARY_ACK:i.ACK;e.packet({type:o,id:t,data:n})}}},n.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(a("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):a("bad ack %s",t.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e,r){function n(t){if(t)return i(t)}function i(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){(function(e){function r(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=r}).call(e,function(){return this}())},function(t,e,r){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(447),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){"use strict";function r(t){var e="";do e=s[t%u]+e,t=Math.floor(t/u);while(t>0);return e}function n(t){var e=0;for(h=0;h<t.length;h++)e=e*u+c[t.charAt(h)];return e}function i(){var t=r(+new Date);return t!==o?(a=0,o=t):t+"."+r(a++)}for(var o,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),u=64,c={},a=0,h=0;h<u;h++)c[s[h]]=h;i.encode=r,i.decode=n,t.exports=i},function(t,e){function r(t,e,r){function i(t,n){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,e(t),e=r):0!==i.count||o||e(null,n)}var o=!1;return r=r||n,i.count=t,0===t?e():i}function n(){}t.exports=r},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(r-e),s=e,u=0;s<r;s++,u++)o[u]=i[s];return o.buffer}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),i=n.length,o="";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(3&n[r])<<4|n[r+1]>>4],o+=t[(15&n[r+1])<<2|n[r+2]>>6],o+=t[63&n[r+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,n,i,o,s,u=.75*t.length,c=t.length,a=0;"="===t[t.length-1]&&(u--,"="===t[t.length-2]&&u--);var h=new ArrayBuffer(u),l=new Uint8Array(h);for(e=0;e<c;e+=4)n=r[t.charCodeAt(e)],i=r[t.charCodeAt(e+1)],o=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],l[a++]=n<<2|i>>4,l[a++]=(15&i)<<4|o>>2,l[a++]=(3&o)<<6|63&s;return h}}()},function(t,e){(function(e){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var i=new Uint8Array(r.byteLength);i.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=i.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new o;r(t);for(var i=0;i<t.length;i++)n.append(t[i]);return e.type?n.getBlob(e.type):n.getBlob()}function i(t,e){return r(t),new Blob(t,e||{})}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(t){return!1}}(),u=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(t){return!1}}(),c=o&&o.prototype.append&&o.prototype.getBlob;t.exports=function(){return s?u?e.Blob:i:c?n:void 0}()}).call(e,function(){return this}())},function(t,e){function r(t){if(t)return n(t)}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){function n(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}function i(t){function r(){if(r.enabled){var t=r,n=+new Date,i=n-(a||n);t.diff=i,t.prev=a,t.curr=n,a=n;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var s=o[u];r=i.call(t,s),o.splice(u,1),u--}return r}),e.formatArgs.call(t,o);var c=r.log||e.log||console.log.bind(console);c.apply(t,o)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=n(t),"function"==typeof e.init&&e.init(r),r}function o(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&(t=r[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function u(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i.debug=i.default=i,e.coerce=c,e.disable=s,e.enable=o,e.enabled=u,e.humanize=r(160),e.names=[],e.skips=[],e.formatters={};var a},function(t,e,r){t.exports=r(114)},function(t,e,r){t.exports=r(115),t.exports.parser=r(18)},function(t,e,r){(function(e){function n(t,r){if(!(this instanceof n))return new n(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=h(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=h(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),
this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized,this.forceNode=!!r.forceNode;var i="object"==typeof e&&e;i.global===i&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function i(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var o=r(58),s=r(45),u=r(28)("engine.io-client:socket"),c=r(64),a=r(18),h=r(66),l=r(161),p=r(48);t.exports=n,n.priorWebsocketSuccess=!1,s(n.prototype),n.protocol=a.protocol,n.Socket=n,n.Transport=r(43),n.transports=r(58),n.parser=r(18),n.prototype.createTransport=function(t){u('creating transport "%s"',t);var e=i(this.query);e.EIO=a.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new o[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return r},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){u("setting transport %s",t.name);var e=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(p.onlyBinaryUpgrades){var e=!this.supportsBinary&&p.transport.supportsBinary;l=l||e}l||(u('probe transport "%s" opened',t),h.send([{type:"ping",data:"probe"}]),h.once("packet",function(e){if(!l)if("pong"===e.type&&"probe"===e.data){if(u('probe transport "%s" pong',t),p.upgrading=!0,p.emit("upgrading",h),!h)return;n.priorWebsocketSuccess="websocket"===h.name,u('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){l||"closed"!==p.readyState&&(u("changing transport and sending upgrade packet"),a(),p.setTransport(h),h.send([{type:"upgrade"}]),p.emit("upgrade",h),h=null,p.upgrading=!1,p.flush())})}else{u('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=h.name,p.emit("upgradeError",r)}}))}function r(){l||(l=!0,a(),h.close(),h=null)}function i(e){var n=new Error("probe error: "+e);n.transport=h.name,r(),u('probe transport "%s" failed because of error: %s',t,e),p.emit("upgradeError",n)}function o(){i("transport closed")}function s(){i("socket closed")}function c(t){h&&t.name!==h.name&&(u('"%s" works - aborting "%s"',t.name,h.name),r())}function a(){h.removeListener("open",e),h.removeListener("error",i),h.removeListener("close",o),p.removeListener("close",s),p.removeListener("upgrading",c)}u('probing transport "%s"',t);var h=this.createTransport(t,{probe:1}),l=!1,p=this;n.priorWebsocketSuccess=!1,h.once("open",e),h.once("error",i),h.once("close",o),this.once("close",s),this.once("upgrading",c),h.open()},n.prototype.onOpen=function(){if(u("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){u("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(u('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(l(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else u('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){u("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var i={type:t,data:e,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),u("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function r(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){u("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){u('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~c(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,function(){return this}())},function(t,e,r){(function(e){function n(){}function i(t){o.call(this,t),this.query=this.query||{},u||(e.___eio||(e.___eio=[]),u=e.___eio),this.index=u.length;var r=this;u.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=n)},!1)}var o=r(59),s=r(26);t.exports=i;var u,c=/\n/g,a=/\\n/g;s(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},i.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(t)}catch(t){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,s=document.createElement("form"),u=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=h,s.method="POST",s.setAttribute("accept-charset","utf-8"),u.name="d",s.appendChild(u),document.body.appendChild(s),this.form=s,this.area=u}this.form.action=this.uri(),n(),t=t.replace(a,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&r()}:this.iframe.onload=r}}).call(e,function(){return this}())},function(t,e,r){(function(e){function n(){}function i(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}else this.extraHeaders=t.extraHeaders}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var u=r(44),c=r(59),a=r(45),h=r(26),l=r(28)("engine.io-client:polling-xhr");t.exports=i,t.exports.Request=o,h(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new o(t)},i.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),i=this;n.on("success",e),n.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=n},i.prototype.doPoll=function(){l("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},a(o.prototype),o.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new u(t),n=this;try{l("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.extraHeaders[i])}}catch(t){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?n.onLoad():setTimeout(function(){n.onError(r.status)},0))},l("xhr data %s",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}e.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},o.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(t){}e.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var r=new Uint8Array(this.xhr.response),n=[],i=0,o=r.length;i<o;i++)n.push(r[i]);t=String.fromCharCode.apply(null,n)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",s):e.addEventListener&&e.addEventListener("beforeunload",s,!1))}).call(e,function(){return this}())},function(t,e,r){(function(e){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=l&&!t.forceNode,this.usingBrowserWebSocket||(p=i),o.call(this,t)}var i,o=r(43),s=r(18),u=r(48),c=r(26),a=r(105),h=r(28)("engine.io-client:websocket"),l=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{i=r(461)}catch(t){}var p=l;p||"undefined"!=typeof window||(p=i),t.exports=n,c(n,o),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new p(t):new p(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){function r(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var i=t.length,o=0,u=i;o<u;o++)!function(t){s.encodePacket(t,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate){var u="string"==typeof o?e.Buffer.byteLength(o):o.length;u<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,s)}catch(t){h("websocket closed before onclose event")}--i||r()})}(t[o])},n.prototype.onClose=function(){o.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||(t.b64=1),t=u.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===n.prototype.name)}}).call(e,function(){return this}())},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function i(t){function r(){}function i(){var t=i,r=+new Date,o=r-(a||r);t.diff=o,t.prev=a,t.curr=r,a=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;c++;var i=e.formatters[n];if("function"==typeof i){var o=s[c];r=i.call(t,o),s.splice(c,1),c--}return r}),s=e.formatArgs.apply(t,s);var h=i.log||e.log||console.log.bind(console);h.apply(t,s)}r.enabled=!1,i.enabled=!0;var o=e.enabled(t)?i:r;return o.namespace=t,o}function o(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&(t=r[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function u(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i.debug=i,e.coerce=c,e.disable=s,e.enable=o,e.enabled=u,e.humanize=r(120),e.names=[],e.skips=[],e.formatters={};var a,h=0},function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*u;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=a?Math.round(t/a)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function i(t){return o(t,a,"day")||o(t,c,"hour")||o(t,u,"minute")||o(t,s,"second")||t+" ms"}function o(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,u=60*s,c=60*u,a=24*c,h=365.25*a;t.exports=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return r(t);if("number"===o&&isNaN(t)===!1)return e.long?i(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){t.exports=r(124)},function(t,e){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(){return function(t){var e=t.app;Object.assign(t.params,{user:e.get("user"),token:e.get("token")})}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){e.params.token&&(e.params.headers=Object.assign({},r({},t.header||"authorization",e.params.token),e.params.headers))}}Object.defineProperty(e,"__esModule",{value:!0}),e.populateParams=n,e.populateHeader=i},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},h,t);return function(){var t=this;t.get("storage")||t.set("storage",(0,a.getStorage)(e.storage)),t.authenticate=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.get("storage"),i=Promise.resolve(r);r.type||(i=(0,a.getJWT)(e.tokenKey,e.cookie,this.get("storage")).then(function(t){return t?{type:"token",token:t}:Promise.reject(new s.default.NotAuthenticated("Could not find stored JWT and no authentication type was given"))}));var o=function(r){return t.set("token",r.token),t.set("user",r.data),Promise.resolve(n.setItem(e.tokenKey,r.token)).then(function(){return r})};return i.then(function(r){var n=void 0;if(r.endpoint)n=r.endpoint;else if("local"===r.type)n=e.localEndpoint;else{if("token"!==r.type)throw new Error("Unsupported authentication 'type': "+r.type);n=e.tokenEndpoint}return(0,a.connected)(t).then(function(e){if(t.rest)return t.service(n).create(r).then(o);var i=t.io?"emit":"send";return(0,a.authenticateSocket)(r,e,i).then(o)})})},t.logout=function(){return t.set("user",null),t.set("token",null),(0,a.clearCookie)(e.cookie),Promise.resolve(t.get("storage").removeItem(e.tokenKey)).then(function(){if(t.io||t.primus){var e=t.io?"emit":"send",r=t.io?t.io:t.primus;return(0,a.logoutSocket)(r,e)}})},t.mixins.push(function(t){if("function"!=typeof t.before||"function"!=typeof t.after)throw new Error("It looks like feathers-hooks isn't configured. It is required before running feathers-authentication.");t.before(c.populateParams(e))}),t.rest&&t.mixins.push(function(t){t.before(c.populateHeader(e))})}};var o=r(19),s=i(o),u=r(123),c=n(u),a=r(125),h={cookie:"feathers-jwt",tokenKey:"feathers-jwt",localEndpoint:"/auth/local",tokenEndpoint:"/auth/token"};t.exports=e.default},function(t,e){"use strict";function r(t){return new Promise(function(e,r){if(t.rest)return e();var n=t.io||t.primus;if(!n)return r(new Error("It looks like no client connection has been configured."));if(n.once("disconnect",r),n.once("close",r),t.io&&!n.connected||t.primus&&3!==n.readyState){var i=t.primus?"open":"connect";n.once(i,function(){return e(n)})}else e(n)})}function n(t,e,r){return new Promise(function(n,i){e.once("unauthorized",i),e.once("authenticated",n),e[r]("authenticate",t)})}function i(t,e){return new Promise(function(r,n){t[e]("logout",function(t){t&&n(t),r()})})}function o(t){if("undefined"!=typeof document){var e="; "+document.cookie,r=e.split("; "+t+"=");if(2===r.length)return r.pop().split(";").shift()}return null}function s(t){return"undefined"!=typeof document&&(document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"),null}function u(t,e,r){return Promise.resolve(r.getItem(t)).then(function(t){var r=o(e);return r?r:t})}function c(t){return t?t:{store:{},getItem:function(t){return this.store[t]},setItem:function(t,e){return this.store[t]=e},removeItem:function(t){return delete this.store[t],this}}}Object.defineProperty(e,"__esModule",{value:!0}),e.connected=r,e.authenticateSocket=n,e.logoutSocket=i,e.getCookie=o,e.clearCookie=s,e.getJWT=u,e.getStorage=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(129),o=n(i),s=r(149),u=n(s),c=r(127),a=n(c),h=r(143),l=n(h),p=r(142),f=n(p),d=r(122),b=n(d);Object.assign(o.default,{socketio:a.default,primus:l.default,rest:u.default,hooks:f.default,authentication:b.default}),e.default=o.default,t.exports=e.default},function(t,e,r){t.exports=r(128)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=function(t,e){if(!t)throw new Error("Socket.io connection needs to be provided");var r=function(r){var n=i({},e,{name:r,connection:t,method:"emit"});return new s.default(n)},n=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.io=t,this.defaultService=r};return n.Service=s.default,n.service=r,n};var o=r(62),s=n(o);t.exports=e.default},function(t,e,r){t.exports=r(132)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(27),o=n(i),s=r(16),u=r(41),c=n(u),a=r(135),h=n(a),l=(0,o.default)("feathers:application"),p=["find","get","create","update","patch","remove"],f=c.default.extend({create:null});e.default={init:function(){Object.assign(this,{methods:p,mixins:(0,h.default)(),services:{},providers:[],_setup:!1})},service:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t=(0,s.stripSlashes)(t),!e){var i=this.services[t];return"undefined"==typeof i&&"function"==typeof this.defaultService?this.service(t,this.defaultService(t),n):i}var o=f.extend(e);return l("Registering new service at `"+t+"`"),this.mixins.forEach(function(t){return t.call(r,o)}),"function"==typeof o._setup&&o._setup(this,t),this.providers.forEach(function(e){return e.call(r,t,o,n)}),this._isSetup&&"function"==typeof o.setup&&(l("Setting up service for `"+t+"`"),o.setup(this,t)),this.services[t]=o},use:function(t){var e=void 0,r=Array.from(arguments).slice(1).reduce(function(t,r){if("function"==typeof r)t[e?"after":"before"].push(r);else{if(e)throw new Error("invalid arg passed to app.use");e=r}return t},{before:[],after:[]}),n=function(t){return t.some(function(t){return e&&"function"==typeof e[t]})};return n(["handle","set"])||!n(this.methods.concat("setup"))?this._super.apply(this,arguments):(this.service(t,e,{middleware:r}),this)},setup:function(){var t=this;return Object.keys(this.services).forEach(function(e){var r=t.services[e];l("Setting up service for `"+e+"`"),"function"==typeof r.setup&&r.setup(t,e)}),this._isSetup=!0,this},configure:function(t){return t.call(this),this},listen:function(){var t=this._super.apply(this,arguments);return this.setup(t),l("Feathers application listening"),t}},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={settings:{},get:function(t){return this.settings[t]},set:function(t,e){return this.settings[t]=e,this},disable:function(t){return this.settings[t]=!1,this},disabled:function(t){return!this.settings[t]},enable:function(t){return this.settings[t]=!0,this},enabled:function(t){return!!this.settings[t]},use:function(){throw new Error("Middleware functions can not be used in the Feathers client")},listen:function(){return{}}};return s.default.mixin(i.EventEmitter.prototype,t),t};var i=r(46),o=r(41),s=n(o);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){return(0,s.default)(c.default.apply(void 0,arguments))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(133),s=n(o),u=r(131),c=n(u);i.version="2.0.1",t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return s.default.mixin(c.default,t),t.init(),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(41),s=n(o),u=r(130),c=n(u);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.charAt(0).toUpperCase()+t.substring(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this,r="function"==typeof t.on&&"function"==typeof t.emit,n=t._rubberDuck=s.default.emitter(t);"function"!=typeof t.mixin||r||t.mixin(u.EventEmitter.prototype),t._serviceEvents=Array.isArray(t.events)?t.events.slice():[],n.on("error",function(e){t.emit("serviceError",e[0])}),Object.keys(h).forEach(function(r){var o=h[r],s=t._serviceEvents.indexOf(o)!==-1;if("function"==typeof t[r]&&!s){var u="after"+i(r);t._serviceEvents.push(o),n.punch(r,-1),n.on(u,function(n,i){n[0]?t.emit("serviceError",n[0]):!function(){var s=a(r,"after",i),u=Array.isArray(n[1])?n[1]:[n[1]];s.app=e,u.forEach(function(e){return t.emit(o,e,s)})}()})}})};var o=r(165),s=n(o),u=r(46),c=r(16),a=c.hooks.hookObject,h={create:"created",update:"updated",remove:"removed",patch:"patched"};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=[r(137),r(134),r(136)];return t.push=function(){var t=[this.length-1,0].concat(Array.from(arguments));return this.splice.apply(this,t),this.length},t},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this;"function"==typeof t.mixin&&!function(){var r={};e.methods.forEach(function(e){"function"==typeof t[e]&&(r[e]=function(){return this._super.apply(this,(0,n.getArguments)(e,arguments))})}),t.mixin(r)}()};var n=r(16);t.exports=e.default},function(t,e){"use strict";function r(t){return"undefined"!=typeof t&&"function"==typeof t.then}function n(){var t=this._super.apply(this,arguments),e=arguments[arguments.length-1];return"function"==typeof e&&r(t)&&t.then(function(t){return e(null,t)},function(t){return e(t)}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this;"function"==typeof t.mixin&&!function(){var r={};e.methods.forEach(function(e){"function"==typeof t[e]&&(r[e]=n)}),t.mixin(r)}()},t.exports=e.default},function(t,e){"use strict";function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function n(t,e){return a[t](e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var i=e.noop=function(){},o=function(t){var e=t[t.length-1];return"function"==typeof e?e:i},s=function(t,e){return"object"===r(t[e])?t[e]:{}},u=function(t){return function(e){
var n=e[0],i=e[1],u=o(e),c=s(e,2);if("function"==typeof n)throw new Error("First parameter for '"+t+"' can not be a function");if("object"!==("undefined"==typeof i?"undefined":r(i)))throw new Error("No data provided for '"+t+"'");if(e.length>4)throw new Error("Too many arguments for '"+t+"' service method");return[n,i,c,u]}},c=function(t){return function(e){var r=e[0],n=s(e,1),i=o(e);if(e.length>3)throw new Error("Too many arguments for '"+t+"' service method");if("function"==typeof r)throw new Error("First parameter for '"+t+"' can not be a function");return[r,n,i]}},a=e.converters={find:function(t){var e=o(t),r=s(t,0);if(t.length>2)throw new Error("Too many arguments for 'find' service method");return[r,e]},create:function(t){var e=t[0],n=s(t,1),i=o(t);if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new Error("First parameter for 'create' must be an object");if(t.length>3)throw new Error("Too many arguments for 'create' service method");return[e,n,i]},update:u("update"),patch:u("patch"),get:c("get"),remove:c("remove")}},function(t,e,r){"use strict";function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function i(t){return{id:t[0],params:t[1],callback:t[2]}}function o(t){return{id:t[0],data:t[1],params:t[2],callback:t[3]}}function s(t,e,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],i=p[t](r);return i.method=t,i.type=e,"function"==typeof n?i.app=n:h(i,n),i}function u(t){var e=[];return"undefined"!=typeof t.id&&e.push(t.id),t.data&&e.push(t.data),e.push(t.params||{}),e.push(t.callback),e}function c(t){return"find"===t.method?[t.params,t.callback]:"get"===t.method||"remove"===t.method?[t.id,t.params,t.callback]:"update"===t.method||"patch"===t.method?[t.id,t.data,t.params,t.callback]:"create"===t.method?[t.data,t.params,t.callback]:u(t)}function a(t){var e={};return Array.isArray(t)?e={all:t}:"object"!==("undefined"==typeof t?"undefined":n(t))?e={all:[t]}:(0,l.each)(t,function(t,r){e[r]=Array.isArray(t)?t:[t]}),e}var h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};Object.defineProperty(e,"__esModule",{value:!0});var l=r(29),p={find:function(t){return{params:t[0],callback:t[1]}},create:function(t){return{data:t[0],params:t[1],callback:t[2]}},get:i,remove:i,update:o,patch:o};e.default={hookObject:s,hook:s,converters:p,defaultMakeArguments:u,makeArguments:c,convertHookData:a},t.exports=e.default},function(t,e,r){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function s(t,e,r,n,i){return Array.isArray(r)?Promise.all(r.map(function(r){return u(t,e,r,n,i+1)})):u(t,e,r,n,i+1)}function u(e,r,n,i,s){var u={},h=t.hrtime();return n._include=[],Promise.all(i.map(function(i){var o=t.hrtime();return c(e,r,n,i,s).then(function(t){var r=i.nameAs||i.service;return u[r]=a(e,o,s),t})})).then(function(t){return e.profile!==!1&&(u.total=a(e,h,s),n._elapsed=u),Object.assign.apply(Object,[n].concat(o(t)))})}function c(t,e,r,n,o){if(!n.service||!n.parentField||!n.childField)throw new p.default.BadRequest("Child schema is missing a required property. (populate)");if(n.permissions&&!t.checkPermissions(e,n.service,n.permissions,o))throw new p.default.BadRequest("Permissions for "+n.service+" do not allow include. (populate)");var u=n.nameAs||n.service;r._include.push(u);var c=Promise.resolve().then(function(){return n.select?n.select(e,r,o):{}}).then(function(t){var s=(0,f.getByDot)(r,n.parentField);if(void 0===s)throw new p.default.BadRequest("ParentField "+n.parentField+" for "+u+" depth "+o+" is undefined. (populate)");var c=Object.assign({},n.query,i({},n.childField,Array.isArray(s)?{$in:s}:s),t),a=e.app.service(n.service);if(!a)throw new p.default.BadRequest("Service "+n.service+" is not configured. (populate)");return a.find({query:c,_populate:"skip"})}).then(function(t){return t=t.data||t,1!==t.length||n.asArray||(t=t[0]),t});return n.include&&(c=c.then(function(r){return s(t,e,r,n.include,o)})),c.then(function(t){return i({},u,t)})}function a(e,r,n){if(e.profile===!0){var i=t.hrtime(r);return 1e9*i[0]+i[1]}if(e.profile!==!1)return n}Object.defineProperty(e,"__esModule",{value:!0}),e.populate=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=r(19),p=n(l),f=r(61),d=r(60);e.populate=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return"string"==typeof t?d.legacyPopulate.apply(void 0,[t].concat(r)):function(e){var r={schema:{},checkPermissions:function(){return!0},profile:!1};return"skip"===e.params._populate?e:Promise.resolve().then(function(){var n=(0,f.getItems)(e),i=Object.assign({},r,t),o=i.schema,u=i.checkPermissions,c="function"==typeof o?o(e,i):o,a=c.permissions||null;if("function"!=typeof u)throw new p.default.BadRequest("Permissions param is not a function. (populate)");if(a&&!u(e,e.path,a,0))throw new p.default.BadRequest("Permissions do not allow this populate. (populate)");if("object"!==("undefined"==typeof c?"undefined":h(c)))throw new p.default.BadRequest("Schema does not resolve to an object. (populate)");return c.include&&Object.keys(c.include).length?s(i,e,n,c.include,0):n}).then(function(t){return(0,f.replaceItems)(e,t),e})}}}).call(e,r(14))},function(t,e,r){"use strict";function n(t){return"object"===("undefined"==typeof t?"undefined":c(t))&&"string"==typeof t.method&&"string"==typeof t.type}function i(t,e){var r=this,i=e,o=function(t){if(t){if(!n(t))throw new Error(i.type+" hook for '"+i.method+"' method returned invalid hook object");i=t}return i},s=Promise.resolve(i);return t.forEach(function(t){var e=t.bind(r);s=2===e.length?s.then(function(t){return new Promise(function(r,n){e(t,function(t,e){return t?n(t):r(e)})})}):s.then(e),s=s.then(o)}),s.catch(function(t){throw t.hook=i,t})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["before","after","error"];Object.defineProperty(t,"__hooks",{value:{}}),e.forEach(function(e){t.__hooks[e]={}})}function s(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t.__hooks[r][n]||[],s=e.__hooks[r][n]||[];return i?s.concat(o):o.concat(s)}function u(t){for(var e={hooks:function(e){var r=this;return(0,a.each)(e,function(e,n){if(!r.__hooks[n])throw new Error("'"+n+"' is not a valid hook type");var i=a.hooks.convertHookData(e);(0,a.each)(i,function(e,r){if("all"!==r&&t.indexOf(r)===-1)throw new Error("'"+r+"' is not a valid hook method")}),t.forEach(function(t){if(i[t]||i.all){var e=r.__hooks[n][t]||(r.__hooks[n][t]=[]);i.all&&e.push.apply(e,i.all),i[t]&&e.push.apply(e,i[t])}})}),this}},r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Object.assign.apply(Object,[e].concat(n))}Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isHookObject=n,e.processHooks=i,e.addHookTypes=o,e.getHooks=s,e.baseMixin=u;var a=r(16)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t){return"undefined"!=typeof t&&"function"==typeof t.then}function s(t){var e=this,r=e.methods,n={before:t.before,after:t.after},s=(0,f.baseMixin)(r,{before:function(t){return this.hooks({before:t})},after:function(t){return this.hooks({after:t})}});(0,f.addHookTypes)(t),r.forEach(function(r){"function"==typeof t[r]&&(s[r]=function(){var t=this,n=this,s=this._super.bind(this),u={app:e,service:n,get path(){return Object.keys(e.services).find(function(t){return e.services[t]===n})}},c=h.hooks.hookObject(r,"before",arguments,u),a={before:(0,f.getHooks)(e,this,"before",r),after:(0,f.getHooks)(e,this,"after",r,!0),error:(0,f.getHooks)(e,this,"error",r,!0)};return f.processHooks.call(this,a.before,c).then(function(t){return"undefined"!=typeof t.result?Promise.resolve(t):new Promise(function(e,r){var n=h.hooks.makeArguments(t),u=function(n,i){n?r(n):(t.result=i,e(t))};n.splice(n.length-1,1,u);var c=s.apply(void 0,i(n));o(c)&&c.then(function(t){return u(null,t)},u)})}).then(function(t){return Object.assign({},t,{type:"after"})}).then(f.processHooks.bind(this,a.after)).then(function(t){return t.result}).catch(function(e){var r=Object.assign({},e.hook||c,{type:"error",original:e.hook,error:e});return f.processHooks.call(t,a.error,r).then(function(t){return Promise.reject(t.error)})})})}),t.mixin(s),n.before&&t.before(n.before),n.after&&t.after(n.after)}function u(){return function(){var t=this;(0,f.addHookTypes)(t),a.default.mixin((0,f.baseMixin)(t.methods),t),this.mixins.unshift(s)}}Object.defineProperty(e,"__esModule",{value:!0});var c=r(41),a=n(c),h=r(16),l=r(140),p=r(60),f=r(141);u.removeQuery=p.removeQuery,u.pluckQuery=p.pluckQuery,u.lowerCase=p.lowerCase,u.remove=p.remove,u.pluck=p.pluck,u.disable=p.disable,u.populate=l.populate,u.removeField=p.removeField,e.default=u,t.exports=e.default},function(t,e,r){t.exports=r(144)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!t)throw new Error("Primus connection needs to be provided");var r=function(r){return new o.default(Object.assign({},e,{name:r,connection:t,method:"send"}))},n=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.primus=t,this.defaultService=r};return n.Service=o.default,n.service=r,n};var i=r(62),o=n(i);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!t)throw new Error("You have to pass an instance of RxJS as the first paramter.");if(!t.Observable)throw new Error("The RxJS instance does not seem to provide an `Observable` type.");var r=(0,l.default)(t);e=Object.assign({idField:"id",dataField:"data",sorter:p.makeSorter,lazy:!1,matcher:o.matcher,listStrategy:"smart",listStrategies:r},e);var n=function r(n){var i=this,r={rx:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._rx=t,this}},o={created:t.Observable.fromEvent(n,"created"),updated:t.Observable.fromEvent(n,"updated"),patched:t.Observable.fromEvent(n,"patched"),removed:t.Observable.fromEvent(n,"removed")};i.methods.forEach(function(i){"function"==typeof n[i]&&(r[i]="find"===i?(0,a.default)(t,o,e):(0,u.default)(t,o,e,i))}),n.mixin(r)};return function(){f("Initializing feathers-reactive plugin"),this.mixins.push(n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(29),s=r(147),u=n(s),c=r(146),a=n(c),h=r(148),l=n(h),p=r(47),f=r(27)("feathers-reactive");i.strategy=l.default,e.default=i,t.exports=e.default},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments;if(this._rx===!1||o.rx===!1)return this._super.apply(this,n(s));var u=(0,i.getOptions)(r,this._rx,o.rx),c=(0,i.getSource)(t,u.lazy,this._super.bind(this),arguments),a=u.listStrategy.call(this,c,e,u,s);return(0,i.promisify)(a)}};var i=r(47);t.exports=e.default},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.paramsPositions=void 0,e.default=function(t,e,r,s){return function(){var u=arguments,c="undefined"!=typeof o[s]?o[s]:1,a=arguments[c]||{};if(this._rx===!1||a.rx===!1)return this._super.apply(this,n(u));var h=(0,i.getOptions)(r,this._rx,a.rx),l=(0,i.getSource)(t,h.lazy,this._super.bind(this),u),p=l.concat(l.exhaustMap(function(r){var n=function(t){return t[h.idField]===r[h.idField]},i=e.removed.filter(n),o=t.Observable.merge(e.created,e.updated,e.patched).filter(n);return t.Observable.merge(o,i.map(function(){return null}))}));return(0,i.promisify)(p)}};var i=r(47),o=e.paramsPositions={update:2,patch:2}},function(t,e){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{never:function(t){return t},always:function(e,r,i,o){var s=o[0]||{},u=Object.assign({},s.query),c=this._super.bind(this),a=i.matcher(u),h=i.sorter(u,i);return e.concat(e.exhaustMap(function(){return t.Observable.merge(r.created.filter(a),r.removed,r.updated,r.patched).flatMap(function(){var e=t.Observable.fromPromise(c.apply(void 0,n(o)));return e.map(h)})}))},smart:function(e,n,i,o){var s=o[0]||{},u=Object.assign({},s.query),c=i.matcher(u),a=i.sorter(u,i),h=function(t){return function(e){var n=!!e[i.dataField],o=function(e){return e.concat(t)};return n?Object.assign({},e,r({total:e.total+1},i.dataField,o(e[i.dataField]))):o(e)}},l=function(t){return function(e){var n=!!e[i.dataField],o=function(e){return e.filter(function(e){return t[i.idField]!==e[i.idField]})};return n?Object.assign({},e,r({total:c(t)?e.total-1:e.total},i.dataField,o(e[i.dataField]))):o(e)}},p=function(t){return function(e){var n=!!e[i.dataField],o=n?e[i.dataField].length:e.length,s=function(e){return e.filter(function(e){return t[i.idField]!==e[i.idField]}).concat(t).filter(c)};if(n){var u=s(e[i.dataField]);return Object.assign({},e,r({total:e.total-(o-u.length)},i.dataField,u))}return s(e)}};return e.concat(e.exhaustMap(function(e){return t.Observable.merge(n.created.filter(c).map(h),n.removed.map(l),t.Observable.merge(n.updated,n.patched).map(p)).scan(function(t,e){return a(e(t))},e)}))}}},t.exports=e.default},function(t,e,r){t.exports=r(152)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(20),h=n(a),l=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),c(e,[{key:"request",value:function(t){var e={url:t.url,method:t.method,data:t.body,headers:u({Accept:"application/json"},this.options.headers,t.headers)};return this.connection.request(e).then(function(t){return t.data}).catch(function(t){var e=t.response||t;throw e instanceof Error?e:e.data||e})}}]),e}(h.default);e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(20),h=n(a),l=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),c(e,[{key:"request",value:function(t){var e=u({},t);e.headers=u({Accept:"application/json"},this.options.headers,e.headers),t.body&&(e.body=JSON.stringify(t.body));var r=this.connection;return r(t.url,e).then(this.checkStatus).then(function(t){return 204===t.status?null:t.json()})}},{key:"checkStatus",value:function(t){return t.ok?t:t.json().then(function(e){throw e.response=t,e})}}]),e}(h.default);e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={};return Object.keys(d).forEach(function(r){var n=d[r];e[r]=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error(r+" has to be provided to feathers-rest");var o=function(r){return new n({base:t,name:r,connection:e,options:i})},s=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.rest=e,this.defaultService=o};return s.Service=n,s.service=o,s}}),e};var i=r(153),o=n(i),s=r(155),u=n(s),c=r(154),a=n(c),h=r(151),l=n(h),p=r(150),f=n(p),d={jquery:o.default,superagent:u.default,request:a.default,fetch:l.default,axios:f.default};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(20),h=n(a),l=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),c(e,[{key:"request",value:function(t){var e=this,r=u({dataType:t.type||"json"},{headers:this.options.headers||{}},t);return t.body&&(r.data=JSON.stringify(t.body),r.contentType="application/json"),delete r.type,delete r.body,new Promise(function(t,n){e.connection.ajax(r).then(t,function(t){var e=t.responseText;try{e=JSON.parse(e)}catch(r){e=new Error(t.responseText)}e.xhr=e.response=t,n(e)})})}}]),e}(h.default);e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(20),h=n(a),l=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),c(e,[{key:"request",value:function(t){var e=this;return new Promise(function(r,n){e.connection(u({json:!0},t),function(t,e,i){return t?n(t):!t&&e.statusCode>=400?"string"==typeof i?n(new Error(i)):(i.response=e,n(u(new Error(i.message),i))):void r(i)})})}}]),e}(h.default);e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(20),a=n(c),h=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"request",value:function(t){var e=this.connection(t.method,t.url).set(this.options.headers||{}).set("Accept","application/json").set(t.headers||{}).type(t.type||"json");return new Promise(function(r,n){e.set(t.headers),t.body&&e.send(t.body),e.end(function(t,e){if(t){try{var i=t.response;t=JSON.parse(t.response.text),t.response=i}catch(t){}return n(t)}r(e&&e.body)})})}}]),e}(a.default);e.default=h,t.exports=e.default},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(157),s=r(19),u=r(27)("feathers-socket-commons:client"),c=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],a=["eventNames","getMaxListeners","setMaxListeners"],h=function(t){a.forEach(function(e){t[e]=function(){var t;if("function"!=typeof this.connection[e])throw new Error("Can not call '"+e+"' on the client service connection.");return(t=this.connection)[e].apply(t,arguments)}}),c.forEach(function(e){t[e]=function(t){var r;if("function"!=typeof this.connection[e])throw new Error("Can not call '"+e+"' on the client service connection.");var n=this.path+" "+t;u("Calling emitter method "+e+" with "+("namespaced event '"+n+"'"));for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var c=(r=this.connection)[e].apply(r,[n].concat(o));return c===this.connection?this:c}})},l=function(){function t(e){n(this,t),this.events=o.events,this.path=e.name,this.connection=e.connection,this.method=e.method,this.timeout=e.timeout||5e3,h(this)}return i(t,[{key:"send",value:function(t){for(var e=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=null;return"function"==typeof n[n.length-1]&&(o=n.pop()),new Promise(function(r,i){var c,a=e.path+"::"+t,h=setTimeout(function(){return i(new Error("Timeout of "+e.timeout+"ms exceeded calling "+a))},e.timeout);n.unshift(a),n.push(function(t,e){return t=(0,s.convert)(t),clearTimeout(h),o&&o(t,e),t?i(t):r(e)}),u("Sending socket."+e.method,n),(c=e.connection)[e.method].apply(c,n)})}},{key:"find",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.send("find",t.query||{})}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("get",t,e.query||{})}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("create",t,e.query||{})}},{key:"update",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send("update",t,e,r.query||{})}},{key:"patch",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send("patch",t,e,r.query||{})}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("remove",t,e.query||{})}},{key:"off",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if("function"==typeof this.connection.off){var i;return(i=this.connection).off.apply(i,[this.path+" "+t].concat(r))}return 0===r.length?this.removeAllListeners(t):this.removeListener.apply(this,[t].concat(r))}}]),t}();e.default=l,t.exports=e.default},function(t,e,r){(function(t){"use strict";function n(t){return u.hooks.convertHookData(t)}function i(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return new Promise(function(r,i){t.apply(e,n.concat(function(t,e){return t?i(t):void r(e)}))})}function o(e){var r={};return Object.getOwnPropertyNames(e).forEach(function(t){return r[t]=e[t]}),"production"===t.env.NODE_ENV&&delete r.stack,delete r.hook,r}function s(t){var e=[];return 2===t.length&&Array.isArray(t[0])?(e=t[0],e.push(t[1]),e):t}Object.defineProperty(e,"__esModule",{value:!0}),e.events=e.eventMappings=void 0,e.convertFilterData=n,e.promisify=i,e.normalizeError=o,e.normalizeArgs=s;var u=r(16),c=e.eventMappings={create:"created",update:"updated",patch:"patched",remove:"removed"};e.events=Object.keys(c).map(function(t){return c[t]})}).call(e,r(14))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,r){var n;(function(t,i){(function(){function o(t,e){function r(t){if(r[t]!==y)return r[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=r("json-stringify")&&r("json-parse");else{var s,u='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var a=e.stringify,h="function"==typeof a&&_;if(h){(s=function(){return 1}).toJSON=s;try{h="0"===a(0)&&"0"===a(new n)&&'""'==a(new i)&&a(m)===y&&a(y)===y&&a()===y&&"1"===a(s)&&"[1]"==a([s])&&"[null]"==a([y])&&"null"==a(null)&&"[null,null,null]"==a([y,m,null])&&a({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==u&&"1"===a(null,s)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new c(-1))}catch(t){h=!1}}o=h}if("json-parse"==t){var l=e.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){s=l(u);var p=5==s.a.length&&1===s.a[0];if(p){try{p=!l('"\t"')}catch(t){}if(p)try{p=1!==l("01")}catch(t){}if(p)try{p=1!==l("1.")}catch(t){}}}}catch(t){p=!1}o=p}}return r[t]=!!o}t||(t=a.Object()),e||(e=a.Object());var n=t.Number||a.Number,i=t.String||a.String,s=t.Object||a.Object,c=t.Date||a.Date,h=t.SyntaxError||a.SyntaxError,l=t.TypeError||a.TypeError,p=t.Math||a.Math,f=t.JSON||a.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var d,b,y,v=s.prototype,m=v.toString,_=new c(-0xc782b5b800cec);try{_=_.getUTCFullYear()==-109252&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(t){}if(!r("json")){var w="[object Function]",g="[object Date]",x="[object Number]",O="[object String]",S="[object Array]",E="[object Boolean]",C=r("bug-string-char-index");if(!_)var j=p.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(t,e){return k[e]+365*(t-1970)+j((t-1969+(e=+(e>1)))/4)-j((t-1901+e)/100)+j((t-1601+e)/400)};if((d=v.hasOwnProperty)||(d=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=m?d=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,d=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,d.call(this,t)}),b=function(t,e){var r,n,i,o=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r;for(i in n)d.call(n,i)&&o++;return r=n=null,o?b=2==o?function(t,e){var r,n={},i=m.call(t)==w;for(r in t)i&&"prototype"==r||d.call(n,r)||!(n[r]=1)||!d.call(t,r)||e(r)}:function(t,e){var r,n,i=m.call(t)==w;for(r in t)i&&"prototype"==r||!d.call(t,r)||(n="constructor"===r)||e(r);(n||d.call(t,r="constructor"))&&e(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],b=function(t,e){var r,i,o=m.call(t)==w,s=!o&&"function"!=typeof t.constructor&&u[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(r in t)o&&"prototype"==r||!s.call(t,r)||e(r);for(i=n.length;r=n[--i];s.call(t,r)&&e(r));}),b(t,e)},!r("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",P=function(t,e){return(T+(e||0)).slice(-t)},D="\\u00",I=function(t){for(var e='"',r=0,n=t.length,i=!C||n>10,o=i&&(C?t.split(""):t);r<n;r++){var s=t.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=N[s];break;default:if(s<32){e+=D+P(2,s.toString(16));break}e+=i?o[r]:t.charAt(r)}}return e+'"'},R=function(t,e,r,n,i,o,s){var u,c,a,h,p,f,v,_,w,C,k,N,T,D,q,F;try{u=e[t]}catch(t){}if("object"==typeof u&&u)if(c=m.call(u),c!=g||d.call(u,"toJSON"))"function"==typeof u.toJSON&&(c!=x&&c!=O&&c!=S||d.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&u<1/0){if(A){for(p=j(u/864e5),a=j(p/365.2425)+1970-1;A(a+1,0)<=p;a++);for(h=j((p-A(a,0))/30.42);A(a,h+1)<=p;h++);p=1+p-A(a,h),f=(u%864e5+864e5)%864e5,v=j(f/36e5)%24,_=j(f/6e4)%60,w=j(f/1e3)%60,C=f%1e3}else a=u.getUTCFullYear(),h=u.getUTCMonth(),p=u.getUTCDate(),v=u.getUTCHours(),_=u.getUTCMinutes(),w=u.getUTCSeconds(),C=u.getUTCMilliseconds();u=(a<=0||a>=1e4?(a<0?"-":"+")+P(6,a<0?-a:a):P(4,a))+"-"+P(2,h+1)+"-"+P(2,p)+"T"+P(2,v)+":"+P(2,_)+":"+P(2,w)+"."+P(3,C)+"Z"}else u=null;if(r&&(u=r.call(e,t,u)),null===u)return"null";if(c=m.call(u),c==E)return""+u;if(c==x)return u>-1/0&&u<1/0?""+u:"null";if(c==O)return I(""+u);
if("object"==typeof u){for(D=s.length;D--;)if(s[D]===u)throw l();if(s.push(u),k=[],q=o,o+=i,c==S){for(T=0,D=u.length;T<D;T++)N=R(T,u,r,n,i,o,s),k.push(N===y?"null":N);F=k.length?i?"[\n"+o+k.join(",\n"+o)+"\n"+q+"]":"["+k.join(",")+"]":"[]"}else b(n||u,function(t){var e=R(t,u,r,n,i,o,s);e!==y&&k.push(I(t)+":"+(i?" ":"")+e)}),F=k.length?i?"{\n"+o+k.join(",\n"+o)+"\n"+q+"}":"{"+k.join(",")+"}":"{}";return s.pop(),F}};e.stringify=function(t,e,r){var n,i,o,s;if(u[typeof e]&&e)if((s=m.call(e))==w)i=e;else if(s==S){o={};for(var c,a=0,h=e.length;a<h;c=e[a++],s=m.call(c),(s==O||s==x)&&(o[c]=1));}if(r)if((s=m.call(r))==x){if((r-=r%1)>0)for(n="",r>10&&(r=10);n.length<r;n+=" ");}else s==O&&(n=r.length<=10?r:r.slice(0,10));return R("",(c={},c[""]=t,c),i,o,n,"",[])}}if(!r("json-parse")){var q,F,M=i.fromCharCode,B={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},V=function(){throw q=F=null,h()},L=function(){for(var t,e,r,n,i,o=F,s=o.length;q<s;)switch(i=o.charCodeAt(q)){case 9:case 10:case 13:case 32:q++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=C?o.charAt(q):o[q],q++,t;case 34:for(t="@",q++;q<s;)if(i=o.charCodeAt(q),i<32)V();else if(92==i)switch(i=o.charCodeAt(++q)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=B[i],q++;break;case 117:for(e=++q,r=q+4;q<r;q++)i=o.charCodeAt(q),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||V();t+=M("0x"+o.slice(e,q));break;default:V()}else{if(34==i)break;for(i=o.charCodeAt(q),e=q;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++q);t+=o.slice(e,q)}if(34==o.charCodeAt(q))return q++,t;V();default:if(e=q,45==i&&(n=!0,i=o.charCodeAt(++q)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(q+1),i>=48&&i<=57)&&V(),n=!1;q<s&&(i=o.charCodeAt(q),i>=48&&i<=57);q++);if(46==o.charCodeAt(q)){for(r=++q;r<s&&(i=o.charCodeAt(r),i>=48&&i<=57);r++);r==q&&V(),q=r}if(i=o.charCodeAt(q),101==i||69==i){for(i=o.charCodeAt(++q),43!=i&&45!=i||q++,r=q;r<s&&(i=o.charCodeAt(r),i>=48&&i<=57);r++);r==q&&V(),q=r}return+o.slice(e,q)}if(n&&V(),"true"==o.slice(q,q+4))return q+=4,!0;if("false"==o.slice(q,q+5))return q+=5,!1;if("null"==o.slice(q,q+4))return q+=4,null;V()}return"$"},U=function(t){var e,r;if("$"==t&&V(),"string"==typeof t){if("@"==(C?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=L(),"]"!=t;r||(r=!0))r&&(","==t?(t=L(),"]"==t&&V()):V()),","==t&&V(),e.push(U(t));return e}if("{"==t){for(e={};t=L(),"}"!=t;r||(r=!0))r&&(","==t?(t=L(),"}"==t&&V()):V()),","!=t&&"string"==typeof t&&"@"==(C?t.charAt(0):t[0])&&":"==L()||V(),e[t.slice(1)]=U(L());return e}V()}return t},$=function(t,e,r){var n=z(t,e,r);n===y?delete t[e]:t[e]=n},z=function(t,e,r){var n,i=t[e];if("object"==typeof i&&i)if(m.call(i)==S)for(n=i.length;n--;)$(i,n,r);else b(i,function(t){$(i,t,r)});return r.call(t,e,i)};e.parse=function(t,e){var r,n;return q=0,F=""+t,r=U(L()),"$"!=L()&&V(),q=F=null,e&&m.call(e)==w?z((n={},n[""]=r,n),"",e):r}}}return e.runInContext=o,e}var s=r(457),u={function:!0,object:!0},c=u[typeof e]&&e&&!e.nodeType&&e,a=u[typeof window]&&window||this,h=c&&u[typeof t]&&t&&!t.nodeType&&"object"==typeof i&&i;if(!h||h.global!==h&&h.window!==h&&h.self!==h||(a=h),c&&!s)o(a,c);else{var l=a.JSON,p=a.JSON3,f=!1,d=o(a,a.JSON3={noConflict:function(){return f||(f=!0,a.JSON=l,a.JSON3=p,l=p=null),d}});a.JSON={parse:d.parse,stringify:d.stringify}}s&&(n=function(){return d}.call(e,r,e,t),!(void 0!==n&&(t.exports=n)))}).call(this)}).call(e,r(42)(t),function(){return this}())},function(t,e){function r(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*u;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=a?Math.round(t/a)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function i(t){return o(t,a,"day")||o(t,c,"hour")||o(t,u,"minute")||o(t,s,"second")||t+" ms"}function o(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,u=60*s,c=60*u,a=24*c,h=365.25*a;t.exports=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return r(t);if("number"===o&&isNaN(t)===!1)return e.long?i(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,u=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(u,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(i,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())},function(t,e,r){"use strict";var n=r(164),i=r(163),o=r(67);t.exports={formats:o,parse:i,stringify:n}},function(t,e,r){"use strict";var n=r(68),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(t,e){for(var r={},n=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0;o<n.length;++o){var s,u,c=n[o],a=c.indexOf("]=")===-1?c.indexOf("="):c.indexOf("]=")+1;a===-1?(s=e.decoder(c),u=e.strictNullHandling?null:""):(s=e.decoder(c.slice(0,a)),u=e.decoder(c.slice(a+1))),i.call(r,s)?r[s]=[].concat(r[s]).concat(u):r[s]=u}return r},u=function(t,e,r){if(!t.length)return e;var n,i=t.shift();if("[]"===i)n=[],n=n.concat(u(t,e,r));else{n=r.plainObjects?Object.create(null):{};var o="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,s=parseInt(o,10);!isNaN(s)&&i!==o&&String(s)===o&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(n=[],n[s]=u(t,e,r)):n[o]=u(t,e,r)}return n},c=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=o.exec(n),a=c?n.slice(0,c.index):n,h=[];if(a){if(!r.plainObjects&&i.call(Object.prototype,a)&&!r.allowPrototypes)return;h.push(a)}for(var l=0;null!==(c=s.exec(n))&&l<r.depth;){if(l+=1,!r.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+n.slice(c.index)+"]"),u(h,e,r)}};t.exports=function(t,e){var r=e||{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=r.parseArrays!==!1,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===t||null===t||"undefined"==typeof t)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof t?s(t,r):t,u=r.plainObjects?Object.create(null):{},a=Object.keys(i),h=0;h<a.length;++h){var l=a[h],p=c(l,i[l],r);u=n.merge(u,p,r)}return n.compact(u)}},function(t,e,r){"use strict";var n=r(68),i=r(67),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(e,r,i,o,s,u,c,a,h,l,p,f){var d=e;if("function"==typeof c)d=c(r,d);else if(d instanceof Date)d=l(d);else if(null===d){if(o)return u&&!f?u(r):r;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||n.isBuffer(d)){if(u){var b=f?r:u(r);return[p(b)+"="+p(u(d))]}return[p(r)+"="+p(String(d))]}var y=[];if("undefined"==typeof d)return y;var v;if(Array.isArray(c))v=c;else{var m=Object.keys(d);v=a?m.sort(a):m}for(var _=0;_<v.length;++_){var w=v[_];s&&null===d[w]||(y=Array.isArray(d)?y.concat(t(d[w],i(r,w),i,o,s,u,c,a,h,l,p,f)):y.concat(t(d[w],r+(h?"."+w:"["+w+"]"),i,o,s,u,c,a,h,l,p,f)))}return y};t.exports=function(t,e){var r=t,n=e||{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var s="undefined"==typeof n.delimiter?u.delimiter:n.delimiter,a="boolean"==typeof n.strictNullHandling?n.strictNullHandling:u.strictNullHandling,h="boolean"==typeof n.skipNulls?n.skipNulls:u.skipNulls,l="boolean"==typeof n.encode?n.encode:u.encode,p="function"==typeof n.encoder?n.encoder:u.encoder,f="function"==typeof n.sort?n.sort:null,d="undefined"!=typeof n.allowDots&&n.allowDots,b="function"==typeof n.serializeDate?n.serializeDate:u.serializeDate,y="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:u.encodeValuesOnly;if("undefined"==typeof n.format)n.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,n.format))throw new TypeError("Unknown format option provided.");var v,m,_=i.formatters[n.format];"function"==typeof n.filter?(m=n.filter,r=m("",r)):Array.isArray(n.filter)&&(m=n.filter,v=m);var w=[];if("object"!=typeof r||null===r)return"";var g;g=n.arrayFormat in o?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var x=o[g];v||(v=Object.keys(r)),f&&v.sort(f);for(var O=0;O<v.length;++O){var S=v[O];h&&null===r[S]||(w=w.concat(c(r[S],S,x,a,h,l?p:null,m,f,d,b,_,y)))}return w.join(s)}},function(module,exports,__webpack_require__){var events=__webpack_require__(46),utils=__webpack_require__(166),wrap=exports.wrap={fn:function(emitter,fn,strict,name,scope){var wrapped=function(){var t;utils.emitEvents(emitter,"before",name,[arguments,this,name]);try{t=fn.apply(scope||this,arguments)}catch(t){throw utils.emitEvents(emitter,"error",name,[t,arguments,this,name]),t}return utils.emitEvents(emitter,"after",name,[t,arguments,this,name]),t};return strict&&eval("wrapped = "+utils.addArgs(wrapped.toString(),fn.length)),wrapped},async:function(emitter,fn,position,strict,name,scope){var wrapped=function(){var t=position==-1?arguments.length-1:position||0,e=arguments[t],r=this,n=arguments,i=function(){try{e.apply(r,arguments)}catch(t){throw utils.emitEvents(emitter,"error",name,[t,n,r,name]),t}var t=arguments[0]instanceof Error?"error":"after";utils.emitEvents(emitter,t,name,[arguments,n,r,name])};utils.emitEvents(emitter,"before",name,[n,this,name]),n[t]=i;try{return fn.apply(scope||this,n)}catch(t){throw utils.emitEvents(emitter,"error",name,[t,n,r,name]),t}};return strict&&eval("wrapped = "+utils.addArgs(wrapped.toString(),fn.length)),wrapped}},Emitter=exports.Emitter=function(t){this.obj=t};Emitter.prototype=Object.create(events.EventEmitter.prototype),Emitter.prototype.punch=function(t,e,r){if(Array.isArray(t)){var n=this;t.forEach(function(t){n.punch(t,e,r)})}else{var i=this.obj[t];"function"==typeof i&&(this.obj[t]=e||0===e?wrap.async(this,i,e,r,t):wrap.fn(this,i,r,t))}return this},exports.emitter=function(t){return new Emitter(t)}},function(t,e){e.toBase26=function(t){for(var e="",r="abcdefghijklmnopqrstuvwxyz";t>25;){var n=t%26;e=r.charAt(n)+e,t=Math.floor(t/26)-1}return e=r.charAt(t)+e},e.makeFakeArgs=function(t){for(var r=[],n=0;n<t;n++)r.push(e.toBase26(n));return r.join(",")},e.addArgs=function(t,r){return t.replace(/function\s*\(\)/,"function("+e.makeFakeArgs(r)+")")},e.emitEvents=function(t,e,r,n){var i=r?r.replace(/^\w/,function(t){return t.toUpperCase()}):null;t.emit.apply(t,[e].concat(n)),i&&t.emit.apply(t,[e+i].concat(n))}},function(t,e,r){var n,i;(function(t,o){!function(s,u){var c={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},s=c[typeof window]&&window||this,a=c[typeof e]&&e&&!e.nodeType&&e,h=c[typeof t]&&t&&!t.nodeType&&t,l=(h&&h.exports===a&&a,c[typeof o]&&o);!l||l.global!==l&&l.window!==l||(s=l),n=[r(168),r(460),e],i=function(t,e,r){return s.Rx=u(s,r,t,e),s.Rx}.apply(e,n),!(void 0!==i&&(t.exports=i))}(this,function(t,e,r,n,i){function o(t){return function(){try{return t.apply(this,arguments)}catch(t){return c.e=t,c}}}function s(t){if(!n.isFunction(t))throw new TypeError("fn must be a function");return o(t)}function u(){}var c={e:{}},a=n.module("rx",[]);a.factory("rx",["$window",function(t){t.Rx||(t.Rx=r);var e=function(t){function e(e,r,n){this._self=e,this._name=r,this._fn=n,t.call(this)}function i(t,e){this._self=t,this._name=e,this.isDisposed=!1}return r.internals.inherits(e,t),e.prototype.subscribeCore=function(t){var e=this._fn;return this._self[this._name]=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(n.isFunction(e)){var u=s(e).apply(this,i);if(u===c)return t.onError(u.e);t.onNext(u)}else 1===i.length?t.onNext(i[0]):t.onNext(i)},new i(this._self,this._name)},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,delete this._self[this._name])},e}(r.ObservableBase);return r.createObservableFunction=function(t,r,n){return new e(t,r,n).publish().refCount()},t.Rx}]),a.factory("observeOnScope",["rx",function(t){var e=function(e){function r(t,r,n){this._scope=t,this._expr=r,this._eq=n,e.call(this)}function n(t){return function(e,r){t.onNext({oldValue:r,newValue:e})}}function i(t){this._fn=t,this.isDisposed=!1}return t.internals.inherits(r,e),r.prototype.subscribeCore=function(t){return new i(this._scope.$watch(this._expr,n(t),this._eq))},i.prototype.dispose=function(){this.isDisposed||(this._fn(),this.isDisposed=!0)},r}(t.ObservableBase);return function(t,r,n){return new e(t,r,n)}}]),r.Observable.prototype.safeApply=function(t,e,r,i){return e=n.isFunction(e)?e:u,r=n.isFunction(r)?r:u,i=n.isFunction(i)?i:u,this.takeWhile(function(){return!t.$$destroyed}).tap(function(r){t.$$phase||t.$root.$$phase?e(r):t.$apply(function(){e(r)})},function(e){t.$$phase||t.$root.$$phase?r(e):t.$apply(function(){r(e)})},function(){t.$$phase||t.$root.$$phase?i():t.$apply(function(){i()})})},a.config(["$provide",function(t){t.decorator("$rootScope",["$delegate","rx",function(t,e){return Object.defineProperties(t.constructor.prototype,{$toObservable:{value:function(t,r){var n=this;return e.Observable.create(function(i){function o(t,e){i.onNext({oldValue:e,newValue:t})}var s=e.Disposable.create(n.$watch(t,o,r));return n.$on("$destroy",function(){s.dispose()}),s}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0},$toObservableCollection:{value:function(t){var r=this;return e.Observable.create(function(n){function i(t,e){n.onNext({oldValue:e,newValue:t})}var o=e.Disposable.create(r.$watchCollection(t,i));return r.$on("$destroy",function(){o.dispose()}),o}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0},$toObservableGroup:{value:function(t){var r=this;return e.Observable.create(function(n){function i(t,e){n.onNext({oldValue:e,newValue:t})}var o=e.Disposable.create(r.$watchGroup(t,i));return r.$on("$destroy",function(){o.dispose()}),o}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0},$eventToObservable:{value:function(t,r){var i=this;return e.Observable.create(function(o){function u(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(n.isFunction(r)){var u=s(r).apply(null,e);if(u===c)return o.onError(u.e);o.onNext(u)}else 1===e.length?o.onNext(e[0]):o.onNext(e)}var a=e.Disposable.create(i.$on(t,u));return i.$on("$destroy",function(){a.dispose()}),a}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0},$createObservableFunction:{value:function(t,r){return e.createObservableFunction(this,t,r)},enumerable:!1,configurable:!0,writable:!0},$digestObservables:{value:function(t){var r=this;return e.Observable.pairs(t).flatMap(function(t){return t[1].digest(r,t[0]).map(function(e){return{observable:t[1],expression:t[0],value:e}})}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0}}),t}])}]),a.run(["$parse",function(t){var e=function(e){function i(t,r,n){this.source=t,this.$scope=r,this.prop=n,e.call(this)}return r.internals.inherits(i,e),i.prototype.subscribeCore=function(e){var i=t(this.prop).assign;if(!i)return e.onError(new Error("Property or expression is not assignable."));var o=new r.SingleAssignmentDisposable;return o.setDisposable(this.source.subscribe(new n(e,this.$scope,i))),this.$scope.$on("$destroy",function(){o.dispose()}),o},i}(r.ObservableBase),n=function(t){function e(e,r,n){this.o=e,this.$scope=r,this.propSetter=n,t.call(this)}return r.internals.inherits(e,t),e.prototype.next=function(t){if(this.$scope.$$phase)this.propSetter(this.$scope,t);else{var e=this;this.$scope.$apply(function(){e.propSetter(e.$scope,t)})}this.o.onNext(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(r.internals.AbstractObserver);r.Observable.prototype.digest=function(t,r){return new e(this,t,r)}}]);r.ScopeScheduler=function(t){function e(e){this.$scope=e,t.call(this)}return r.internals.inherits(e,t),e.prototype.schedule=function(t,e){if(this.$scope.$$destroyed)return r.Disposable.empty;var n=new r.SingleAssignmentDisposable,i=this.$scope;i.$$phase||i.$root.$$phase?n.setDisposable(r.Disposable._fixup(t(e))):i.$apply.call(i,function(){n.setDisposable(r.Disposable._fixup(t(e)))})},e.prototype._scheduleFuture=function(t,e,n){if(this.$scope.$$destroyed)return r.Disposable.empty;var i=new r.SingleAssignmentDisposable,o=this.$scope,s=setTimeout(function(){return o.$$destroyed||i.isDisposed?clearTimeout(s):void(o.$$phase||o.$root.$$phase?i.setDisposable(r.Disposable._fixup(t(n))):o.$apply.call(o,function(){i.setDisposable(r.Disposable._fixup(t(n)))}))},e);return new r.BinaryDisposable(i,r.Disposable.create(function(){clearTimeout(s)}))},e.prototype.schedulePeriodic=function(t,e,n){if(this.$scope.$$destroyed)return r.Disposable.empty;e=r.Scheduler.normalize(e);var i=this.$scope,o=t,s=setInterval(function(){return i.$$destroyed?clearInterval(s):void(i.$$phase||i.$root.$$phase?o=n(o):i.$apply.call(i,function(){o=n(o)}))},e);return r.Disposable.create(function(){clearInterval(s)})},e}(r.Scheduler);return r})}).call(e,r(42)(t),function(){return this}())},function(t,e,r){var n;(function(t,i,o){(function(s){function u(t){return t&&t.Object===Object?t:null}function c(t){for(var e=[],r=0,n=t.length;r<n;r++)e.push(t[r]);return e}function a(t){return function(){try{return t.apply(this,arguments)}catch(t){return ne.e=t,ne}}}function h(t){throw t}function l(t,e){if(oe&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(ae)===-1){for(var r=[],n=e;n;n=n.source)n.stack&&r.unshift(n.stack);r.unshift(t.stack);var i=r.join("\n"+ae+"\n");t.stack=p(i)}}function p(t){for(var e=t.split("\n"),r=[],n=0,i=e.length;n<i;n++){var o=e[n];f(o)||d(o)||!o||r.push(o)}return r.join("\n")}function f(t){var e=y(t);if(!e)return!1;var r=e[0],n=e[1];return r===ue&&n>=ce&&n<=Bs}function d(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function b(){if(oe)try{throw new Error}catch(n){var t=n.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],r=y(e);if(!r)return;return ue=r[0],r[1]}}function y(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(t);return n?[n[1],Number(n[2])]:void 0}function v(t,e,r,n,i,o){var u=Ge(t),c=u.length,a=Ge(e),h=a.length;if(c!==h&&!n)return!1;for(var l,p=c;p--;)if(l=u[p],!(n?l in e:Je.call(e,l)))return!1;for(var f=n;++p<c;){l=u[p];var d,b=t[l],y=e[l];if(!(d===s?r(b,y,n,i,o):d))return!1;f||(f="constructor"===l)}if(!f){var v=t.constructor,m=e.constructor;if(v!==m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m))return!1}return!0}function m(t,e,r){switch(r){case Se:case Ee:return+t===+e;case Ce:return t.name===e.name&&t.message===e.message;case Ae:return t!==+t?e!==+e:t===+e;case Te:case De:return t===e+""}return!1}function _(t){return!!t&&"object"==typeof t}function w(t){return"number"==typeof t&&t>-1&&t%1===0&&t<=Xe}function g(t){return _(t)&&w(t.length)&&!!We[Ye.call(t)]}function x(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function O(t,e,r,n,i,o){var u=-1,c=t.length,a=e.length;if(c!==a&&!(n&&a>c))return!1;for(;++u<c;){var h,l=t[u],p=e[u];if(h!==s){if(h)continue;return!1}if(n){if(!x(e,function(t){return l===t||r(l,t,n,i,o)}))return!1}else if(l!==p&&!r(l,p,n,i,o))return!1}return!0}function S(t,e,r,n,i,o){var s=Qe(t),u=Qe(e),c=Oe,a=Oe;s||(c=Ye.call(t),c===xe?c=Ne:c!==Ne&&(s=g(t))),u||(a=Ye.call(e),a===xe&&(a=Ne));var h=c===Ne&&!Ke(t),l=a===Ne&&!Ke(e),p=c===a;if(p&&!s&&!h)return m(t,e,c);if(!n){var f=h&&Je.call(t,"__wrapped__"),d=l&&Je.call(e,"__wrapped__");if(f||d)return r(f?t.value():t,d?e.value():e,n,i,o)}if(!p)return!1;i||(i=[]),o||(o=[]);for(var b=i.length;b--;)if(i[b]===t)return o[b]===e;i.push(t),o.push(e);var y=(s?O:v)(t,e,r,n,i,o);return i.pop(),o.pop(),y}function E(t,e,r,n,i){return t===e||(null==t||null==e||!ut(t)&&!_(e)?t!==t&&e!==e:S(t,e,E,r,n,i))}function C(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e();return r}function j(t,e){this.id=t,this.value=e}function k(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function A(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function N(t){this._s=t,this.isDisposed=!1}function T(t){this._s=t}function P(t){this._s=t,this._l=t.length,this._i=0}function D(t){this._a=t}function I(t){this._a=t,this._l=M(t),this._i=0}function R(t){return"number"==typeof t&&Jt.isFinite(t)}function q(t){var e,r=t[ye];if(!r&&"string"==typeof t)return e=new T(t),e[ye]();if(!r&&t.length!==s)return e=new D(t),e[ye]();if(!r)throw new TypeError("Object is not iterable");return t[ye]()}function F(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function M(t){var e=+t.length;return isNaN(e)?0:0!==e&&R(e)?(e=F(e)*Math.floor(Math.abs(e)),e<=0?0:e>mn?mn:e):e}function B(t,e){return gr(t)||(t=kr),new wn(e,t)}function V(t,e){this.observer=t,this.parent=e}function L(t,e){return t.amb(e)}function U(){return!1}function $(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function U(){return!1}function $(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function U(){return!1}function z(){return[]}function U(){return!1}function z(){return[]}function $(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function W(t){return function(e){return t.subscribe(e)}}function H(t){return t.toArray()}function J(t){return t.length>0}function Y(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function Y(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function X(t,e,r){var n=we(e,r,3);return t.map(function(e,r){var i=n(e,r,t);return ee(i)&&(i=hn(i)),(_e(i)||me(i))&&(i=_n(i)),i}).concatAll()}function G(t,e,r){for(var n=0,i=t.length;n<i;n++)if(r(t[n],e))return n;return-1}function K(t){this.comparer=t,this.set=[]}function Q(t,e){return function(r){for(var n=r,i=0;i<e;i++){var o=n[t[i]];if("undefined"==typeof o)return s;n=o}return n}}function Z(t){if(0===t.length)throw new he;return t[0]}function tt(t,e,r,n){var i=we(e,r,3);return new Ns(function(e){return t.subscribe(new fo(e,t,i,n))},t)}function et(t){return t?Gr.isObservable(t)?t:ee(t)?Gr.fromPromise(t):st(t)||ot(t)?Oo.call(this,t):re(t)?it.call(this,t):_e(t)||me(t)?rt.call(this,t):ut(t)?nt.call(this,t):t:t}function rt(t){return Gr.from(t).concatMap(function(t){return Gr.isObservable(t)||ut(t)?et.call(null,t):Yt.Observable.just(t)}).toArray()}function nt(t){function e(t,e){r[e]=s,i.push(t.map(function(t){r[e]=t}))}for(var r=new t.constructor,n=Object.keys(t),i=[],o=0,u=n.length;o<u;o++){var c=n[o],a=et.call(this,t[c]);a&&Gr.isObservable(a)?e(a,c):r[c]=t[c]}return Gr.forkJoin.apply(Gr,i).map(function(){return r})}function it(t){var e=this;return new Ns(function(r){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return r.onError(t);if(arguments.length>2){for(var n=[],i=1,o=arguments.length;i<o;i++)n.push(arguments[i]);e=n}r.onNext(e),r.onCompleted()})})}function ot(t){return re(t.next)&&re(t.throw)}function st(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||ot(e.prototype))}function ut(t){return Object==t.constructor}function ct(t,e,r,n){var i=new Rs;return n.push(at(i,e,r)),t.apply(e,n),i.asObservable()}function at(t,e,r){return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(re(r)){if(i=ie(r).apply(e,i),i===ne)return t.onError(i.e);t.onNext(i)}else i.length<=1?t.onNext(i[0]):t.onNext(i);t.onCompleted()}}function ht(t,e,r,n){var i=new Rs;return n.push(lt(i,e,r)),t.apply(e,n),i.asObservable()}function lt(t,e,r){return function(){var n=arguments[0];if(n)return t.onError(n);for(var i=arguments.length,o=[],s=1;s<i;s++)o[s-1]=arguments[s];if(re(r)){var o=ie(r).apply(e,o);if(o===ne)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function pt(t){return Jt.StaticNodeList?t instanceof Jt.StaticNodeList||t instanceof Jt.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function ft(t,e,r){this._e=t,this._n=e,this._fn=r,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function dt(t,e,r){var n=new or,i=Object.prototype.toString.call(t);if(pt(t)||"[object HTMLCollection]"===i)for(var o=0,s=t.length;o<s;o++)n.add(dt(t.item(o),e,r));else t&&n.add(new ft(t,e,r));return n}function bt(t,e,r){return new Ns(function(n){function i(t,e){if(a[e]=t,s[e]=!0,u||(u=s.every(Gt))){if(o)return n.onError(o);var i=ie(r).apply(null,a);if(i===ne)return n.onError(i.e);n.onNext(i)}c&&a[1]&&n.onCompleted()}var o,s=[!1,!1],u=!1,c=!1,a=new Array(2);return new br(t.subscribe(function(t){i(t,0)},function(t){a[1]?n.onError(t):o=t},function(){c=!0,a[1]&&n.onCompleted()}),e.subscribe(function(t){i(t,1)},function(t){n.onError(t)},function(){c=!0,i(!0,1)}))},t)}function H(t){return t.toArray()}function yt(t,e){return t.groupJoin(this,e,yn,function(t,e){return e})}function vt(t){var e=this;return new Ns(function(r){var n=new Is,i=new or,o=new vr(i);return r.onNext(rr(n,o)),i.add(e.subscribe(function(t){n.onNext(t)},function(t){n.onError(t),r.onError(t)},function(){n.onCompleted(),r.onCompleted()})),ee(t)&&(t=hn(t)),i.add(t.subscribe(function(t){n.onCompleted(),n=new Is,r.onNext(rr(n,o))},function(t){n.onError(t),r.onError(t)},function(){n.onCompleted(),r.onCompleted()})),o},e)}function mt(t){var e=this;return new Ns(function(r){function n(){var e;try{e=t()}catch(t){return void r.onError(t)}ee(e)&&(e=hn(e));var o=new fr;i.setDisposable(o),o.setDisposable(e.take(1).subscribe(Xt,function(t){u.onError(t),r.onError(t)},function(){u.onCompleted(),u=new Is,r.onNext(rr(u,s)),n()}))}var i=new dr,o=new or(i),s=new vr(o),u=new Is;return r.onNext(rr(u,s)),o.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),r.onError(t)},function(){u.onCompleted(),r.onCompleted()})),n(),s},e)}function _t(t,e){return new Vo(t,e)}function $(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function wt(t){this.patterns=t}function gt(t,e){this.expression=t,this.selector=e}function xt(t){return function(e){t.onError(e)}}function Ot(t,e){return function(){var r=ie(t.selector).apply(t,arguments);return r===ne?e.onError(r.e):void e.onNext(r)}}function St(t,e,r){var n=t.get(e);if(!n){var i=new Yo(e,r);return t.set(e,i),i}return n}function Et(t,e,r){this.joinObserverArray=t,this.onNext=e,this.onCompleted=r,this.joinObservers=new Jo;for(var n=0,i=this.joinObserverArray.length;n<i;n++){var o=this.joinObserverArray[n];this.joinObservers.set(o,o)}}function Ct(t,e){return new Xo(t,e)}function jt(t,e,r){return new Ns(function(n){var i=t,o=wr(e);return r.scheduleRecursiveFuture(0,i,function(t,e){if(o>0){var s=r.now();i=new Date(i.getTime()+o),i.getTime()<=s&&(i=new Date(s+o))}n.onNext(t),e(t+1,new Date(i))})})}function kt(t,e,r){return t===e?new Ns(function(t){return r.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):fn(function(){return jt(new Date(r.now()+t),e,r)})}function At(t,e,r){return new Ns(function(n){var i,o=!1,s=new dr,u=null,c=[],a=!1;return i=t.materialize().timestamp(r).subscribe(function(t){var i,h;"E"===t.value.kind?(c=[],c.push(t),u=t.value.error,h=!a):(c.push({value:t.value,timestamp:t.timestamp+e}),h=!o,o=!0),h&&(null!==u?n.onError(u):(i=new fr,s.setDisposable(i),i.setDisposable(r.scheduleRecursiveFuture(null,e,function(t,e){var i,s,h,l;if(null===u){a=!0;do h=null,c.length>0&&c[0].timestamp-r.now()<=0&&(h=c.shift().value),null!==h&&h.accept(n);while(null!==h);l=!1,s=0,c.length>0?(l=!0,s=Math.max(0,c[0].timestamp-r.now())):o=!1,i=u,a=!1,null!==i?n.onError(i):l&&e(null,s)}}))))}),new br(i,s)},t)}function Nt(t,e,r){return fn(function(){return At(t,e-r.now(),r)})}function Tt(t,e,r){var n,i;return re(e)?i=e:(n=e,i=r),new Ns(function(e){function r(){c.setDisposable(t.subscribe(function(t){var r=ie(i)(t);if(r===ne)return e.onError(r.e);var n=new fr;s.add(n),n.setDisposable(r.subscribe(function(){e.onNext(t),s.remove(n),o()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(n),o()}))},function(t){e.onError(t)},function(){u=!0,c.dispose(),o()}))}function o(){u&&0===s.length&&e.onCompleted()}var s=new or,u=!1,c=new dr;return n?c.setDisposable(n.subscribe(r,function(t){e.onError(t)},r)):r(),new br(c,s)},t)}function Pt(t,e){return new Ns(function(r){var n,i=!1,o=new dr,s=0,u=t.subscribe(function(t){var u=ie(e)(t);if(u===ne)return r.onError(u.e);ee(u)&&(u=hn(u)),i=!0,n=t,s++;var c=s,a=new fr;o.setDisposable(a),a.setDisposable(u.subscribe(function(){i&&s===c&&r.onNext(n),i=!1,a.dispose()},function(t){r.onError(t)},function(){i&&s===c&&r.onNext(n),i=!1,a.dispose()}))},function(t){o.dispose(),r.onError(t),i=!1,s++},function(){o.dispose(),i&&r.onNext(n),r.onCompleted(),i=!1,s++});return new br(u,o)},t)}function H(t){return t.toArray()}function H(t){return t.toArray()}function Dt(t,e,r,n){return re(e)&&(n=r,r=e,e=En()),Gr.isObservable(n)||(n=Tn(new ss)),new Ns(function(i){function o(t){function e(){return l=r===h}var r=h,o=new fr;c.setDisposable(o),o.setDisposable(t.subscribe(function(){e()&&u.setDisposable(n.subscribe(i)),o.dispose()},function(t){e()&&i.onError(t)},function(){e()&&u.setDisposable(n.subscribe(i))}))}function s(){var t=!l;return t&&h++,t}var u=new dr,c=new dr,a=new fr;u.setDisposable(a);var h=0,l=!1;return o(e),a.setDisposable(t.subscribe(function(t){if(s()){i.onNext(t);var e=ie(r)(t);if(e===ne)return i.onError(e.e);o(ee(e)?hn(e):e)}},function(t){s()&&i.onError(t)},function(){s()&&i.onCompleted()})),new br(u,c)},t)}function It(t,e,r,n){return gr(r)&&(n=r,r=Tn(new ss)),r instanceof Error&&(r=Tn(r)),gr(n)||(n=Dr),Gr.isObservable(r)||(r=Tn(new ss)),new Ns(function(i){function o(){var t=s;h.setDisposable(n.scheduleFuture(null,e,function(){a=s===t,a&&(ee(r)&&(r=hn(r)),c.setDisposable(r.subscribe(i)))}))}var s=0,u=new fr,c=new dr,a=!1,h=new dr;return c.setDisposable(u),o(),u.setDisposable(t.subscribe(function(t){a||(s++,i.onNext(t),o())},function(t){a||(s++,i.onError(t))},function(){a||(s++,i.onCompleted())})),new br(c,h)},t)}function Rt(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function qt(t){this.predicate=t}function Ft(t){this.predicate=t}function Mt(t,e){var r=this;this.scheduler=t,this.messages=e,this.subscriptions=[],
this.observers=[];for(var n=0,i=this.messages.length;n<i;n++){var o=this.messages[n],s=o.value;!function(e){t.scheduleAbsolute(null,o.time,function(){for(var t=r.observers.slice(0),n=0,i=t.length;n<i;n++)e.accept(t[n]);return ar})}(s)}}var Bt={function:!0,object:!0},Vt=Bt[typeof e]&&e&&!e.nodeType?e:null,Lt=Bt[typeof t]&&t&&!t.nodeType?t:null,Ut=u(Vt&&Lt&&"object"==typeof i&&i),$t=u(Bt[typeof self]&&self),zt=u(Bt[typeof window]&&window),Wt=Lt&&Lt.exports===Vt?Vt:null,Ht=u(Bt[typeof this]&&this),Jt=Ut||zt!==(Ht&&Ht.window)&&zt||$t||Ht||Function("return this")(),Yt={internals:{},config:{Promise:Jt.Promise},helpers:{}},Xt=Yt.helpers.noop=function(){},Gt=Yt.helpers.identity=function(t){return t},Kt=Yt.helpers.defaultNow=Date.now,Qt=Yt.helpers.defaultComparer=function(t,e){return Ze(t,e)},Zt=Yt.helpers.defaultSubComparer=function(t,e){return t>e?1:t<e?-1:0},te=(Yt.helpers.defaultKeySerializer=function(t){return t.toString()},Yt.helpers.defaultError=function(t){throw t}),ee=Yt.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},re=Yt.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),ne={e:{}},ie=Yt.internals.tryCatch=function(t){if(!re(t))throw new TypeError("fn must be a function");return a(t)};Yt.config.longStackSupport=!1;var oe=!1,se=ie(function(){throw new Error})();oe=!!se.e&&!!se.e.stack;var ue,ce=b(),ae="From previous event:",he=Yt.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};he.prototype=Object.create(Error.prototype),he.prototype.name="EmptyError";var le=Yt.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};le.prototype=Object.create(Error.prototype),le.prototype.name="ObjectDisposedError";var pe=Yt.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};pe.prototype=Object.create(Error.prototype),pe.prototype.name="ArgumentOutOfRangeError";var fe=Yt.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};fe.prototype=Object.create(Error.prototype),fe.prototype.name="NotSupportedError";var de=Yt.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};de.prototype=Object.create(Error.prototype),de.prototype.name="NotImplementedError";var be=Yt.helpers.notImplemented=function(){throw new de},ye=(Yt.helpers.notSupported=function(){throw new fe},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");Jt.Set&&"function"==typeof(new Jt.Set)["@@iterator"]&&(ye="@@iterator");var ve=Yt.doneEnumerator={done:!0,value:s},me=Yt.helpers.isIterable=function(t){return t&&t[ye]!==s},_e=Yt.helpers.isArrayLike=function(t){return t&&t.length!==s};Yt.helpers.iterator=ye;var we=Yt.internals.bindCallback=function(t,e,r){if("undefined"==typeof e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},ge=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],xe=(ge.length,"[object Arguments]"),Oe="[object Array]",Se="[object Boolean]",Ee="[object Date]",Ce="[object Error]",je="[object Function]",ke="[object Map]",Ae="[object Number]",Ne="[object Object]",Te="[object RegExp]",Pe="[object Set]",De="[object String]",Ie="[object WeakMap]",Re="[object ArrayBuffer]",qe="[object Float32Array]",Fe="[object Float64Array]",Me="[object Int8Array]",Be="[object Int16Array]",Ve="[object Int32Array]",Le="[object Uint8Array]",Ue="[object Uint8ClampedArray]",$e="[object Uint16Array]",ze="[object Uint32Array]",We={};We[qe]=We[Fe]=We[Me]=We[Be]=We[Ve]=We[Le]=We[Ue]=We[$e]=We[ze]=!0,We[xe]=We[Oe]=We[Re]=We[Se]=We[Ee]=We[Ce]=We[je]=We[ke]=We[Ae]=We[Ne]=We[Te]=We[Pe]=We[De]=We[Ie]=!1;var He=Object.prototype,Je=He.hasOwnProperty,Ye=He.toString,Xe=Math.pow(2,53)-1,Ge=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,u=[];for(o in i)t.call(i,o)&&u.push(o);if(e)for(s=0;s<n;s++)t.call(i,r[s])&&u.push(r[s]);return u}}(),ut=Yt.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},Ke=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Qe=Array.isArray||function(t){return _(t)&&w(t.length)&&Ye.call(t)===Oe},Ze=Yt.internals.isEqual=function(t,e){return E(t,e)},tr=({}.hasOwnProperty,Array.prototype.slice,Yt.internals.inherits=function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}),er=Yt.internals.addProperties=function(t){for(var e=[],r=1,n=arguments.length;r<n;r++)e.push(arguments[r]);for(var i=0,o=e.length;i<o;i++){var s=e[i];for(var u in s)t[u]=s[u]}},rr=Yt.internals.addRef=function(t,e){return new Ns(function(r){return new br(e.getDisposable(),t.subscribe(r))})};j.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var nr=Yt.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},ir=nr.prototype;ir.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},ir.percolate=function(t){if(!(t>=this.length||t<0)){var e=t-1>>1;if(!(e<0||e===t)&&this.isHigherPriority(t,e)){var r=this.items[t];this.items[t]=this.items[e],this.items[e]=r,this.percolate(e)}}},ir.heapify=function(t){if(+t||(t=0),!(t>=this.length||t<0)){var e=2*t+1,r=2*t+2,n=t;if(e<this.length&&this.isHigherPriority(e,n)&&(n=e),r<this.length&&this.isHigherPriority(r,n)&&(n=r),n!==t){var i=this.items[t];this.items[t]=this.items[n],this.items[n]=i,this.heapify(n)}}},ir.peek=function(){return this.items[0].value},ir.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=s,this.heapify()},ir.dequeue=function(){var t=this.peek();return this.removeAt(0),t},ir.enqueue=function(t){var e=this.length++;this.items[e]=new j(nr.count++,t),this.percolate(e)},ir.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},nr.count=0;var or=Yt.CompositeDisposable=function(){var t,e,r=[];if(Array.isArray(arguments[0]))r=arguments[0];else for(e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];this.disposables=r,this.isDisposed=!1,this.length=r.length},sr=or.prototype;sr.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},sr.remove=function(t){var e=!1;if(!this.isDisposed){var r=this.disposables.indexOf(t);r!==-1&&(e=!0,this.disposables.splice(r,1),this.length--,t.dispose())}return e},sr.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),r=0;r<t;r++)e[r]=this.disposables[r];for(this.disposables=[],this.length=0,r=0;r<t;r++)e[r].dispose()}};var ur=Yt.Disposable=function(t){this.isDisposed=!1,this.action=t||Xt};ur.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var cr=ur.create=function(t){return new ur(t)},ar=ur.empty={dispose:Xt},hr=ur.isDisposable=function(t){return t&&re(t.dispose)},lr=ur.checkDisposed=function(t){if(t.isDisposed)throw new le},pr=ur._fixup=function(t){return hr(t)?t:ar},fr=Yt.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};fr.prototype.getDisposable=function(){return this.current},fr.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},fr.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var dr=Yt.SerialDisposable=function(){this.isDisposed=!1,this.current=null};dr.prototype.getDisposable=function(){return this.current},dr.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var r=this.current;this.current=t}r&&r.dispose(),e&&t&&t.dispose()},dr.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var br=Yt.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};br.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var yr=Yt.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};yr.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};var vr=Yt.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?ar:new t(this)},e}();k.prototype.dispose=function(){this.scheduler.schedule(this,A)};var mr=Yt.internals.ScheduledItem=function(t,e,r,n,i){this.scheduler=t,this.state=e,this.action=r,this.dueTime=n,this.comparer=i||Zt,this.disposable=new fr};mr.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},mr.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},mr.prototype.isCancelled=function(){return this.disposable.isDisposed},mr.prototype.invokeCore=function(){return pr(this.action(this.scheduler,this.state))};var _r=Yt.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new de},e.scheduleFuture=function(e,r,n){var i=r;return i instanceof Date&&(i-=this.now()),i=t.normalize(i),0===i?this.schedule(e,n):this._scheduleFuture(e,i,n)},e._scheduleFuture=function(t,e,r){throw new de},t.now=Kt,t.prototype.now=Kt,t.normalize=function(t){return t<0&&(t=0),t},t}(),wr=_r.normalize,gr=_r.isScheduler;!function(t){function e(t,e){function r(e){function n(t,e){return s?o.remove(c):u=!0,i(e,r),ar}var s=!1,u=!1,c=t.schedule(e,n);u||(o.add(c),s=!0)}var n=e[0],i=e[1],o=new or;return i(n,r),o}function r(t,e){function r(e,n){function s(t,e){return u?o.remove(a):c=!0,i(e,r),ar}var u=!1,c=!1,a=t.scheduleFuture(e,n,s);c||(o.add(a),u=!0)}var n=e[0],i=e[1],o=new or;return i(n,r),o}t.scheduleRecursive=function(t,r){return this.schedule([t,r],e)},t.scheduleRecursiveFuture=function(t,e,n){return this.scheduleFuture([t,n],e,r)}}(_r.prototype),function(t){t.schedulePeriodic=function(t,e,r){if("undefined"==typeof Jt.setInterval)throw new fe;e=wr(e);var n=t,i=Jt.setInterval(function(){n=r(n)},e);return cr(function(){Jt.clearInterval(i)})}}(_r.prototype),function(t){t.catchError=t.catch=function(t){return new Ir(this,t)}}(_r.prototype);var xr,Or,Sr=Yt.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,r){r(0,t._period);var n=ie(t._action)(t._state);n===ne&&(t._cancel.dispose(),h(n.e)),t._state=n}}function e(t,e,r,n){this._scheduler=t,this._state=e,this._period=r,this._action=n}return e.prototype.start=function(){var e=new fr;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),Er=function(t){function e(){t.call(this)}return tr(e,t),e.prototype.schedule=function(t,e){return pr(e(this,t))},e}(_r),Cr=_r.immediate=new Er,jr=function(t){function e(){for(;n.length>0;){var t=n.dequeue();!t.isCancelled()&&t.invoke()}}function r(){t.call(this)}var n;return tr(r,t),r.prototype.schedule=function(t,r){var i=new mr(this,t,r,this.now());if(n)n.enqueue(i);else{n=new nr(4),n.enqueue(i);var o=ie(e)();n=null,o===ne&&h(o.e)}return i.disposable},r.prototype.scheduleRequired=function(){return!n},r}(_r),kr=_r.currentThread=new jr,Ar=function(){var t,e=Xt;if(Jt.setTimeout)t=Jt.setTimeout,e=Jt.clearTimeout;else{if(!Jt.WScript)throw new fe;t=function(t,e){Jt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),Nr=Ar.setTimeout,Tr=Ar.clearTimeout;!function(){function t(e){if(i)Nr(function(){t(e)},0);else{var r=n[e];if(r){i=!0;var o=ie(r)();Or(e),i=!1,o===ne&&h(o.e)}}}function e(){if(!Jt.postMessage||Jt.importScripts)return!1;var t=!1,e=Jt.onmessage;return Jt.onmessage=function(){t=!0},Jt.postMessage("","*"),Jt.onmessage=e,t}var r=1,n={},i=!1;Or=function(t){delete n[t]};var s=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=Ut&&Wt&&Ut.setImmediate)&&!s.test(u)&&u;if(re(u))xr=function(e){var i=r++;return n[i]=e,u(function(){t(i)}),i};else if("undefined"!=typeof o&&"[object process]"==={}.toString.call(o))xr=function(e){var i=r++;return n[i]=e,o.nextTick(function(){t(i)}),i};else if(e()){var c="ms.rx.schedule"+Math.random(),a=function(e){"string"==typeof e.data&&e.data.substring(0,c.length)===c&&t(e.data.substring(c.length))};Jt.addEventListener("message",a,!1),xr=function(t){var e=r++;return n[e]=t,Jt.postMessage(c+e,"*"),e}}else if(Jt.MessageChannel){var l=new Jt.MessageChannel;l.port1.onmessage=function(e){t(e.data)},xr=function(t){var e=r++;return n[e]=t,l.port2.postMessage(e),e}}else xr="document"in Jt&&"onreadystatechange"in Jt.document.createElement("script")?function(e){var i=Jt.document.createElement("script"),o=r++;return n[o]=e,i.onreadystatechange=function(){t(o),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},Jt.document.documentElement.appendChild(i),o}:function(e){var i=r++;return n[i]=e,Nr(function(){t(i)},0),i}}();var Pr=function(t){function e(){t.call(this)}function r(t,e,r,n){return function(){t.setDisposable(ur._fixup(e(r,n)))}}function n(t){this._id=t,this.isDisposed=!1}function i(t){this._id=t,this.isDisposed=!1}function o(t,e,r){return function(){e(t,r)}}return tr(e,t),n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Or(this._id))},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Tr(this._id))},e.prototype.schedule=function(t,e){var i=new fr,o=xr(r(i,e,this,t));return new br(i,new n(o))},e.prototype._scheduleFuture=function(t,e,n){if(0===e)return this.schedule(t,n);var o=new fr,s=Nr(r(o,n,this,t),e);return new br(o,new i(s))},e.prototype.scheduleLongRunning=function(t,e){var r=cr(Xt);return xr(o(t,e,r)),r},e}(_r),Dr=_r.default=_r.async=new Pr,Ir=function(t){function e(e,r){this._scheduler=e,this._handler=r,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return tr(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,r){return this._scheduler.schedule(t,e,this._wrap(r))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(r,n){var i=ie(t)(e._getRecursiveWrapper(r),n);return i===ne?(e._handler(i.e)||h(i.e),ar):pr(i)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,r){var n=this,i=!1,o=new fr;return o.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(i)return null;var e=ie(r)(t);return e===ne?(i=!0,n._handler(e.e)||h(e.e),o.dispose(),null):e})),o},e}(_r),Rr=Yt.Notification=function(){function t(){}return t.prototype._accept=function(t,e,r){throw new de},t.prototype._acceptObserver=function(t,e,r){throw new de},t.prototype.accept=function(t,e,r){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,r)},t.prototype.toObservable=function(t){var e=this;return gr(t)||(t=Cr),new Ns(function(r){return t.schedule(e,function(t,e){e._acceptObserver(r),"N"===e.kind&&r.onCompleted()})})},t}(),qr=function(t){function e(t){this.value=t,this.kind="N"}return tr(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(Rr),Fr=function(t){function e(t){this.error=t,this.kind="E"}return tr(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(Rr),Mr=function(t){function e(){this.kind="C"}return tr(e,t),e.prototype._accept=function(t,e,r){return r()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(Rr),Br=Rr.createOnNext=function(t){return new qr(t)},Vr=Rr.createOnError=function(t){return new Fr(t)},Lr=Rr.createOnCompleted=function(){return new Mr},Ur=Yt.Observer=function(){};Ur.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},Ur.prototype.asObserver=function(){var t=this;return new Hr(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},Ur.prototype.checked=function(){return new Jr(this)};var $r=Ur.create=function(t,e,r){return t||(t=Xt),e||(e=te),r||(r=Xt),new Hr(t,e,r)};Ur.fromNotifier=function(t,e){var r=we(t,e,1);return new Hr(function(t){return r(Br(t))},function(t){return r(Vr(t))},function(){return r(Lr())})},Ur.prototype.notifyOn=function(t){return new Xr(t,this)},Ur.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var zr,Wr=Yt.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return tr(e,t),e.prototype.next=be,e.prototype.error=be,e.prototype.completed=be,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(Ur),Hr=Yt.AnonymousObserver=function(t){function e(e,r,n){t.call(this),this._onNext=e,this._onError=r,this._onCompleted=n}return tr(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Wr),Jr=function(t){function e(e){t.call(this),this._observer=e,this._state=0}tr(e,t);var r=e.prototype;return r.onNext=function(t){this.checkAccess();var e=ie(this._observer.onNext).call(this._observer,t);this._state=0,e===ne&&h(e.e)},r.onError=function(t){this.checkAccess();var e=ie(this._observer.onError).call(this._observer,t);this._state=2,e===ne&&h(e.e)},r.onCompleted=function(){this.checkAccess();var t=ie(this._observer.onCompleted).call(this._observer);this._state=2,t===ne&&h(t.e)},r.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(Ur),Yr=Yt.internals.ScheduledObserver=function(t){function e(e,r){t.call(this),this.scheduler=e,this.observer=r,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new dr}function r(t,e){return function(){t.onNext(e)}}function n(t,e){return function(){t.onError(e)}}function i(t){return function(){t.onCompleted()}}function o(t,e){var r;if(!(t.queue.length>0))return void(t.isAcquired=!1);r=t.queue.shift();var n=ie(r)();return n===ne?(t.queue=[],t.hasFaulted=!0,h(n.e)):void e(t)}return tr(e,t),e.prototype.next=function(t){this.queue.push(r(this.observer,t))},e.prototype.error=function(t){this.queue.push(n(this.observer,t))},e.prototype.completed=function(){this.queue.push(i(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,o))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Wr),Xr=function(t){function e(e,r,n){t.call(this,e,r),this._cancel=n}return tr(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(Yr),Gr=Yt.Observable=function(){function t(t,e){return function(r){var n=r.onError;return r.onError=function(e){l(e,t),n.call(r,e)},e.call(t,r)}}function e(){if(Yt.config.longStackSupport&&oe){var e=this._subscribe,r=ie(h)(new Error).e;this.stack=r.stack.substring(r.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return zr=e.prototype,e.isObservable=function(t){return t&&re(t.subscribe)},zr.subscribe=zr.forEach=function(t,e,r){return this._subscribe("object"==typeof t?t:$r(t,e,r))},zr.subscribeOnNext=function(t,e){return this._subscribe($r("undefined"!=typeof e?function(r){t.call(e,r)}:t))},zr.subscribeOnError=function(t,e){return this._subscribe($r(null,"undefined"!=typeof e?function(r){t.call(e,r)}:t))},zr.subscribeOnCompleted=function(t,e){return this._subscribe($r(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},e}(),Kr=Yt.ObservableBase=function(t){function e(t){return t&&re(t.dispose)?t:re(t)?cr(t):ar}function r(t,r){var n=r[0],i=r[1],o=ie(i.subscribeCore).call(i,n);o!==ne||n.fail(ne.e)||h(ne.e),n.setDisposable(e(o))}function n(){t.call(this)}return tr(n,t),n.prototype._subscribe=function(t){var e=new Ts(t),n=[e,this];return kr.scheduleRequired()?kr.schedule(n,r):r(null,n),e},n.prototype.subscribeCore=be,n}(Gr),Qr=Yt.FlatMapObservable=function(t){function e(e,r,n,i){this.resultSelector=re(n)?n:null,this.selector=we(re(r)?r:function(){return r},i,3),this.source=e,t.call(this)}function r(t,e,r,n){this.i=0,this.selector=e,this.resultSelector=r,this.source=n,this.o=t,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this.resultSelector,this))},tr(r,Wr),r.prototype._wrapResult=function(t,e,r){return this.resultSelector?t.map(function(t,n){return this.resultSelector(e,t,r,n)},this):t},r.prototype.next=function(t){var e=this.i++,r=ie(this.selector)(t,e,this.source);return r===ne?this.o.onError(r.e):(ee(r)&&(r=hn(r)),(_e(r)||me(r))&&(r=Gr.from(r)),void this.o.onNext(this._wrapResult(r,t,e)))},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Kr),Zr=Yt.internals.Enumerable=function(){};N.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var tn=function(t){function e(e){this.sources=e,t.call(this)}function r(t,e){if(!t.isDisposed){var r=ie(t.e.next).call(t.e);if(r===ne)return t.o.onError(r.e);if(r.done)return t.o.onCompleted();var i=r.value;ee(i)&&(i=hn(i));var o=new fr;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new n(t,e)))}}function n(t,e){this._state=t,this._recurse=e,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new dr,n={isDisposed:!1,o:t,subscription:e,e:this.sources[ye]()},i=kr.scheduleRecursive(n,r);return new yr([e,i,new N(n)])},tr(n,Wr),n.prototype.next=function(t){this._state.o.onNext(t)},n.prototype.error=function(t){this._state.o.onError(t)},n.prototype.completed=function(){this._recurse(this._state)},e}(Kr);Zr.prototype.concat=function(){return new tn(this)};var en=function(t){function e(e){this.sources=e,t.call(this)}function r(t,e){if(!t.isDisposed){var r=ie(t.e.next).call(t.e);if(r===ne)return t.o.onError(r.e);if(r.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var i=r.value;ee(i)&&(i=hn(i));var o=new fr;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new n(t,e)))}}function n(t,e){this._state=t,this._recurse=e,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new dr,n={isDisposed:!1,e:this.sources[ye](),subscription:e,lastError:null,o:t},i=kr.scheduleRecursive(n,r);return new yr([e,i,new N(n)])},tr(n,Wr),n.prototype.next=function(t){this._state.o.onNext(t)},n.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},n.prototype.completed=function(){this._state.o.onCompleted()},e}(Kr);Zr.prototype.catchError=function(){return new en(this)};var rn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function r(t){this.v=t.v,this.l=t.c}return tr(e,t),e.prototype[ye]=function(){return new r(this)},r.prototype.next=function(){return 0===this.l?ve:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(Zr),nn=Zr.repeat=function(t,e){return new rn(t,e)},on=function(t){function e(t,e,r){this.s=t,this.fn=e?we(e,r,3):null}function r(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return tr(e,t),e.prototype[ye]=function(){return new r(this)},r.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:ve},e}(Zr),sn=Zr.of=function(t,e,r){return new on(t,e,r)},un=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xr(this._s,t))},e}(Kr);zr.observeOn=function(t){return new un(this,t)};var cn=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}function r(t,e){var r=e[0],n=e[1],i=e[2];n.setDisposable(new k(t,r.subscribe(i)))}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new fr,n=new dr;return n.setDisposable(e),e.setDisposable(this._s.schedule([this.source,n,t],r)),n},e}(Kr);zr.subscribeOn=function(t){return new cn(this,t)};var an=function(t){function e(e,r){this._p=e,this._s=r,t.call(this)}function r(t,e){var r=e[0],n=e[1];r.onNext(n),r.onCompleted()}function n(t,e){var r=e[0],n=e[1];r.onError(n)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new fr,i=this,o=this._p;return re(o)&&(o=ie(o)(),o===ne)?(t.onError(o.e),e):(o.then(function(n){e.setDisposable(i._s.schedule([t,n],r))},function(r){e.setDisposable(i._s.schedule([t,r],n))}),e)},e}(Kr),hn=Gr.fromPromise=function(t,e){return e||(e=Dr),new an(t,e)};zr.toPromise=function(t){if(t||(t=Yt.config.Promise),!t)throw new fe("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,r){var n;e.subscribe(function(t){n=t},r,function(){t(n)})})};var ln=function(t){function e(e){this.source=e,t.call(this)}function r(t){this.o=t,this.a=[],Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t))},tr(r,Wr),r.prototype.next=function(t){this.a.push(t)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(Kr);zr.toArray=function(){return new ln(this)},Gr.create=function(t,e){return new Ns(t,e)};var pn=function(t){function e(e){this._f=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=ie(this._f)();return e===ne?Tn(e.e).subscribe(t):(ee(e)&&(e=hn(e)),e.subscribe(t))},e}(Kr),fn=Gr.defer=function(t){return new pn(t)},dn=function(t){function e(e){this.scheduler=e,t.call(this)}function r(t,e){this.observer=t,this.scheduler=e}function n(t,e){return e.onCompleted(),ar}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new r(t,this.scheduler);return e.run()},r.prototype.run=function(){var t=this.observer;return this.scheduler===Cr?n(null,t):this.scheduler.schedule(t,n)},e}(Kr),bn=new dn(Cr),yn=Gr.empty=function(t){return gr(t)||(t=Cr),t===Cr?bn:new dn(t)},vn=function(t){function e(e,r,n){this._iterable=e,this._fn=r,this._scheduler=n,t.call(this)}function r(t,e,r){return function(n,i){var o=ie(e.next).call(e);if(o===ne)return t.onError(o.e);if(o.done)return t.onCompleted();var s=o.value;return re(r)&&(s=ie(r)(s,n),s===ne)?t.onError(s.e):(t.onNext(s),void i(n+1))}}return tr(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),n=q(e);return this._scheduler.scheduleRecursive(0,r(t,n,this._fn))},e}(Kr),mn=Math.pow(2,53)-1;T.prototype[ye]=function(){return new P(this._s)},P.prototype[ye]=function(){return this},P.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:ve},D.prototype[ye]=function(){return new I(this._a)},I.prototype[ye]=function(){return this},I.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:ve};var _n=Gr.from=function(t,e,r,n){if(null==t)throw new Error("iterable cannot be null.");if(e&&!re(e))throw new Error("mapFn when provided must be a function");if(e)var i=we(e,r,2);return gr(n)||(n=kr),new vn(t,i,n)},wn=function(t){function e(e,r){this._args=e,this._scheduler=r,t.call(this)}function r(t,e){var r=e.length;return function(n,i){n<r?(t.onNext(e[n]),i(n+1)):t.onCompleted()}}return tr(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,r(t,this._args))},e}(Kr),gn=Gr.fromArray=function(t,e){return gr(e)||(e=kr),new wn(t,e)},xn=function(t){function e(e,r,n,i,o){this._initialState=e,this._cndFn=r,this._itrFn=n,this._resFn=i,this._s=o,t.call(this)}function r(t,e){if(t.first)t.first=!1;else if(t.newState=ie(t.self._itrFn)(t.newState),t.newState===ne)return t.o.onError(t.newState.e);var r=ie(t.self._cndFn)(t.newState);if(r===ne)return t.o.onError(r.e);if(r){var n=ie(t.self._resFn)(t.newState);if(n===ne)return t.o.onError(n.e);t.o.onNext(n),e(t)}else t.o.onCompleted()}return tr(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,r)},e}(Kr);Gr.generate=function(t,e,r,n,i){return gr(i)||(i=kr),new xn(t,e,r,n,i)},Gr.of=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return new wn(e,kr)},Gr.ofWithScheduler=function(t){for(var e=arguments.length,r=new Array(e-1),n=1;n<e;n++)r[n-1]=arguments[n];return new wn(r,t)},Gr.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Ns(function(e){function r(t){for(var r=0,n=t.length;r<n;r++)e.onNext(t[r])}return Array.observe(t,r),function(){Array.unobserve(t,r)}})},Gr.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Ns(function(e){function r(t){for(var r=0,n=t.length;r<n;r++)e.onNext(t[r])}return Object.observe(t,r),function(){Object.unobserve(t,r)}})};var On=function(t){function e(){t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return ar},e}(Kr),Sn=new On,En=Gr.never=function(){return Sn},Cn=function(t){function e(e,r){this._o=e,this._keys=Object.keys(e),this._scheduler=r,t.call(this)}function r(t,e,r){return function(n,i){if(n<r.length){var o=r[n];t.onNext([o,e[o]]),i(n+1)}else t.onCompleted()}}return tr(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,r(t,this._o,this._keys));
},e}(Kr);Gr.pairs=function(t,e){return e||(e=kr),new Cn(t,e)};var jn=function(t){function e(e,r,n){this.start=e,this.rangeCount=r,this.scheduler=n,t.call(this)}function r(t,e,r){return function(n,i){n<e?(r.onNext(t+n),i(n+1)):r.onCompleted()}}return tr(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,r(this.start,this.rangeCount,t))},e}(Kr);Gr.range=function(t,e,r){return gr(r)||(r=kr),new jn(t,e,r)};var kn=function(t){function e(e,r,n){this.value=e,this.repeatCount=null==r?-1:r,this.scheduler=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new V(t,this);return e.run()},e}(Kr);V.prototype.run=function(){function t(t,n){return(t===-1||t>0)&&(e.onNext(r),t>0&&t--),0===t?e.onCompleted():void n(t)}var e=this.observer,r=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},Gr.repeat=function(t,e,r){return gr(r)||(r=kr),new kn(t,e,r)};var An=function(t){function e(e,r){this._value=e,this._scheduler=r,t.call(this)}function r(t,e){var r=e[0],n=e[1];return n.onNext(r),n.onCompleted(),ar}return tr(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===Cr?r(null,e):this._scheduler.schedule(e,r)},e}(Kr),Nn=(Gr.return=Gr.just=function(t,e){return gr(e)||(e=Cr),new An(t,e)},function(t){function e(e,r){this._error=e,this._scheduler=r,t.call(this)}function r(t,e){var r=e[0],n=e[1];return n.onError(r),ar}return tr(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===Cr?r(null,e):this._scheduler.schedule(e,r)},e}(Kr)),Tn=Gr.throw=function(t,e){return gr(e)||(e=Cr),new Nn(t,e)},Pn=function(t){function e(e,r){this._resFn=e,this._obsFn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=ar,r=ie(this._resFn)();if(r===ne)return new br(Tn(r.e).subscribe(t),e);r&&(e=r);var n=ie(this._obsFn)(r);return n===ne?new br(Tn(n.e).subscribe(t),e):new br(n.subscribe(t),e)},e}(Kr);Gr.using=function(t,e){return new Pn(t,e)},zr.amb=function(t){var e=this;return new Ns(function(r){function n(){o||(o=s,a.dispose())}function i(){o||(o=u,c.dispose())}var o,s="L",u="R",c=new fr,a=new fr;ee(t)&&(t=hn(t));var h=$r(function(t){n(),o===s&&r.onNext(t)},function(t){n(),o===s&&r.onError(t)},function(){n(),o===s&&r.onCompleted()}),l=$r(function(t){i(),o===u&&r.onNext(t)},function(t){i(),o===u&&r.onError(t)},function(){i(),o===u&&r.onCompleted()});return c.setDisposable(e.subscribe(h)),a.setDisposable(t.subscribe(l)),new br(c,a)})},Gr.amb=function(){var t,e=En();if(Array.isArray(arguments[0]))t=arguments[0];else{var r=arguments.length;t=new Array(t);for(var n=0;n<r;n++)t[n]=arguments[n]}for(var n=0,r=t.length;n<r;n++)e=L(e,t[n]);return e};var Dn=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new fr,r=new dr;return r.setDisposable(e),e.setDisposable(this.source.subscribe(new In(t,r,this._fn))),r},e}(Kr),In=function(t){function e(e,r,n){this._o=e,this._s=r,this._fn=n,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=ie(this._fn)(t);if(e===ne)return this._o.onError(e.e);ee(e)&&(e=hn(e));var r=new fr;this._s.setDisposable(r),r.setDisposable(e.subscribe(this._o))},e}(Wr);zr.catch=function(t){return re(t)?new Dn(this,t):Rn([this,t])};var Rn=Gr.catch=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return sn(t).catchError()};zr.combineLatest=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Mn.apply(this,e)};var qn=function(t){function e(e,r){this._params=e,this._cb=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,r=new Array(e),n={hasValue:C(e,U),hasValueAll:!1,isDone:C(e,U),values:new Array(e)},i=0;i<e;i++){var o=this._params[i],s=new fr;r[i]=s,ee(o)&&(o=hn(o)),s.setDisposable(o.subscribe(new Fn(t,i,this._cb,n)))}return new yr(r)},e}(Kr),Fn=function(t){function e(e,r,n,i){this._o=e,this._i=r,this._cb=n,this._state=i,t.call(this)}function r(t){return function(e,r){return r!==t}}return tr(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Gt))){var e=ie(this._cb).apply(null,this._state.values);if(e===ne)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(r(this._i)).every(Gt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(Gt)&&this._o.onCompleted()},e}(Wr),Mn=Gr.combineLatest=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=re(e[t-1])?e.pop():$;return Array.isArray(e[0])&&(e=e[0]),new qn(e,n)};zr.concat=function(){for(var t=[],e=0,r=arguments.length;e<r;e++)t.push(arguments[e]);return t.unshift(this),Ln.apply(null,t)};var Bn=function(t){function e(e,r){this._s=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Wr),Vn=function(t){function e(e){this._sources=e,t.call(this)}function r(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var r=t.sources[t.i];ee(r)&&(r=hn(r));var n=new fr;t.subscription.setDisposable(n),n.setDisposable(r.subscribe(new Bn(t,e)))}}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new dr,n=cr(Xt),i={o:t,i:0,subscription:e,disposable:n,sources:this._sources},o=Cr.scheduleRecursive(i,r);return new yr([e,n,o])},e}(Kr),Ln=Gr.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,r=arguments.length;e<r;e++)t[e]=arguments[e]}return new Vn(t)};zr.concatAll=function(){return this.merge(1)};var Un=function(t){function e(e,r){this.source=e,this.maxConcurrent=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new or;return e.add(this.source.subscribe(new $n(t,this.maxConcurrent,e))),e},e}(Kr),$n=function(t){function e(e,r,n){this.o=e,this.max=r,this.g=n,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function r(e,r){this.parent=e,this.sad=r,t.call(this)}return tr(e,t),e.prototype.handleSubscribe=function(t){var e=new fr;this.g.add(e),ee(t)&&(t=hn(t)),e.setDisposable(t.subscribe(new r(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},tr(r,t),r.prototype.next=function(t){this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Wr);zr.merge=function(t){return"number"!=typeof t?zn(this,t):new Un(this,t)};var zn=Gr.merge=function(){var t,e,r=[],n=arguments.length;if(arguments[0])if(gr(arguments[0]))for(t=arguments[0],e=1;e<n;e++)r.push(arguments[e]);else for(t=Cr,e=0;e<n;e++)r.push(arguments[e]);else for(t=Cr,e=1;e<n;e++)r.push(arguments[e]);return Array.isArray(r[0])&&(r=r[0]),B(t,r).mergeAll()},Wn=function(t){function e(e){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new or,r=new fr;return e.add(r),r.setDisposable(this.source.subscribe(new Hn(t,e))),e},e}(Kr),Hn=function(t){function e(e,r){this.o=e,this.g=r,this.done=!1,t.call(this)}function r(e,r){this.parent=e,this.sad=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=new fr;this.g.add(e),ee(t)&&(t=hn(t)),e.setDisposable(t.subscribe(new r(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},tr(r,t),r.prototype.next=function(t){this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Wr);zr.mergeAll=function(){return new Wn(this)};var Jn=Yt.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Jn.prototype=Object.create(Error.prototype),Jn.prototype.name="CompositeError";var Yn=function(t){function e(e){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new or,r=new fr,n={isStopped:!1,errors:[],o:t};return e.add(r),r.setDisposable(this.source.subscribe(new Xn(e,n))),e},e}(Kr),Xn=function(t){function e(e,r){this._group=e,this._state=r,t.call(this)}function r(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Jn(e))}function n(e,r,n){this._inner=e,this._group=r,this._state=n,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=new fr;this._group.add(e),ee(t)&&(t=hn(t)),e.setDisposable(t.subscribe(new n(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&r(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&r(this._state.o,this._state.errors)},tr(n,t),n.prototype.next=function(t){this._state.o.onNext(t)},n.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&r(this._state.o,this._state.errors)},n.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&r(this._state.o,this._state.errors)},e}(Wr);Gr.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}var n=B(null,t);return new Yn(n)},zr.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Qn([this,t])};var Gn=function(t){function e(e){this.sources=e,t.call(this)}function r(t,e){if(t.pos<t.sources.length){var r=t.sources[t.pos++];ee(r)&&(r=hn(r));var n=new fr;t.subscription.setDisposable(n),n.setDisposable(r.subscribe(new Kn(t,e)))}else t.o.onCompleted()}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new dr,n={pos:0,subscription:e,o:t,sources:this.sources},i=Cr.scheduleRecursive(n,r);return new br(e,i)},e}(Kr),Kn=function(t){function e(e,r){this._state=e,this._recurse=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Wr),Qn=Gr.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new Gn(t)},Zn=function(t){function e(e,r){this._s=e,this._o=ee(r)?hn(r):r,this._open=!1,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new fr;e.setDisposable(this._s.subscribe(new ti(t,this))),ee(this._o)&&(this._o=hn(this._o));var r=new fr;return r.setDisposable(this._o.subscribe(new ei(t,this,r))),new br(e,r)},e}(Kr),ti=function(t){function e(e,r){this._o=e,this._p=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Wr),ei=function(t){function e(e,r,n){this._o=e,this._p=r,this._r=n,t.call(this)}return tr(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Wr);zr.skipUntil=function(t){return new Zn(this,t)};var ri=function(t){function e(e){this.source=e,t.call(this)}function r(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Wr.call(this)}function n(t,e){this.parent=t,this.id=e,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new dr,n=this.source.subscribe(new r(t,e));return new br(n,e)},tr(r,Wr),r.prototype.next=function(t){var e=new fr,r=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),ee(t)&&(t=hn(t)),e.setDisposable(t.subscribe(new n(this,r)))},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},tr(n,Wr),n.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(Kr);zr.switch=zr.switchLatest=function(){return new ri(this)};var ni=function(t){function e(e,r){this.source=e,this.other=ee(r)?hn(r):r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return new br(this.source.subscribe(t),this.other.subscribe(new ii(t)))},e}(Kr),ii=function(t){function e(e){this._o=e,t.call(this)}return tr(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Xt,e}(Wr);zr.takeUntil=function(t){return new ni(this,t)};var oi=function(t){function e(e,r,n){this._s=e,this._ss=r,this._cb=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,r={hasValue:C(e,U),hasValueAll:!1,values:new Array(e)},n=this._ss.length,i=new Array(n+1),o=0;o<n;o++){var s=this._ss[o],u=new fr;ee(s)&&(s=hn(s)),u.setDisposable(s.subscribe(new si(t,o,r))),i[o]=u}var c=new fr;return c.setDisposable(this._s.subscribe(new ui(t,this._cb,r))),i[n]=c,new yr(i)},e}(Kr),si=function(t){function e(e,r,n){this._o=e,this._i=r,this._state=n,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(Gt)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Xt,e}(Wr),ui=function(t){function e(e,r,n){this._o=e,this._cb=r,this._state=n,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var r=ie(this._cb).apply(null,e);return r===ne?this._o.onError(r.e):void this._o.onNext(r)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=re(e[t-1])?e.pop():$;return Array.isArray(e[0])&&(e=e[0]),new oi(this,e,n)};var ci=function(t){function e(e,r){this._s=e,this._cb=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,r=new Array(e),n=C(e,U),i=C(e,z),o=0;o<e;o++){var s=this._s[o],u=new fr;r[o]=u,ee(s)&&(s=hn(s)),u.setDisposable(s.subscribe(new ai(t,o,this,i,n)))}return new yr(r)},e}(Kr),ai=function(t){function e(e,r,n,i,o){this._o=e,this._i=r,this._p=n,this._q=i,this._d=o,t.call(this)}function r(t){return t.length>0}function n(t){return t.shift()}function i(t){return function(e,r){return r!==t}}return tr(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(r)){var e=this._q.map(n),o=ie(this._p._cb).apply(null,e);if(o===ne)return this._o.onError(o.e);this._o.onNext(o)}else this._d.filter(i(this._i)).every(Gt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(Gt)&&this._o.onCompleted()},e}(Wr);zr.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=re(e[t-1])?e.pop():$;Array.isArray(e[0])&&(e=e[0]);var i=this;return e.unshift(i),new ci(e,n)},Gr.zip=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.isArray(e[0])&&(e=re(e[1])?e[0].concat(e[1]):e[0]);var n=e.shift();return n.zip.apply(n,e)};var hi=function(t){function e(e,r){this.sources=e,this._cb=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,r=e.length,n=new Array(r),i={q:C(r,z),done:C(r,U),cb:this._cb,o:t},o=0;o<r;o++)!function(t){var r=e[t],o=new fr;(_e(r)||me(r))&&(r=_n(r)),n[t]=o,o.setDisposable(r.subscribe(new li(i,t)))}(o);return new yr(n)},e}(Kr),li=function(t){function e(e,r){this._s=e,this._i=r,t.call(this)}function r(t){return t.length>0}function n(t){return t.shift()}function i(t){return function(e,r){return r!==t}}return tr(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(r)){var e=this._s.q.map(n),o=ie(this._s.cb).apply(null,e);if(o===ne)return this._s.o.onError(o.e);this._s.o.onNext(o)}else this._s.done.filter(i(this._i)).every(Gt)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(Gt)&&this._s.o.onCompleted()},e}(Wr);zr.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=re(e[t-1])?e.pop():$,i=this;return e.unshift(i),new hi(e,n)},zr.asObservable=function(){return new Ns(W(this),this)},zr.bufferWithCount=zr.bufferCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(H).filter(J)};var pi=function(t){function e(e){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new fi(t))},e}(Kr),fi=function(t){function e(e){this._o=e,t.call(this)}return tr(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.dematerialize=function(){return new pi(this)};var di=function(t){function e(e,r,n){this.source=e,this.keyFn=r,this.comparer=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new bi(t,this.keyFn,this.comparer))},e}(Kr),bi=function(t){function e(e,r,n){this.o=e,this.keyFn=r,this.comparer=n,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e,r=t;return re(this.keyFn)&&(r=ie(this.keyFn)(t),r===ne)?this.o.onError(r.e):this.hasCurrentKey&&(e=ie(this.comparer)(this.currentKey,r),e===ne)?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=r,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Wr);zr.distinctUntilChanged=function(t,e){return e||(e=Qt),new di(this,t,e)};var yi=function(t){function e(e,r,n,i){this.source=e,this._oN=r,this._oE=n,this._oC=i,t.call(this)}function r(t,e){this.o=t,this.t=!e._oN||re(e._oN)?$r(e._oN||Xt,e._oE||Xt,e._oC||Xt):e._oN,this.isStopped=!1,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this))},tr(r,Wr),r.prototype.next=function(t){var e=ie(this.t.onNext).call(this.t,t);e===ne&&this.o.onError(e.e),this.o.onNext(t)},r.prototype.error=function(t){var e=ie(this.t.onError).call(this.t,t);return e===ne?this.o.onError(e.e):void this.o.onError(t)},r.prototype.completed=function(){var t=ie(this.t.onCompleted).call(this.t);return t===ne?this.o.onError(t.e):void this.o.onCompleted()},e}(Kr);zr.do=zr.tap=zr.doAction=function(t,e,r){return new yi(this,t,e,r)},zr.doOnNext=zr.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(r){t.call(e,r)}:t)},zr.doOnError=zr.tapOnError=function(t,e){return this.tap(Xt,"undefined"!=typeof e?function(r){t.call(e,r)}:t)},zr.doOnCompleted=zr.tapOnCompleted=function(t,e){return this.tap(Xt,null,"undefined"!=typeof e?function(){t.call(e)}:t)};var vi=function(t){function e(e,r,n){this.source=e,this._fn=we(r,n,0),t.call(this)}function r(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return tr(e,t),e.prototype.subscribeCore=function(t){var e=ie(this.source.subscribe).call(this.source,t);return e===ne&&(this._fn(),h(e.e)),new r(e,this._fn)},r.prototype.dispose=function(){if(!this.isDisposed){var t=ie(this._s.dispose).call(this._s);this._fn(),t===ne&&h(t.e)}},e}(Kr);zr.finally=function(t,e){return new vi(this,t,e)};var mi=function(t){function e(e){this.source=e,t.call(this)}function r(t){this.o=t,this.isStopped=!1}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t))},r.prototype.onNext=Xt,r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(Kr);zr.ignoreElements=function(){return new mi(this)};var _i=function(t){function e(e,r){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new wi(t))},e}(Kr),wi=function(t){function e(e){this._o=e,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._o.onNext(Br(t))},e.prototype.error=function(t){this._o.onNext(Vr(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(Lr()),this._o.onCompleted()},e}(Wr);zr.materialize=function(){return new _i(this)},zr.repeat=function(t){return nn(this,t).concat()},zr.retry=function(t){return nn(this,t).catchError()};var gi=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function r(e,r){this.source=e,this._notifier=r,t.call(this)}return tr(r,t),r.prototype.subscribeCore=function(t){var r,n=new Is,i=new Is,o=this._notifier(n),s=o.subscribe(i),u=this.source["@@iterator"](),c={isDisposed:!1},a=new dr,h=kr.scheduleRecursive(null,function(e,o){if(!c.isDisposed){var s=u.next();if(s.done)return void(r?t.onError(r):t.onCompleted());var h=s.value;ee(h)&&(h=hn(h));var l=new fr,p=new fr;a.setDisposable(new br(p,l)),l.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){p.setDisposable(i.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(e),l.dispose()},function(){t.onCompleted()}))}});return new yr([s,a,h,e(c)])},r}(Kr);zr.retryWhen=function(t){return new gi(Y(this),t)};var xi=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function r(e,r){this.source=e,this._notifier=r,t.call(this)}return tr(r,t),r.prototype.subscribeCore=function(t){var r,n=new Is,i=new Is,o=this._notifier(n),s=o.subscribe(i),u=this.source["@@iterator"](),c={isDisposed:!1},a=new dr,h=kr.scheduleRecursive(null,function(e,o){if(!c.isDisposed){var s=u.next();if(s.done)return void(r?t.onError(r):t.onCompleted());var h=s.value;ee(h)&&(h=hn(h));var l=new fr,p=new fr;a.setDisposable(new br(p,l)),l.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){p.setDisposable(i.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(null),l.dispose()}))}});return new yr([s,a,h,e(c)])},r}(Kr);zr.repeatWhen=function(t){return new xi(Y(this),t)};var Oi=function(t){function e(e,r,n,i){this.source=e,this.accumulator=r,this.hasSeed=n,this.seed=i,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Si(t,this))},e}(Kr),Si=function(t){function e(e,r){this._o=e,this._p=r,this._fn=r.accumulator,this._hs=r.hasSeed,this._s=r.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=ie(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?ie(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===ne?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Wr);zr.scan=function(){var t,e=!1,r=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Oi(this,r,e,t)};var Ei=function(t){function e(e,r){this.source=e,this._c=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ci(t,this._c))},e}(Kr),Ci=function(t){function e(e,r){this._o=e,this._c=r,this._q=[],t.call(this)}return tr(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.skipLast=function(t){if(t<0)throw new pe;return new Ei(this,t)},zr.startWith=function(){var t,e=0;arguments.length&&gr(arguments[0])?(t=arguments[0],e=1):t=Cr;for(var r=[],n=e,i=arguments.length;n<i;n++)r.push(arguments[n]);return Ln.apply(null,[gn(r,t),this])};var ji=function(t){function e(e,r){this._o=e,this._c=r,this._q=[],t.call(this)}return tr(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Wr);zr.takeLast=function(t){if(t<0)throw new pe;var e=this;return new Ns(function(r){return e.subscribe(new ji(r,t))},e)};var ki=function(t){function e(e,r){this._o=e,this._c=r,this._q=[],t.call(this)}return tr(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Wr);zr.takeLastBuffer=function(t){if(t<0)throw new pe;var e=this;return new Ns(function(r){return e.subscribe(new ki(r,t))},e)},zr.windowWithCount=zr.windowCount=function(t,e){var r=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new pe;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new pe;return new Ns(function(n){function i(){var t=new Is;c.push(t),n.onNext(rr(t,s))}var o=new fr,s=new vr(o),u=0,c=[];return i(),o.setDisposable(r.subscribe(function(r){for(var n=0,o=c.length;n<o;n++)c[n].onNext(r);var s=u-t+1;s>=0&&s%e===0&&c.shift().onCompleted(),++u%e===0&&i()},function(t){for(;c.length>0;)c.shift().onError(t);n.onError(t)},function(){for(;c.length>0;)c.shift().onCompleted();n.onCompleted()})),s},r)},zr.selectConcat=zr.concatMap=function(t,e,r){return re(t)&&re(e)?this.concatMap(function(r,n){var i=t(r,n);return ee(i)&&(i=hn(i)),(_e(i)||me(i))&&(i=_n(i)),i.map(function(t,i){return e(r,t,n,i)})}):re(t)?X(this,t,r):X(this,function(){return t})},zr.concatMapObserver=zr.selectConcatObserver=function(t,e,r,n){var i=this,o=we(t,n,2),s=we(e,n,1),u=we(r,n,0);return new Ns(function(t){var e=0;return i.subscribe(function(r){var n;try{n=o(r,e++)}catch(e){return void t.onError(e)}ee(n)&&(n=hn(n)),t.onNext(n)},function(e){var r;try{r=s(e)}catch(e){return void t.onError(e)}ee(r)&&(r=hn(r)),t.onNext(r),t.onCompleted()},function(){var e;try{e=u()}catch(e){return void t.onError(e)}ee(e)&&(e=hn(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var Ai=function(t){function e(e,r){this._o=e,this._d=r,this._f=!1,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Wr);zr.defaultIfEmpty=function(t){var e=this;return t===s&&(t=null),new Ns(function(r){return e.subscribe(new Ai(r,t))},e)},K.prototype.push=function(t){var e=G(this.set,t,this.comparer)===-1;return e&&this.set.push(t),e};var Ni=function(t){function e(e,r,n){this.source=e,this._keyFn=r,this._cmpFn=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ti(t,this._keyFn,this._cmpFn))},e}(Kr),Ti=function(t){function e(e,r,n){this._o=e,this._keyFn=r,this._h=new K(n),t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=t;return re(this._keyFn)&&(e=ie(this._keyFn)(t),e===ne)?this._o.onError(e.e):void(this._h.push(e)&&this._o.onNext(t))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.distinct=function(t,e){return e||(e=Qt),new Ni(this,t,e)},zr.groupBy=function(t,e){return this.groupByUntil(t,e,En)},zr.groupByUntil=function(t,e,r){var n=this;return new Ns(function(i){var o=new Jo,u=new or,c=new vr(u),a=function(t){return function(e){e.onError(t)}};return u.add(n.subscribe(function(n){var h=ie(t)(n);if(h===ne)return o.forEach(a(h.e)),i.onError(h.e);var l=!1,p=o.get(h);if(p===s&&(p=new Is,o.set(h,p),l=!0),l){var f=new Ds(h,p,c),d=new Ds(h,p),b=ie(r)(d);if(b===ne)return o.forEach(a(b.e)),i.onError(b.e);i.onNext(f);var y=new fr;u.add(y),y.setDisposable(b.take(1).subscribe(Xt,function(t){o.forEach(a(t)),i.onError(t)},function(){o.delete(h)&&p.onCompleted(),u.remove(y)}))}var v=n;return re(e)&&(v=ie(e)(n),v===ne)?(o.forEach(a(v.e)),i.onError(v.e)):void p.onNext(v)},function(t){o.forEach(a(t)),i.onError(t)},function(){o.forEach(function(t){t.onCompleted()}),i.onCompleted()})),c},n)};var Pi=function(t){function e(e,r,n){this.source=e,this.selector=we(r,n,3),t.call(this)}function r(t,e){return function(r,n,i){return t.call(this,e.selector(r,n,i),n,i)}}function n(t,e,r){this.o=t,this.selector=e,this.source=r,this.i=0,Wr.call(this)}return tr(e,t),e.prototype.internalMap=function(t,n){return new e(this.source,r(t,this),n)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this))},tr(n,Wr),n.prototype.next=function(t){var e=ie(this.selector)(t,this.i++,this.source);return e===ne?this.o.onError(e.e):void this.o.onNext(e)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Kr);zr.map=zr.select=function(t,e){var r="function"==typeof t?t:function(){return t};return this instanceof Pi?this.internalMap(r,e):new Pi(this,r,e)},zr.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var r=0;r<t;r++)e[r]=arguments[r];return this.map(Q(e,t))},zr.flatMap=zr.selectMany=zr.mergeMap=function(t,e,r){return new Qr(this,t,e,r).mergeAll()},zr.flatMapObserver=zr.selectManyObserver=function(t,e,r,n){var i=this;return new Ns(function(o){var s=0;return i.subscribe(function(e){var r;try{r=t.call(n,e,s++)}catch(t){return void o.onError(t)}ee(r)&&(r=hn(r)),o.onNext(r)},function(t){var r;try{r=e.call(n,t)}catch(t){return void o.onError(t)}ee(r)&&(r=hn(r)),o.onNext(r),o.onCompleted()},function(){var t;try{t=r.call(n)}catch(t){return void o.onError(t)}ee(t)&&(t=hn(t)),o.onNext(t),o.onCompleted()})},i).mergeAll()},zr.flatMapLatest=zr.switchMap=function(t,e,r){return new Qr(this,t,e,r).switchLatest()};var Di=function(t){function e(e,r){this.source=e,this._count=r,t.call(this)}function r(t,e){this._o=t,this._r=e,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this._count))},tr(r,Wr),r.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},r.prototype.error=function(t){this._o.onError(t)},r.prototype.completed=function(){this._o.onCompleted()},e}(Kr);zr.skip=function(t){if(t<0)throw new pe;return new Di(this,t)};var Ii=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ri(t,this));
},e}(Kr),Ri=function(t){function e(e,r){this._o=e,this._p=r,this._i=0,this._r=!1,t.call(this)}return tr(e,t),e.prototype.next=function(t){if(!this._r){var e=ie(this._p._fn)(t,this._i++,this._p);if(e===ne)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.skipWhile=function(t,e){var r=we(t,e,3);return new Ii(this,r)};var qi=function(t){function e(e,r){this.source=e,this._count=r,t.call(this)}function r(t,e){this._o=t,this._c=e,this._r=e,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this._count))},tr(r,Wr),r.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},r.prototype.error=function(t){this._o.onError(t)},r.prototype.completed=function(){this._o.onCompleted()},e}(Kr);zr.take=function(t,e){if(t<0)throw new pe;return 0===t?yn(e):new qi(this,t)};var Fi=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Mi(t,this))},e}(Kr),Mi=function(t){function e(e,r){this._o=e,this._p=r,this._i=0,this._r=!0,t.call(this)}return tr(e,t),e.prototype.next=function(t){return this._r&&(this._r=ie(this._p._fn)(t,this._i++,this._p),this._r===ne)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.takeWhile=function(t,e){var r=we(t,e,3);return new Fi(this,r)};var Bi=function(t){function e(e,r,n){this.source=e,this.predicate=we(r,n,3),t.call(this)}function r(t,e){return function(r,n,i){return e.predicate(r,n,i)&&t.call(this,r,n,i)}}function n(t,e,r){this.o=t,this.predicate=e,this.source=r,this.i=0,Wr.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.predicate,this))},e.prototype.internalFilter=function(t,n){return new e(this.source,r(t,this),n)},tr(n,Wr),n.prototype.next=function(t){var e=ie(this.predicate)(t,this.i++,this.source);return e===ne?this.o.onError(e.e):void(e&&this.o.onNext(t))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Kr);zr.filter=zr.where=function(t,e){return this instanceof Bi?this.internalFilter(t,e):new Bi(this,t,e)};var Vi=function(t){function e(e,r,n){this.source=e,this._k=r,this._c=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Li(t,this._k,this._c))},e}(Kr),Li=function(t){function e(e,r,n){this._o=e,this._k=r,this._c=n,this._v=null,this._hv=!1,this._l=[],t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=ie(this._k)(t);if(e===ne)return this._o.onError(e.e);var r=0;if(this._hv){if(r=ie(this._c)(e,this._v),r===ne)return this._o.onError(r.e)}else this._hv=!0,this._v=e;r>0&&(this._v=e,this._l=[]),r>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Wr),Ui=function(t){function e(e,r,n,i){this.source=e,this.accumulator=r,this.hasSeed=n,this.seed=i,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new $i(t,this))},e}(Kr),$i=function(t){function e(e,r){this._o=e,this._p=r,this._fn=r.accumulator,this._hs=r.hasSeed,this._s=r.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=ie(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?ie(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===ne?this._o.onError(this._a.e):void this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new he),this._o.onCompleted()},e}(Wr);zr.reduce=function(){var t,e=!1,r=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Ui(this,r,e,t)};var zi=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Wi(t,this._fn,this.source))},e}(Kr),Wi=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=ie(this._fn)(t,this._i++,this._s);return e===ne?this._o.onError(e.e):void(Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Wr);zr.some=function(t,e){var r=we(t,e,3);return new zi(this,r)};var Hi=function(t){function e(e){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ji(t))},e}(Kr),Ji=function(t){function e(e){this._o=e,t.call(this)}return tr(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Wr);zr.isEmpty=function(){return new Hi(this)};var Yi=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xi(t,this._fn,this.source))},e}(Kr),Xi=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=ie(this._fn)(t,this._i++,this._s);return e===ne?this._o.onError(e.e):void(Boolean(e)||(this._o.onNext(!1),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Wr);zr.every=function(t,e){var r=we(t,e,3);return new Yi(this,r)};var Gi=function(t){function e(e,r,n){var i=+n||0;Math.abs(i)===1/0&&(i=0),this.source=e,this._elem=r,this._n=i,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),ar):this.source.subscribe(new Ki(t,this._elem,this._n))},e}(Kr),Ki=function(t){function e(e,r,n){this._o=e,this._elem=r,this._n=n,this._i=0,t.call(this)}function r(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return tr(e,t),e.prototype.next=function(t){this._i++>=this._n&&r(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Wr);zr.includes=function(t,e){return new Gi(this,t,e)};var Qi=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Zi(t,this._fn,this.source))},e}(Kr),Zi=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,this._c=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){if(this._fn){var e=ie(this._fn)(t,this._i++,this._s);if(e===ne)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Wr);zr.count=function(t,e){var r=we(t,e,3);return new Qi(this,r)};var to=function(t){function e(e,r,n){this.source=e,this._e=r,this._n=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),ar):this.source.subscribe(new eo(t,this._e,this._n))},e}(Kr),eo=function(t){function e(e,r,n){this._o=e,this._e=r,this._n=n,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Wr);zr.indexOf=function(t,e){var r=+e||0;return Math.abs(r)===1/0&&(r=0),new to(this,t,r)};var ro=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new no(t,this._fn,this.source))},e}(Kr),no=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,this._c=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){if(this._fn){var e=ie(this._fn)(t,this._i++,this._s);if(e===ne)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Wr);zr.sum=function(t,e){var r=we(t,e,3);return new ro(this,r)},zr.minBy=function(t,e){return e||(e=Zt),new Vi(this,t,function(t,r){return e(t,r)*-1})},zr.min=function(t){return this.minBy(Gt,t).map(Z)},zr.maxBy=function(t,e){return e||(e=Zt),new Vi(this,t,e)},zr.max=function(t){return this.maxBy(Gt,t).map(Z)};var io=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new oo(t,this._fn,this.source))},e}(Kr),oo=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._c=0,this._t=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){if(this._fn){var e=ie(this._fn)(t,this._c++,this._s);if(e===ne)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){return 0===this._c?this._o.onError(new he):(this._o.onNext(this._t/this._c),void this._o.onCompleted())},e}(Wr);zr.average=function(t,e){var r,n=this;return re(t)&&(r=we(t,e,3)),new io(n,r)},zr.sequenceEqual=function(t,e){var r=this;return e||(e=Qt),new Ns(function(n){var i=!1,o=!1,s=[],u=[],c=r.subscribe(function(t){if(u.length>0){var r=u.shift(),i=ie(e)(r,t);if(i===ne)return n.onError(i.e);i||(n.onNext(!1),n.onCompleted())}else o?(n.onNext(!1),n.onCompleted()):s.push(t)},function(t){n.onError(t)},function(){i=!0,0===s.length&&(u.length>0?(n.onNext(!1),n.onCompleted()):o&&(n.onNext(!0),n.onCompleted()))});(_e(t)||me(t))&&(t=_n(t)),ee(t)&&(t=hn(t));var a=t.subscribe(function(t){if(s.length>0){var r=s.shift(),o=ie(e)(r,t);if(o===ne)return n.onError(o.e);o||(n.onNext(!1),n.onCompleted())}else i?(n.onNext(!1),n.onCompleted()):u.push(t)},function(t){n.onError(t)},function(){o=!0,0===u.length&&(s.length>0?(n.onNext(!1),n.onCompleted()):i&&(n.onNext(!0),n.onCompleted()))});return new br(c,a)},r)};var so=function(t){function e(e,r,n){this.source=e,this._i=r,this._d=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new uo(t,this._i,this._d))},e}(Kr),uo=function(t){function e(e,r,n){this._o=e,this._i=r,this._d=n,t.call(this)}return tr(e,t),e.prototype.next=function(t){0===this._i--&&(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d===s?this._o.onError(new pe):(this._o.onNext(this._d),this._o.onCompleted())},e}(Wr);zr.elementAt=function(t,e){if(t<0)throw new pe;return new so(this,t,e)};var co=function(t){function e(e,r,n){this._o=e,this._obj=r,this._s=n,this._i=0,this._hv=!1,this._v=null,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var r=ie(this._obj.predicate)(t,this._i++,this._s);if(r===ne)return this._o.onError(r.e);Boolean(r)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===s?this._o.onError(new he):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Wr);zr.single=function(t,e){var r={},n=this;if(r="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},re(r.predicate)){var i=r.predicate;r.predicate=we(i,r.thisArg,3)}return new Ns(function(t){return n.subscribe(new co(t,r,n))},n)};var ao=function(t){function e(e,r){this.source=e,this._obj=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ho(t,this._obj,this.source))},e}(Kr),ho=function(t){function e(e,r,n){this._o=e,this._obj=r,this._s=n,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){if(this._obj.predicate){var e=ie(this._obj.predicate)(t,this._i++,this._s);if(e===ne)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._obj.defaultValue===s?this._o.onError(new he):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Wr);zr.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},re(t.predicate)){var e=t.predicate;t.predicate=we(e,t.thisArg,3)}return new ao(this,t)};var lo=function(t){function e(e,r){this.source=e,this._obj=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new po(t,this._obj,this.source))},e}(Kr),po=function(t){function e(e,r,n){this._o=e,this._obj=r,this._s=n,this._i=0,this._hv=!1,this._v=null,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var r=ie(this._obj.predicate)(t,this._i++,this._s);if(r===ne)return this._o.onError(r.e);Boolean(r)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===s?this._o.onError(new he):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Wr);zr.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},re(t.predicate)){var e=t.predicate;t.predicate=we(e,t.thisArg,3)}return new lo(this,t)};var fo=function(t){function e(e,r,n,i){this._o=e,this._s=r,this._cb=n,this._y=i,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=ie(this._cb)(t,this._i,this._s);return e===ne?this._o.onError(e.e):void(e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Wr);zr.find=function(t,e){return tt(this,t,e,!1)},zr.findIndex=function(t,e){return tt(this,t,e,!0)};var bo=function(t){function e(e){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new yo(t))},e}(Kr),yo=function(t){function e(e){this._o=e,this._s=new Jt.Set,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Wr);zr.toSet=function(){if("undefined"==typeof Jt.Set)throw new TypeError;return new bo(this)};var vo=function(t){function e(e,r,n){this.source=e,this._k=r,this._e=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new mo(t,this._k,this._e))},e}(Kr),mo=function(t){function e(e,r,n){this._o=e,this._k=r,this._e=n,this._m=new Jt.Map,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=ie(this._k)(t);if(e===ne)return this._o.onError(e.e);var r=t;return this._e&&(r=ie(this._e)(t),r===ne)?this._o.onError(r.e):void this._m.set(e,r)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Wr);zr.toMap=function(t,e){if("undefined"==typeof Jt.Map)throw new TypeError;return new vo(this,t,e)};var _o=function(t){function e(e,r,n){this.source=e,this._b=r,this._e=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new wo(t,this._b,this._e))},e}(Kr),wo=function(t){function e(e,r,n){this._o=e,this._b=r,this._e=n,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.slice=function(t,e){var r=t||0;if(r<0)throw new Yt.ArgumentOutOfRangeError;if("number"==typeof e&&e<r)throw new Yt.ArgumentOutOfRangeError;return new _o(this,r,e)};var go=function(t){function e(e,r,n){this.source=e,this._e=r,this._n=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),ar):this.source.subscribe(new xo(t,this._e,this._n))},e}(Kr),xo=function(t){function e(e,r,n){this._o=e,this._e=r,this._n=n,this._v=0,this._hv=!1,this._i=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Wr);zr.lastIndexOf=function(t,e){var r=+e||0;return Math.abs(r)===1/0&&(r=0),new go(this,t,r)},Gr.wrap=function(t){function e(){return Gr.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var Oo=Gr.spawn=function(){for(var t=arguments[0],e=this,r=[],n=1,i=arguments.length;n<i;n++)r.push(arguments[n]);return new Ns(function(n){function i(e){var r=ie(t.next).call(t,e);return r===ne?n.onError(r.e):void s(r)}function o(e){var r=ie(t.next).call(t,e);return r===ne?n.onError(r.e):void s(r)}function s(t){if(t.done)return n.onNext(t.value),void n.onCompleted();var r=et.call(e,t.value),s=null,c=!1;Gr.isObservable(r)?u.add(r.subscribe(function(t){c=!0,s=t},o,function(){c&&i(s)})):o(new TypeError("type not supported"))}var u=new or;return re(t)&&(t=t.apply(e,r)),t&&re(t.next)?(i(),u):(n.onNext(t),n.onCompleted())})};Gr.start=function(t,e,r){return So(t,e,r)()};var So=Gr.toAsync=function(t,e,r){return gr(r)||(r=Dr),function(){var n=arguments,i=new Rs;return r.schedule(null,function(){var r;try{r=t.apply(e,n)}catch(t){return void i.onError(t)}i.onNext(r),i.onCompleted()}),i.asObservable()}};Gr.fromCallback=function(t,e,r){return function(){"undefined"==typeof e&&(e=this);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ct(t,e,r,i)}},Gr.fromNodeCallback=function(t,e,r){return function(){"undefined"==typeof e&&(e=this);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ht(t,e,r,i)}},ft.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},Yt.config.useNativeEvents=!1;var Eo=function(t){function e(e,r,n){this._el=e,this._n=r,this._fn=n,t.call(this)}function r(t,e){return function(){var r=arguments[0];return re(e)&&(r=ie(e).apply(null,arguments),r===ne)?t.onError(r.e):void t.onNext(r)}}return tr(e,t),e.prototype.subscribeCore=function(t){return dt(this._el,this._n,r(t,this._fn))},e}(Kr);Gr.fromEvent=function(t,e,r){return t.addListener?jo(function(r){t.addListener(e,r)},function(r){t.removeListener(e,r)},r):Yt.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new Eo(t,e,r).publish().refCount():jo(function(r){t.on(e,r)},function(r){t.off(e,r)},r)};var Co=function(t){function e(e,r,n){this._add=e,this._del=r,this._fn=n,t.call(this)}function r(t,e){return function(){var r=arguments[0];return re(e)&&(r=ie(e).apply(null,arguments),r===ne)?t.onError(r.e):void t.onNext(r)}}function n(t,e,r){this._del=t,this._fn=e,this._ret=r,this.isDisposed=!1}return tr(e,t),e.prototype.subscribeCore=function(t){var e=r(t,this._fn),i=this._add(e);return new n(this._del,e,i)},n.prototype.dispose=function(){this.isDisposed||(re(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(Kr),jo=Gr.fromEventPattern=function(t,e,r){return new Co(t,e,r).publish().refCount()};Gr.startAsync=function(t){var e=ie(t)();return e===ne?Tn(e.e):hn(e)};var ko=function(t){function e(e,r){this.source=e,this.controller=new Is,this.paused=!0,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,t.call(this)}return tr(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),r=e.subscribe(t),n=ar,i=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?n=e.connect():(n.dispose(),n=ar)});return new yr([r,n,i])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Gr);zr.pausable=function(t){return new ko(this,t)};var Ao=function(t){function e(e,r){this.source=e,this.controller=new Is,this.paused=!0,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,t.call(this)}return tr(e,t),e.prototype._subscribe=function(t){function e(){for(;n.length>0;)t.onNext(n.shift())}var r,n=[],i=bt(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(i){r!==s&&i.shouldFire!==r?(r=i.shouldFire,i.shouldFire&&e()):(r=i.shouldFire,i.shouldFire?t.onNext(i.data):n.push(i.data))},function(r){e(),t.onError(r)},function(){e(),t.onCompleted()});return i},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Gr);zr.pausableBuffered=function(t){return new Ao(this,t)};var No=function(t){function e(e,r,n){t.call(this),this.subject=new To(r,n),this.source=e.multicast(this.subject).refCount()}return tr(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(Gr),To=function(t){function e(e,r){null==e&&(e=!0),t.call(this),this.subject=new Is,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||kr}return tr(e,t),er(e.prototype,Ur,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Rr.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(Rr.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(Rr.createOnNext(t)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,r){var n=e._processRequest(r),i=e.hasCompleted||e.hasFailed;if(!i&&n>0)return e.requestedCount=n,cr(function(){e.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(Gr);zr.controlled=function(t,e){return t&&gr(t)&&(e=t,t=!0),null==t&&(t=!0),new No(this,t,e)};var Po=function(t){function e(e){t.call(this),this.source=e}function r(t,e){return e.source.request(1)}tr(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new n(t,this,this.subscription)),new br(this.subscription,Dr.schedule(this,r))};var n=function(t){function e(e,r,n){t.call(this),this.observer=e,this.observable=r,this.cancel=n,this.scheduleDisposable=null}function r(t,e){return e.observable.source.request(1)}return tr(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=Dr.schedule(this,r)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Wr);return e}(Gr);No.prototype.stopAndWait=function(){return new Po(this)};var Do=function(t){function e(e,r){t.call(this),this.source=e,this.windowSize=r}function r(t,e){return e.source.request(e.windowSize)}tr(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new n(t,this,this.subscription)),new br(this.subscription,Dr.schedule(this,r))};var n=function(t){function e(e,r,n){this.observer=e,this.observable=r,this.cancel=n,this.received=0,this.scheduleDisposable=null,t.call(this)}function r(t,e){return e.observable.source.request(e.observable.windowSize)}return tr(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=Dr.schedule(this,r))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Wr);return e}(Gr);No.prototype.windowed=function(t){return new Do(this,t)},zr.pipe=function(t){function e(){r.resume()}var r=this.pausableBuffered();return t.addListener("drain",e),r.subscribe(function(e){!t.write(e)&&r.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),r.resume(),t};var Io=function(t){function e(e,r,n){this.source=e,this._fn1=r,this._fn2=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new br(this._fn2(e).subscribe(t),e.connect())},e}(Kr);zr.multicast=function(t,e){return re(t)?new Io(this,t,e):new Fo(this,t)},zr.publish=function(t){return t&&re(t)?this.multicast(function(){return new Is},t):this.multicast(new Is)},zr.share=function(){return this.publish().refCount()},zr.publishLast=function(t){return t&&re(t)?this.multicast(function(){return new Rs},t):this.multicast(new Rs)},zr.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new qs(e)},t):this.multicast(new qs(t))},zr.shareValue=function(t){return this.publishValue(t).refCount()},zr.replay=function(t,e,r,n){return t&&re(t)?this.multicast(function(){return new Fs(e,r,n)},t):this.multicast(new Fs(e,r,n))},zr.shareReplay=function(t,e,r){return this.replay(null,t,e,r).refCount()};var Ro=function(t,e){this._s=t,this._o=e};Ro.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var qo=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function r(t,e){this._p=t,this._s=e,this.isDisposed=!1}return tr(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new r(this,e)},r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},e}(Kr),Fo=Yt.ConnectableObservable=function(t){function e(e,r){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=r,t.call(this)}function r(t,e){this._p=t,this._s=e}return tr(e,t),r.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return ar;var t=this._source.subscribe(this._subject);this._connection=new r(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new qo(this)},e}(Gr);zr.singleInstance=function(){function t(){return n||(n=!0,e=r.finally(function(){n=!1}).publish().refCount()),e}var e,r=this,n=!1;return new Ns(function(e){return t().subscribe(e)})},zr.join=function(t,e,r,n){var i=this;return new Ns(function(o){var s=new or,u=!1,c=!1,a=0,h=0,l=new Jo,p=new Jo,f=function(t){o.onError(t)};return s.add(i.subscribe(function(t){var r=a++,i=new fr;l.set(r,t),s.add(i);var c=ie(e)(t);return c===ne?o.onError(c.e):(i.setDisposable(c.take(1).subscribe(Xt,f,function(){l.delete(r)&&0===l.size&&u&&o.onCompleted(),s.remove(i)})),void p.forEach(function(e){var r=ie(n)(t,e);return r===ne?o.onError(r.e):void o.onNext(r)}))},f,function(){u=!0,(c||0===l.size)&&o.onCompleted()})),s.add(t.subscribe(function(t){var e=h++,i=new fr;p.set(e,t),s.add(i);var u=ie(r)(t);return u===ne?o.onError(u.e):(i.setDisposable(u.take(1).subscribe(Xt,f,function(){p.delete(e)&&0===p.size&&c&&o.onCompleted(),s.remove(i)})),void l.forEach(function(e){var r=ie(n)(e,t);return r===ne?o.onError(r.e):void o.onNext(r)}))},f,function(){c=!0,(u||0===p.size)&&o.onCompleted()})),s},i)},zr.groupJoin=function(t,e,r,n){var i=this;return new Ns(function(o){function s(t){}var u=new or,c=new vr(u),a=new Jo,h=new Jo,l=0,p=0,s=function(t){return function(e){e.onError(t)}};return u.add(i.subscribe(function(t){var r=new Is,i=l++;a.set(i,r);var p=ie(n)(t,rr(r,c));if(p===ne)return a.forEach(s(p.e)),o.onError(p.e);o.onNext(p),h.forEach(function(t){r.onNext(t)});var f=new fr;u.add(f);var d=ie(e)(t);return d===ne?(a.forEach(s(d.e)),o.onError(d.e)):void f.setDisposable(d.take(1).subscribe(Xt,function(t){a.forEach(s(t)),o.onError(t)},function(){a.delete(i)&&r.onCompleted(),u.remove(f)}))},function(t){a.forEach(s(t)),o.onError(t)},function(){o.onCompleted()})),u.add(t.subscribe(function(t){var e=p++;h.set(e,t);var n=new fr;u.add(n);var i=ie(r)(t);return i===ne?(a.forEach(s(i.e)),o.onError(i.e)):(n.setDisposable(i.take(1).subscribe(Xt,function(t){a.forEach(s(t)),o.onError(t)},function(){h.delete(e),u.remove(n)})),void a.forEach(function(e){e.onNext(t)}))},function(t){a.forEach(s(t)),o.onError(t)})),c},i)},zr.buffer=function(){return this.window.apply(this,arguments).flatMap(H)},zr.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?vt.call(this,t):"function"==typeof t?mt.call(this,t):yt.call(this,t,e)};var Mo=function(t){function e(e){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Bo(t))},e}(Kr),Bo=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.pairwise=function(){return new Mo(this)},zr.partition=function(t,e){var r=we(t,e,3);return[this.filter(t,e),this.filter(function(t,e,n){return!r(t,e,n)})]};var Vo=function(t){function e(t,e){this.c=t,this.s=e}return tr(e,t),e.prototype[ye]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(Zr);zr.letBind=zr.let=function(t){return t(this)},Gr.if=function(t,e,r){return fn(function(){return r||(r=yn()),ee(e)&&(e=hn(e)),ee(r)&&(r=hn(r)),"function"==typeof r.now&&(r=yn(r)),t()?e:r})},Gr.for=Gr.forIn=function(t,e,r){return sn(t,e,r).concat()};var Lo=Gr.while=Gr.whileDo=function(t,e){return ee(e)&&(e=hn(e)),_t(t,e).concat()};zr.doWhile=function(t){return Ln([this,Lo(t,this)])},Gr.case=function(t,e,r){return fn(function(){ee(r)&&(r=hn(r)),r||(r=yn()),gr(r)&&(r=yn(r));var n=e[t()];return ee(n)&&(n=hn(n)),
n||r})};var Uo=function(t){function e(e,r,n){this.source=e,this._fn=r,this._scheduler=n,t.call(this)}function r(t,e){var r,n=t[0],i=t[1];if(!(n.q.length>0))return void(n.isAcquired=!1);r=n.q.shift();var o=new fr;n.d.add(o),o.setDisposable(r.subscribe(new $o(n,i,o))),e([n,i])}return tr(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],r))},e.prototype.subscribeCore=function(t){var e=new dr,r=new or(e),n={q:[],m:e,d:r,activeCount:0,isAcquired:!1,o:t};return n.q.push(this.source),n.activeCount++,this._ensureActive(n),r},e}(Kr),$o=function(t){function e(e,r,n){this._s=e,this._p=r,this._m1=n,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=ie(this._p._fn)(t);return e===ne?this._s.o.onError(e.e):(this._s.q.push(e),this._s.activeCount++,void this._p._ensureActive(this._s))},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},e}(Wr);zr.expand=function(t,e){return gr(e)||(e=kr),new Uo(this,t,e)};var zo=function(t){function e(e,r){this._sources=e,this._cb=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),ar;for(var e=this._sources.length,r={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},n=new or,i=0,o=this._sources.length;i<o;i++){var s=this._sources[i];ee(s)&&(s=hn(s)),n.add(s.subscribe(new Wo(t,r,i,this._cb,n)))}return n},e}(Kr),Wo=function(t){function e(e,r,n,i,o){this._o=e,this._s=r,this._i=n,this._cb=i,this._subs=o,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=ie(this._cb).apply(null,this._s.results);if(e===ne)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Wr);Gr.forkJoin=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=re(e[t-1])?e.pop():$;return Array.isArray(e[0])&&(e=e[0]),new zo(e,n)},zr.forkJoin=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Gr.forkJoin.apply(null,e)},zr.manySelect=zr.extend=function(t,e){gr(e)||(e=Yt.Scheduler.immediate);var r=this;return fn(function(){var n;return r.map(function(t){var e=new Ho(t);return n&&n.onNext(t),n=e,e}).tap(Xt,function(t){n&&n.onError(t)},function(){n&&n.onCompleted()}).observeOn(e).map(t)},r)};var Ho=function(t){function e(e){t.call(this),this.head=e,this.tail=new Rs}return tr(e,t),er(e.prototype,Ur,{_subscribe:function(t){var e=new or;return e.add(kr.schedule(this,function(r,n){t.onNext(n.head),e.add(n.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(Gr.empty())},onError:function(t){this.onNext(Gr.throw(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Gr),Jo=Jt.Map||function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.delete=function(t){var e=this._keys.indexOf(t);return e!==-1&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.get=function(t){var e=this._keys.indexOf(t);return e===-1?s:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return r===-1?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();wt.prototype.and=function(t){return new wt(this.patterns.concat(t))},wt.prototype.thenDo=function(t){return new gt(this,t)},gt.prototype.activate=function(t,e,r){for(var n=[],i=xt(e),o=0,s=this.expression.patterns.length;o<s;o++)n.push(St(t,this.expression.patterns[o],i));var u=new Et(n,Ot(this,e),function(){for(var t=0,e=n.length;t<e;t++)n[t].removeActivePlan(u);r(u)});for(o=0,s=n.length;o<s;o++)n[o].addActivePlan(u);return u},Et.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},Et.prototype.match=function(){var t,e,r=!0;for(t=0,e=this.joinObserverArray.length;t<e;t++)if(0===this.joinObserverArray[t].queue.length){r=!1;break}if(r){var n=[],i=!1;for(t=0,e=this.joinObserverArray.length;t<e;t++)n.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(t=0,e=n.length;t<n.length;t++)o.push(n[t].value);this.onNext.apply(this,o)}}};var Yo=function(t){function e(e,r){t.call(this),this.source=e,this.onError=r,this.queue=[],this.activePlans=[],this.subscription=new fr,this.isDisposed=!1}tr(e,t);var r=e.prototype;return r.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),r=0,n=e.length;r<n;r++)e[r].match()}},r.error=Xt,r.completed=Xt,r.addActivePlan=function(t){this.activePlans.push(t)},r.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},r.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},r.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Wr);zr.and=function(t){return new wt([this,t])},zr.thenDo=function(t){return new wt([this]).thenDo(t)},Gr.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new Ns(function(e){var r=[],n=new Jo,i=$r(function(t){e.onNext(t)},function(t){n.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var o=0,s=t.length;o<s;o++)r.push(t[o].activate(n,i,function(t){var n=r.indexOf(t);r.splice(n,1),0===r.length&&e.onCompleted()}))}catch(t){return Tn(t).subscribe(e)}var u=new or;return n.forEach(function(t){t.subscribe(),u.add(t)}),u})};var Xo=function(t){function e(e,r){this._dt=e,this._s=r,t.call(this)}function r(t,e){e.onNext(0),e.onCompleted()}return tr(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,r)},e}(Kr),Go=Gr.interval=function(t,e){return kt(t,t,gr(e)?e:Dr)};Gr.timer=function(t,e,r){var n;return gr(r)||(r=Dr),null!=e&&"number"==typeof e?n=e:gr(e)&&(r=e),(t instanceof Date||"number"==typeof t)&&n===s?Ct(t,r):t instanceof Date&&n!==s?jt(t,e,r):kt(t,n,r)};zr.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,r=arguments[1];return gr(r)||(r=Dr),e instanceof Date?Nt(this,e,r):At(this,e,r)}if(Gr.isObservable(t)||re(t))return Tt(this,t,arguments[1]);throw new Error("Invalid arguments")};var Ko=function(t){function e(e,r,n){gr(n)||(n=Dr),this.source=e,this._dt=r,this._s=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new dr;return new br(this.source.subscribe(new Qo(t,this._dt,this._s,e)),e)},e}(Kr),Qo=function(t){function e(e,r,n,i){this._o=e,this._d=r,this._scheduler=n,this._c=i,this._v=null,this._hv=!1,this._id=0,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,r=new fr;this._c.setDisposable(r),r.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(r,n){n._hv&&n._id===e&&n._o.onNext(t),n._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Wr);zr.debounce=function(){if(re(arguments[0]))return Pt(this,arguments[0]);if("number"==typeof arguments[0])return new Ko(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},zr.windowWithTime=zr.windowTime=function(t,e,r){var n,i=this;return null==e&&(n=t),gr(r)||(r=Dr),"number"==typeof e?n=e:gr(e)&&(n=t,r=e),new Ns(function(e){function o(){var t=new fr,i=!1,s=!1;l.setDisposable(t),a===c?(i=!0,s=!0):a<c?i=!0:s=!0;var f=i?a:c,d=f-p;p=f,i&&(a+=n),s&&(c+=n),t.setDisposable(r.scheduleFuture(null,d,function(){if(s){var t=new Is;h.push(t),e.onNext(rr(t,u))}i&&h.shift().onCompleted(),o()}))}var s,u,c=n,a=t,h=[],l=new dr,p=0;return s=new or(l),u=new vr(s),h.push(new Is),e.onNext(rr(h[0],u)),o(),s.add(i.subscribe(function(t){for(var e=0,r=h.length;e<r;e++)h[e].onNext(t)},function(t){for(var r=0,n=h.length;r<n;r++)h[r].onError(t);e.onError(t)},function(){for(var t=0,r=h.length;t<r;t++)h[t].onCompleted();e.onCompleted()})),u},i)},zr.windowWithTimeOrCount=zr.windowTimeOrCount=function(t,e,r){var n=this;return gr(r)||(r=Dr),new Ns(function(i){function o(e){var n=new fr;s.setDisposable(n),n.setDisposable(r.scheduleFuture(null,t,function(){if(e===h){a=0;var t=++h;l.onCompleted(),l=new Is,i.onNext(rr(l,c)),o(t)}}))}var s=new dr,u=new or(s),c=new vr(u),a=0,h=0,l=new Is;return i.onNext(rr(l,c)),o(0),u.add(n.subscribe(function(t){var r=0,n=!1;l.onNext(t),++a===e&&(n=!0,a=0,r=++h,l.onCompleted(),l=new Is,i.onNext(rr(l,c))),n&&o(r)},function(t){l.onError(t),i.onError(t)},function(){l.onCompleted(),i.onCompleted()})),c},n)},zr.bufferWithTime=zr.bufferTime=function(t,e,r){return this.windowWithTime(t,e,r).flatMap(H)},zr.bufferWithTimeOrCount=zr.bufferTimeOrCount=function(t,e,r){return this.windowWithTimeOrCount(t,e,r).flatMap(H)};var Zo=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ts(t,this._s))},e}(Kr),ts=function(t){function e(e,r){this._o=e,this._s=r,this._l=r.now(),t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=this._s.now(),r=e-this._l;this._l=e,this._o.onNext({value:t,interval:r})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.timeInterval=function(t){return gr(t)||(t=Dr),new Zo(this,t)};var es=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new rs(t,this._s))},e}(Kr),rs=function(t){function e(e,r){this._o=e,this._s=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.timestamp=function(t){return gr(t)||(t=Dr),new es(this,t)};var ns=function(t){function e(e,r){this.source=e,this._sampler=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new fr};return e.sourceSubscription.setDisposable(this.source.subscribe(new os(e))),new br(e.sourceSubscription,this._sampler.subscribe(new is(e)))},e}(Kr),is=function(t){function e(e){this._s=e,t.call(this)}return tr(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Wr),os=function(t){function e(e){this._s=e,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Wr);zr.sample=function(t,e){return gr(e)||(e=Dr),"number"==typeof t?new ns(this,Go(t,e)):new ns(this,t)};var ss=Yt.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};ss.prototype=Object.create(Error.prototype),zr.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return It(this,t,arguments[1],arguments[2]);if(Gr.isObservable(t)||re(t))return Dt(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var us=function(t){function e(e,r,n,i,o,s){this._state=e,this._cndFn=r,this._itrFn=n,this._resFn=i,this._timeFn=o,this._s=s,t.call(this)}function r(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=ie(t.self._itrFn)(t.newState),t.newState===ne)return t.o.onError(t.newState.e);if(t.hasResult=ie(t.self._cndFn)(t.newState),t.hasResult===ne)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=ie(t.self._resFn)(t.newState),t.result===ne)return t.o.onError(t.result.e);var r=ie(t.self._timeFn)(t.newState);if(r===ne)return t.o.onError(r.e);e(t,r)}else t.o.onCompleted()}return tr(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),r)},e}(Kr);Gr.generateWithAbsoluteTime=function(t,e,r,n,i,o){return gr(o)||(o=Dr),new us(t,e,r,n,i,o)};var cs=function(t){function e(e,r,n,i,o,s){this._state=e,this._cndFn=r,this._itrFn=n,this._resFn=i,this._timeFn=o,this._s=s,t.call(this)}function r(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=ie(t.self._itrFn)(t.newState),t.newState===ne)return t.o.onError(t.newState.e);if(t.hasResult=ie(t.self._cndFn)(t.newState),t.hasResult===ne)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=ie(t.self._resFn)(t.newState),t.result===ne)return t.o.onError(t.result.e);var r=ie(t.self._timeFn)(t.newState);if(r===ne)return t.o.onError(r.e);e(t,r)}else t.o.onCompleted()}return tr(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,r)},e}(Kr);Gr.generateWithRelativeTime=function(t,e,r,n,i,o){return gr(o)||(o=Dr),new cs(t,e,r,n,i,o)};var as=function(t){function e(e,r,n){this.source=e,this._dt=r,this._s=n,t.call(this)}function r(t,e){var r=e[0],n=e[1],i=e[2];i.setDisposable(r.subscribe(n))}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new dr;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,r)),e},e}(Kr);zr.delaySubscription=function(t,e){return gr(e)||(e=Dr),new as(this,t,e)};var hs=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ls(t,this))},e}(Kr),ls=function(t){function e(e,r){this._o=e,this._s=r._s,this._d=r._d,this._q=[],t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Wr);zr.skipLastWithTime=function(t,e){return gr(e)||(e=Dr),new hs(this,t,e)};var ps=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new fs(t,this._d,this._s))},e}(Kr),fs=function(t){function e(e,r,n){this._o=e,this._d=r,this._s=n,this._q=[],t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Wr);zr.takeLastWithTime=function(t,e){return gr(e)||(e=Dr),new ps(this,t,e)},zr.takeLastBufferWithTime=function(t,e){var r=this;return gr(e)||(e=Dr),new Ns(function(n){var i=[];return r.subscribe(function(r){var n=e.now();for(i.push({interval:n,value:r});i.length>0&&n-i[0].interval>=t;)i.shift()},function(t){n.onError(t)},function(){for(var r=e.now(),o=[];i.length>0;){var s=i.shift();r-s.interval<=t&&o.push(s.value)}n.onNext(o),n.onCompleted()})},r)};var ds=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,t.call(this)}function r(t,e){e.onCompleted()}return tr(e,t),e.prototype.subscribeCore=function(t){return new br(this._s.scheduleFuture(t,this._d,r),this.source.subscribe(t))},e}(Kr);zr.takeWithTime=function(t,e){return gr(e)||(e=Dr),new ds(this,t,e)};var bs=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,this._open=!1,t.call(this)}function r(t,e){e._open=!0}return tr(e,t),e.prototype.subscribeCore=function(t){return new br(this._s.scheduleFuture(this,this._d,r),this.source.subscribe(new ys(t,this)))},e}(Kr),ys=function(t){function e(e,r){this._o=e,this._p=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.skipWithTime=function(t,e){return gr(e)||(e=Dr),new bs(this,t,e)};var vs=function(t){function e(e,r,n){this.source=e,this._st=r,this._s=n,t.call(this)}function r(t,e){e._open=!0}return tr(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new br(this._s.scheduleFuture(this,this._st,r),this.source.subscribe(new ms(t,this)))},e}(Kr),ms=function(t){function e(e,r){this._o=e,this._p=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Wr);zr.skipUntilWithTime=function(t,e){return gr(e)||(e=Dr),new vs(this,t,e)},zr.takeUntilWithTime=function(t,e){gr(e)||(e=Dr);var r=this;return new Ns(function(n){return new br(e.scheduleFuture(n,t,function(t,e){e.onCompleted()}),r.subscribe(n))},r)},zr.throttle=function(t,e){gr(e)||(e=Dr);var r=+t||0;if(r<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var n=this;return new Ns(function(t){var i=0;return n.subscribe(function(n){var o=e.now();(0===i||o-i>=r)&&(i=o,t.onNext(n))},function(e){t.onError(e)},function(){t.onCompleted()})},n)};var _s=function(t){function e(e,r){this._o=e,this._xform=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){var e=ie(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===ne&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Wr);zr.transduce=function(t){var e=this;return new Ns(function(r){var n=t(Rt(r));return e.subscribe(new _s(r,n))},e)};var ws=function(t){function e(e){this.source=e,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){var e=new fr,r=new or,n={hasCurrent:!1,isStopped:!1,o:t,g:r};return r.add(e),e.setDisposable(this.source.subscribe(new gs(n))),r},e}(Kr),gs=function(t){function e(e){this._s=e,t.call(this)}function r(e,r){this._s=e,this._i=r,t.call(this)}return tr(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,ee(t)&&(t=hn(t));var e=new fr;this._s.g.add(e),e.setDisposable(t.subscribe(new r(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},tr(r,t),r.prototype.next=function(t){this._s.o.onNext(t)},r.prototype.error=function(t){this._s.o.onError(t)},r.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Wr);zr.switchFirst=function(){return new ws(this)},zr.flatMapFirst=zr.exhaustMap=function(t,e,r){return new Qr(this,t,e,r).switchFirst()},zr.flatMapWithMaxConcurrent=zr.flatMapMaxConcurrent=function(t,e,r,n){return new Qr(this,e,r,n).merge(t)};var xs=Yt.VirtualTimeScheduler=function(t){function e(e,r){this.clock=e,this.comparer=r,this.isEnabled=!1,this.queue=new nr(1024),t.call(this)}tr(e,t);var r=e.prototype;return r.now=function(){return this.toAbsoluteTime(this.clock)},r.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},r.scheduleFuture=function(t,e,r){var n=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,n,r)},r.add=be,r.toAbsoluteTime=be,r.toRelativeTime=be,r.schedulePeriodic=function(t,e,r){var n=new Sr(this,t,e,r);return n.start()},r.scheduleRelative=function(t,e,r){var n=this.add(this.clock,e);return this.scheduleAbsolute(t,n,r)},r.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},r.stop=function(){this.isEnabled=!1},r.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new pe;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var r=this.getNext();null!==r&&this.comparer(r.dueTime,t)<=0?(this.comparer(r.dueTime,this.clock)>0&&(this.clock=r.dueTime),r.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},r.advanceBy=function(t){var e=this.add(this.clock,t),r=this.comparer(this.clock,e);if(r>0)throw new pe;0!==r&&this.advanceTo(e)},r.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new pe;this.clock=e},r.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},r.scheduleAbsolute=function(t,e,r){function n(t,e){return i.queue.remove(o),r(t,e)}var i=this,o=new mr(this,t,n,e,this.comparer);return this.queue.enqueue(o),o.disposable},e}(_r);Yt.HistoricalScheduler=function(t){function e(e,r){var n=null==e?0:e,i=r||Zt;t.call(this,n,i)}tr(e,t);var r=e.prototype;return r.add=function(t,e){return t+e},r.toAbsoluteTime=function(t){return new Date(t).getTime()},r.toRelativeTime=function(t){return t},e}(Yt.VirtualTimeScheduler),qt.prototype.equals=function(t){return t===this||null!=t&&("N"===t.kind&&this.predicate(t.value))},Ft.prototype.equals=function(t){return t===this||null!=t&&("E"===t.kind&&this.predicate(t.error))};var Os=Yt.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new Ss(t,new qt(e)):new Ss(t,Rr.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new Ss(t,new Ft(e)):new Ss(t,Rr.createOnError(e))},onCompleted:function(t){return new Ss(t,Rr.createOnCompleted())},subscribe:function(t,e){return new Es(t,e)}},Ss=Yt.Recorded=function(t,e,r){this.time=t,this.value=e,this.comparer=r||Qt};Ss.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},Ss.prototype.toString=function(){return this.value.toString()+"@"+this.time};var Es=Yt.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};Es.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},Es.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};var Cs=Yt.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)};Cs.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var js=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}tr(e,t);var r=e.prototype;return r.onNext=function(t){this.messages.push(new Ss(this.scheduler.clock,Rr.createOnNext(t)))},r.onError=function(t){this.messages.push(new Ss(this.scheduler.clock,Rr.createOnError(t)))},r.onCompleted=function(){this.messages.push(new Ss(this.scheduler.clock,Rr.createOnCompleted()))},e}(Ur);Mt.prototype.then=function(t,e){var r=this;this.subscriptions.push(new Es(this.scheduler.clock));var n,i=this.subscriptions.length-1,o=Yt.Observer.create(function(e){var u=t(e);if(u&&"function"==typeof u.then)n=u;else{var c=r.scheduler.clock;n=new Mt(r.scheduler,[Yt.ReactiveTest.onNext(c,s),Yt.ReactiveTest.onCompleted(c)])}var a=r.observers.indexOf(o);r.observers.splice(a,1),r.subscriptions[i]=new Es(r.subscriptions[i].subscribe,r.scheduler.clock)},function(t){e(t);var n=r.observers.indexOf(o);r.observers.splice(n,1),r.subscriptions[i]=new Es(r.subscriptions[i].subscribe,r.scheduler.clock)});return this.observers.push(o),n||new Mt(this.scheduler,this.messages)};var ks=function(t){function e(e,r){t.call(this);var n,i,o=this;this.scheduler=e,this.messages=r,this.subscriptions=[],this.observers=[];for(var s=0,u=this.messages.length;s<u;s++)n=this.messages[s],i=n.value,function(t){e.scheduleAbsolute(null,n.time,function(){for(var e=o.observers.slice(0),r=0,n=e.length;r<n;r++)t.accept(e[r]);return ar})}(i)}return tr(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new Es(this.scheduler.clock));var r=this.subscriptions.length-1;return cr(function(){var n=e.observers.indexOf(t);e.observers.splice(n,1),e.subscriptions[r]=new Es(e.subscriptions[r].subscribe,e.scheduler.clock)})},e}(Gr),As=function(t){function e(e,r){t.call(this),this.scheduler=e,this.messages=r,this.subscriptions=[]}return tr(e,t),e.prototype._subscribe=function(t){var e,r,n=this;this.subscriptions.push(new Es(this.scheduler.clock));for(var i=this.subscriptions.length-1,o=new or,s=0,u=this.messages.length;s<u;s++)e=this.messages[s],r=e.value,function(r){o.add(n.scheduler.scheduleRelative(null,e.time,function(){return r.accept(t),ar}))}(r);return cr(function(){n.subscriptions[i]=new Es(n.subscriptions[i].subscribe,n.scheduler.clock),o.dispose()})},e}(Gr);Yt.TestScheduler=function(t){function e(t,e){return t>e?1:t<e?-1:0}function r(){t.call(this,0,e)}return tr(r,t),r.prototype.scheduleAbsolute=function(e,r,n){return r<=this.clock&&(r=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,r,n)},r.prototype.add=function(t,e){return t+e},r.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},r.prototype.toRelativeTime=function(t){return t},r.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=Os.created),null==e.subscribed&&(e.subscribed=Os.subscribed),null==e.disposed&&(e.disposed=Os.disposed);var r,n,i=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return r=t(),ar}),this.scheduleAbsolute(null,e.subscribed,function(){return n=r.subscribe(i),ar}),this.scheduleAbsolute(null,e.disposed,function(){return n.dispose(),ar}),this.start(),i},r.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new ks(this,t)},r.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new As(this,t)},r.prototype.createResolvedPromise=function(t,e){return new Mt(this,[Yt.ReactiveTest.onNext(t,e),Yt.ReactiveTest.onCompleted(t)])},r.prototype.createRejectedPromise=function(t,e){return new Mt(this,[Yt.ReactiveTest.onError(t,e)])},r.prototype.createObserver=function(){return new js(this)},r}(xs);var Ns=Yt.AnonymousObservable=function(t){function e(t){return t&&re(t.dispose)?t:re(t)?cr(t):ar}function r(t,r){var n=r[0],i=r[1],o=ie(i.__subscribe).call(i,n);o!==ne||n.fail(ne.e)||h(ne.e),n.setDisposable(e(o))}function n(e,r){this.source=r,this.__subscribe=e,t.call(this)}return tr(n,t),n.prototype._subscribe=function(t){var e=new Ts(t),n=[e,this];return kr.scheduleRequired()?kr.schedule(n,r):r(null,n),e},n}(Gr),Ts=function(t){function e(e){t.call(this),this.observer=e,this.m=new fr}tr(e,t);var r=e.prototype;return r.next=function(t){var e=ie(this.observer.onNext).call(this.observer,t);e===ne&&(this.dispose(),h(e.e))},r.error=function(t){var e=ie(this.observer.onError).call(this.observer,t);this.dispose(),e===ne&&h(e.e)},r.completed=function(){var t=ie(this.observer.onCompleted).call(this.observer);this.dispose(),t===ne&&h(t.e)},r.setDisposable=function(t){this.m.setDisposable(t)},r.getDisposable=function(){return this.m.getDisposable()},r.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Wr),Ps=function(t){function e(e,r){this._m=e,this._u=r,t.call(this)}return tr(e,t),e.prototype.subscribeCore=function(t){return new br(this._m.getDisposable(),this._u.subscribe(t))},e}(Kr),Ds=function(t){function e(e,r,n){t.call(this),this.key=e,this.underlyingObservable=n?new Ps(n,r):r}return tr(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(Gr),Is=Yt.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return tr(e,t),er(e.prototype,Ur.prototype,{_subscribe:function(t){return lr(this),this.isStopped?this.hasError?(t.onError(this.error),ar):(t.onCompleted(),ar):(this.observers.push(t),new Ro(this,t))},hasObservers:function(){return lr(this),this.observers.length>0},onCompleted:function(){if(lr(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=c(this.observers),r=e.length;t<r;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(lr(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,r=c(this.observers),n=r.length;e<n;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){if(lr(this),!this.isStopped)for(var e=0,r=c(this.observers),n=r.length;e<n;e++)r[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new Ms(t,e)},e}(Gr),Rs=Yt.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return tr(e,t),er(e.prototype,Ur.prototype,{_subscribe:function(t){return lr(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),ar):(this.observers.push(t),new Ro(this,t))},hasObservers:function(){return lr(this),this.observers.length>0},onCompleted:function(){var t,e;if(lr(this),!this.isStopped){this.isStopped=!0;var r=c(this.observers),e=r.length;if(this.hasValue)for(t=0;t<e;t++){var n=r[t];n.onNext(this.value),n.onCompleted()}else for(t=0;t<e;t++)r[t].onCompleted();this.observers.length=0}},onError:function(t){if(lr(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,r=c(this.observers),n=r.length;e<n;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){lr(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(Gr),qs=Yt.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return tr(e,t),er(e.prototype,Ur.prototype,{_subscribe:function(t){return lr(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),ar):(this.observers.push(t),t.onNext(this.value),new Ro(this,t))},getValue:function(){return lr(this),this.hasError&&h(this.error),this.value},hasObservers:function(){return lr(this),this.observers.length>0},onCompleted:function(){if(lr(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=c(this.observers),r=e.length;t<r;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(lr(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,r=c(this.observers),n=r.length;e<n;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){if(lr(this),!this.isStopped){this.value=t;for(var e=0,r=c(this.observers),n=r.length;e<n;e++)r[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(Gr),Fs=Yt.ReplaySubject=function(t){function e(t,e){return cr(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1);
})}function r(e,r,i){this.bufferSize=null==e?n:e,this.windowSize=null==r?n:r,this.scheduler=i||kr,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var n=Math.pow(2,53)-1;return tr(r,t),er(r.prototype,Ur.prototype,{_subscribe:function(t){lr(this);var r=new Yr(this.scheduler,t),n=e(this,r);this._trim(this.scheduler.now()),this.observers.push(r);for(var i=0,o=this.q.length;i<o;i++)r.onNext(this.q[i].value);return this.hasError?r.onError(this.error):this.isStopped&&r.onCompleted(),r.ensureActive(),n},hasObservers:function(){return lr(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(lr(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var r=0,n=c(this.observers),i=n.length;r<i;r++){var o=n[r];o.onNext(t),o.ensureActive()}}},onError:function(t){if(lr(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var r=0,n=c(this.observers),i=n.length;r<i;r++){var o=n[r];o.onError(t),o.ensureActive()}this.observers.length=0}},onCompleted:function(){if(lr(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,r=c(this.observers),n=r.length;e<n;e++){var i=r[e];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(Gr),Ms=Yt.AnonymousSubject=function(t){function e(e,r){this.observer=e,this.observable=r,t.call(this)}return tr(e,t),er(e.prototype,Ur.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Gr);Yt.Pauser=function(t){function e(){t.call(this)}return tr(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(Is),Jt.Rx=Yt,n=function(){return Yt}.call(e,r,e,t),!(n!==s&&(t.exports=n));var Bs=b()}).call(this)}).call(e,r(42)(t),function(){return this}(),r(14))},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(2),o=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},function(t,e,r){"use strict";var n=r(6);e.Subject=n.Subject,e.AnonymousSubject=n.AnonymousSubject;var i=r(1);e.Observable=i.Observable,r(172),r(173),r(174),r(175),r(176),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(193),r(189),r(190),r(191),r(192),r(194),r(197),r(195),r(196),r(198),r(177),r(178),r(201),r(202),r(203),r(204),r(205),r(206),r(207),r(208),r(209),r(210),r(211),r(212),r(213),r(219),r(214),r(215),r(216),r(217),r(218),r(220),r(221),r(222),r(223),r(226),r(227),r(228),r(224),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(199),r(200),r(237),r(238),r(225),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(258),r(257),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300);var o=r(5);e.Subscription=o.Subscription;var s=r(2);e.Subscriber=s.Subscriber;var u=r(30);e.AsyncSubject=u.AsyncSubject;var c=r(31);e.ReplaySubject=c.ReplaySubject;var a=r(69);e.BehaviorSubject=a.BehaviorSubject;var h=r(72);e.ConnectableObservable=h.ConnectableObservable;var l=r(21);e.Notification=l.Notification;var p=r(35);e.EmptyError=p.EmptyError;var f=r(25);e.ArgumentOutOfRangeError=f.ArgumentOutOfRangeError;var d=r(36);e.ObjectUnsubscribedError=d.ObjectUnsubscribedError;var b=r(92);e.TimeoutError=b.TimeoutError;var y=r(93);e.UnsubscriptionError=y.UnsubscriptionError;var v=r(85);e.TimeInterval=v.TimeInterval;var m=r(86);e.Timestamp=m.Timestamp;var _=r(437);e.TestScheduler=_.TestScheduler;var w=r(87);e.VirtualTimeScheduler=w.VirtualTimeScheduler;var g=r(75);e.AjaxResponse=g.AjaxResponse,e.AjaxError=g.AjaxError,e.AjaxTimeoutError=g.AjaxTimeoutError;var x=r(88),O=r(10),S=r(89),E=r(434),C=r(34),j=r(24),k=r(33),A={asap:x.asap,queue:S.queue,animationFrame:E.animationFrame,async:O.async};e.Scheduler=A;var N={rxSubscriber:C.rxSubscriber,observable:k.observable,iterator:j.iterator};e.Symbol=N},function(t,e){"use strict";var r=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},function(t,e,r){"use strict";var n=r(1),i=r(319);n.Observable.bindCallback=i.bindCallback},function(t,e,r){"use strict";var n=r(1),i=r(320);n.Observable.bindNodeCallback=i.bindNodeCallback},function(t,e,r){"use strict";var n=r(1),i=r(321);n.Observable.combineLatest=i.combineLatest},function(t,e,r){"use strict";var n=r(1),i=r(322);n.Observable.concat=i.concat},function(t,e,r){"use strict";var n=r(1),i=r(323);n.Observable.defer=i.defer},function(t,e,r){"use strict";var n=r(1),i=r(325);n.Observable.ajax=i.ajax},function(t,e,r){"use strict";var n=r(1),i=r(326);n.Observable.webSocket=i.webSocket},function(t,e,r){"use strict";var n=r(1),i=r(327);n.Observable.empty=i.empty},function(t,e,r){"use strict";var n=r(1),i=r(328);n.Observable.forkJoin=i.forkJoin},function(t,e,r){"use strict";var n=r(1),i=r(329);n.Observable.from=i.from},function(t,e,r){"use strict";var n=r(1),i=r(330);n.Observable.fromEvent=i.fromEvent},function(t,e,r){"use strict";var n=r(1),i=r(331);n.Observable.fromEventPattern=i.fromEventPattern},function(t,e,r){"use strict";var n=r(1),i=r(332);n.Observable.fromPromise=i.fromPromise},function(t,e,r){"use strict";var n=r(1),i=r(309);n.Observable.generate=i.GenerateObservable.create},function(t,e,r){"use strict";var n=r(1),i=r(333);n.Observable.if=i._if},function(t,e,r){"use strict";var n=r(1),i=r(334);n.Observable.interval=i.interval},function(t,e,r){"use strict";var n=r(1),i=r(335);n.Observable.merge=i.merge},function(t,e,r){"use strict";var n=r(1),i=r(336);n.Observable.never=i.never},function(t,e,r){"use strict";var n=r(1),i=r(337);n.Observable.of=i.of},function(t,e,r){"use strict";var n=r(1),i=r(82);n.Observable.onErrorResumeNext=i.onErrorResumeNextStatic},function(t,e,r){"use strict";var n=r(1),i=r(338);n.Observable.pairs=i.pairs},function(t,e,r){"use strict";var n=r(1),i=r(83);n.Observable.race=i.raceStatic},function(t,e,r){"use strict";var n=r(1),i=r(339);n.Observable.range=i.range},function(t,e,r){"use strict";var n=r(1),i=r(340);n.Observable.throw=i._throw},function(t,e,r){"use strict";var n=r(1),i=r(341);n.Observable.timer=i.timer},function(t,e,r){"use strict";var n=r(1),i=r(342);n.Observable.using=i.using},function(t,e,r){"use strict";var n=r(1),i=r(343);n.Observable.zip=i.zip},function(t,e,r){"use strict";var n=r(1),i=r(344);n.Observable.prototype.audit=i.audit},function(t,e,r){"use strict";var n=r(1),i=r(345);n.Observable.prototype.auditTime=i.auditTime},function(t,e,r){"use strict";var n=r(1),i=r(346);n.Observable.prototype.buffer=i.buffer},function(t,e,r){"use strict";var n=r(1),i=r(347);n.Observable.prototype.bufferCount=i.bufferCount},function(t,e,r){"use strict";var n=r(1),i=r(348);n.Observable.prototype.bufferTime=i.bufferTime},function(t,e,r){"use strict";var n=r(1),i=r(349);n.Observable.prototype.bufferToggle=i.bufferToggle},function(t,e,r){"use strict";var n=r(1),i=r(350);n.Observable.prototype.bufferWhen=i.bufferWhen},function(t,e,r){"use strict";var n=r(1),i=r(351);n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},function(t,e,r){"use strict";var n=r(1),i=r(352);n.Observable.prototype.combineAll=i.combineAll},function(t,e,r){"use strict";var n=r(1),i=r(50);n.Observable.prototype.combineLatest=i.combineLatest},function(t,e,r){"use strict";var n=r(1),i=r(51);n.Observable.prototype.concat=i.concat},function(t,e,r){"use strict";var n=r(1),i=r(353);n.Observable.prototype.concatAll=i.concatAll},function(t,e,r){"use strict";var n=r(1),i=r(354);n.Observable.prototype.concatMap=i.concatMap},function(t,e,r){"use strict";var n=r(1),i=r(355);n.Observable.prototype.concatMapTo=i.concatMapTo},function(t,e,r){"use strict";var n=r(1),i=r(356);n.Observable.prototype.count=i.count},function(t,e,r){"use strict";var n=r(1),i=r(357);n.Observable.prototype.debounce=i.debounce},function(t,e,r){"use strict";var n=r(1),i=r(358);n.Observable.prototype.debounceTime=i.debounceTime},function(t,e,r){"use strict";var n=r(1),i=r(359);n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(t,e,r){"use strict";var n=r(1),i=r(360);n.Observable.prototype.delay=i.delay},function(t,e,r){"use strict";var n=r(1),i=r(361);n.Observable.prototype.delayWhen=i.delayWhen},function(t,e,r){"use strict";var n=r(1),i=r(362);n.Observable.prototype.dematerialize=i.dematerialize},function(t,e,r){"use strict";var n=r(1),i=r(363);n.Observable.prototype.distinct=i.distinct},function(t,e,r){"use strict";var n=r(1),i=r(76);n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,r){"use strict";var n=r(1),i=r(364);n.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},function(t,e,r){"use strict";var n=r(1),i=r(365);n.Observable.prototype.do=i._do,n.Observable.prototype._do=i._do},function(t,e,r){"use strict";var n=r(1),i=r(366);n.Observable.prototype.elementAt=i.elementAt},function(t,e,r){"use strict";var n=r(1),i=r(367);n.Observable.prototype.every=i.every},function(t,e,r){"use strict";var n=r(1),i=r(368);n.Observable.prototype.exhaust=i.exhaust},function(t,e,r){"use strict";var n=r(1),i=r(369);n.Observable.prototype.exhaustMap=i.exhaustMap},function(t,e,r){"use strict";var n=r(1),i=r(370);n.Observable.prototype.expand=i.expand},function(t,e,r){"use strict";var n=r(1),i=r(77);n.Observable.prototype.filter=i.filter},function(t,e,r){"use strict";var n=r(1),i=r(371);n.Observable.prototype.finally=i._finally,n.Observable.prototype._finally=i._finally},function(t,e,r){"use strict";var n=r(1),i=r(78);n.Observable.prototype.find=i.find},function(t,e,r){"use strict";var n=r(1),i=r(372);n.Observable.prototype.findIndex=i.findIndex},function(t,e,r){"use strict";var n=r(1),i=r(373);n.Observable.prototype.first=i.first},function(t,e,r){"use strict";var n=r(1),i=r(374);n.Observable.prototype.groupBy=i.groupBy},function(t,e,r){"use strict";var n=r(1),i=r(375);n.Observable.prototype.ignoreElements=i.ignoreElements},function(t,e,r){"use strict";var n=r(1),i=r(376);n.Observable.prototype.isEmpty=i.isEmpty},function(t,e,r){"use strict";var n=r(1),i=r(377);n.Observable.prototype.last=i.last},function(t,e,r){"use strict";var n=r(1),i=r(378);n.Observable.prototype.let=i.letProto,n.Observable.prototype.letBind=i.letProto},function(t,e,r){"use strict";var n=r(1),i=r(52);n.Observable.prototype.map=i.map},function(t,e,r){"use strict";var n=r(1),i=r(379);n.Observable.prototype.mapTo=i.mapTo},function(t,e,r){"use strict";var n=r(1),i=r(380);n.Observable.prototype.materialize=i.materialize},function(t,e,r){"use strict";var n=r(1),i=r(381);n.Observable.prototype.max=i.max},function(t,e,r){"use strict";var n=r(1),i=r(79);n.Observable.prototype.merge=i.merge},function(t,e,r){"use strict";var n=r(1),i=r(32);n.Observable.prototype.mergeAll=i.mergeAll},function(t,e,r){"use strict";var n=r(1),i=r(80);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},function(t,e,r){"use strict";var n=r(1),i=r(81);n.Observable.prototype.flatMapTo=i.mergeMapTo,n.Observable.prototype.mergeMapTo=i.mergeMapTo},function(t,e,r){"use strict";var n=r(1),i=r(382);n.Observable.prototype.mergeScan=i.mergeScan},function(t,e,r){"use strict";var n=r(1),i=r(383);n.Observable.prototype.min=i.min},function(t,e,r){"use strict";var n=r(1),i=r(17);n.Observable.prototype.multicast=i.multicast},function(t,e,r){"use strict";var n=r(1),i=r(53);n.Observable.prototype.observeOn=i.observeOn},function(t,e,r){"use strict";var n=r(1),i=r(82);n.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},function(t,e,r){"use strict";var n=r(1),i=r(384);n.Observable.prototype.pairwise=i.pairwise},function(t,e,r){"use strict";var n=r(1),i=r(385);n.Observable.prototype.partition=i.partition},function(t,e,r){"use strict";var n=r(1),i=r(386);n.Observable.prototype.pluck=i.pluck},function(t,e,r){"use strict";var n=r(1),i=r(387);n.Observable.prototype.publish=i.publish},function(t,e,r){"use strict";var n=r(1),i=r(388);n.Observable.prototype.publishBehavior=i.publishBehavior},function(t,e,r){"use strict";var n=r(1),i=r(389);n.Observable.prototype.publishLast=i.publishLast},function(t,e,r){"use strict";var n=r(1),i=r(390);n.Observable.prototype.publishReplay=i.publishReplay},function(t,e,r){"use strict";var n=r(1),i=r(83);n.Observable.prototype.race=i.race},function(t,e,r){"use strict";var n=r(1),i=r(54);n.Observable.prototype.reduce=i.reduce},function(t,e,r){"use strict";var n=r(1),i=r(391);n.Observable.prototype.repeat=i.repeat},function(t,e,r){"use strict";var n=r(1),i=r(392);n.Observable.prototype.repeatWhen=i.repeatWhen},function(t,e,r){"use strict";var n=r(1),i=r(393);n.Observable.prototype.retry=i.retry},function(t,e,r){"use strict";var n=r(1),i=r(394);n.Observable.prototype.retryWhen=i.retryWhen},function(t,e,r){"use strict";var n=r(1),i=r(395);n.Observable.prototype.sample=i.sample},function(t,e,r){"use strict";var n=r(1),i=r(396);n.Observable.prototype.sampleTime=i.sampleTime},function(t,e,r){"use strict";var n=r(1),i=r(397);n.Observable.prototype.scan=i.scan},function(t,e,r){"use strict";var n=r(1),i=r(398);n.Observable.prototype.sequenceEqual=i.sequenceEqual},function(t,e,r){"use strict";var n=r(1),i=r(399);n.Observable.prototype.share=i.share},function(t,e,r){"use strict";var n=r(1),i=r(400);n.Observable.prototype.shareReplay=i.shareReplay},function(t,e,r){"use strict";var n=r(1),i=r(401);n.Observable.prototype.single=i.single},function(t,e,r){"use strict";var n=r(1),i=r(402);n.Observable.prototype.skip=i.skip},function(t,e,r){"use strict";var n=r(1),i=r(403);n.Observable.prototype.skipLast=i.skipLast},function(t,e,r){"use strict";var n=r(1),i=r(404);n.Observable.prototype.skipUntil=i.skipUntil},function(t,e,r){"use strict";var n=r(1),i=r(405);n.Observable.prototype.skipWhile=i.skipWhile},function(t,e,r){"use strict";var n=r(1),i=r(406);n.Observable.prototype.startWith=i.startWith},function(t,e,r){"use strict";var n=r(1),i=r(407);n.Observable.prototype.subscribeOn=i.subscribeOn},function(t,e,r){"use strict";var n=r(1),i=r(408);n.Observable.prototype.switch=i._switch,n.Observable.prototype._switch=i._switch},function(t,e,r){"use strict";var n=r(1),i=r(409);n.Observable.prototype.switchMap=i.switchMap},function(t,e,r){"use strict";var n=r(1),i=r(410);n.Observable.prototype.switchMapTo=i.switchMapTo},function(t,e,r){"use strict";var n=r(1),i=r(411);n.Observable.prototype.take=i.take},function(t,e,r){"use strict";var n=r(1),i=r(412);n.Observable.prototype.takeLast=i.takeLast},function(t,e,r){"use strict";var n=r(1),i=r(413);n.Observable.prototype.takeUntil=i.takeUntil},function(t,e,r){"use strict";var n=r(1),i=r(414);n.Observable.prototype.takeWhile=i.takeWhile},function(t,e,r){"use strict";var n=r(1),i=r(84);n.Observable.prototype.throttle=i.throttle},function(t,e,r){"use strict";var n=r(1),i=r(415);n.Observable.prototype.throttleTime=i.throttleTime},function(t,e,r){"use strict";var n=r(1),i=r(85);n.Observable.prototype.timeInterval=i.timeInterval},function(t,e,r){"use strict";var n=r(1),i=r(416);n.Observable.prototype.timeout=i.timeout},function(t,e,r){"use strict";var n=r(1),i=r(417);n.Observable.prototype.timeoutWith=i.timeoutWith},function(t,e,r){"use strict";var n=r(1),i=r(86);n.Observable.prototype.timestamp=i.timestamp},function(t,e,r){"use strict";var n=r(1),i=r(418);n.Observable.prototype.toArray=i.toArray},function(t,e,r){"use strict";var n=r(1),i=r(419);n.Observable.prototype.toPromise=i.toPromise},function(t,e,r){"use strict";var n=r(1),i=r(420);n.Observable.prototype.window=i.window},function(t,e,r){"use strict";var n=r(1),i=r(421);n.Observable.prototype.windowCount=i.windowCount},function(t,e,r){"use strict";var n=r(1),i=r(422);n.Observable.prototype.windowTime=i.windowTime},function(t,e,r){"use strict";var n=r(1),i=r(423);n.Observable.prototype.windowToggle=i.windowToggle},function(t,e,r){"use strict";var n=r(1),i=r(424);n.Observable.prototype.windowWhen=i.windowWhen},function(t,e,r){"use strict";var n=r(1),i=r(425);n.Observable.prototype.withLatestFrom=i.withLatestFrom},function(t,e,r){"use strict";var n=r(1),i=r(55);n.Observable.prototype.zip=i.zipProto},function(t,e,r){"use strict";var n=r(1),i=r(426);n.Observable.prototype.zipAll=i.zipAll},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(49),s=r(15),u=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){var n=t.length;return 0===n?new s.EmptyObservable:1===n?new o.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,i=t.subscriber;if(!i.closed){if(r>=n)return void i.complete();i.next(e[r]),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=0,n=this,i=n.arrayLike,o=n.scheduler,s=i.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:i,index:r,length:s,subscriber:t});for(var u=0;u<s&&!t.closed;u++)t.next(i[u]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=u},function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function i(t){var e=t.err,r=t.subject;r.error(e)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(1),u=r(9),c=r(7),a=r(30),h=function(t){function e(e,r,n,i,o){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return o(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,this,n)}},e.prototype._subscribe=function(t){var r=this.callbackFunc,n=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(e.dispatch,0,{source:this,subscriber:t,context:this.context});if(!o){o=this.subject=new a.AsyncSubject;var s=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=t.source,i=n.selector,o=n.subject;if(i){var s=u.tryCatch(i).apply(this,e);s===c.errorObject?o.error(c.errorObject.e):(o.next(s),o.complete())}else o.next(e.length<=1?e[0]:e),o.complete()};s.source=this;var h=u.tryCatch(r).apply(this.context,n.concat(s));h===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(t)},e.dispatch=function(t){var e=this,r=t.source,o=t.subscriber,s=t.context,h=r.callbackFunc,l=r.args,p=r.scheduler,f=r.subject;if(!f){f=r.subject=new a.AsyncSubject;var d=function t(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var s=t.source,a=s.selector,h=s.subject;if(a){var l=u.tryCatch(a).apply(this,r);l===c.errorObject?e.add(p.schedule(i,0,{err:c.errorObject.e,subject:h})):e.add(p.schedule(n,0,{value:l,subject:h}))}else{var f=r.length<=1?r[0]:r;e.add(p.schedule(n,0,{value:f,subject:h}))}};d.source=r;var b=u.tryCatch(h).apply(s,l.concat(d));b===c.errorObject&&f.error(c.errorObject.e)}e.add(f.subscribe(o))},e}(s.Observable);e.BoundCallbackObservable=h},function(t,e,r){"use strict";function n(t){var e=this,r=t.source,n=t.subscriber,s=t.context,u=r,l=u.callbackFunc,p=u.args,f=u.scheduler,d=r.subject;if(!d){d=r.subject=new h.AsyncSubject;var b=function t(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var s=t.source,u=s.selector,h=s.subject,l=r.shift();if(l)e.add(f.schedule(o,0,{err:l,subject:h}));else if(u){var p=c.tryCatch(u).apply(this,r);p===a.errorObject?e.add(f.schedule(o,0,{err:a.errorObject.e,subject:h})):e.add(f.schedule(i,0,{value:p,subject:h}))}else{var d=r.length<=1?r[0]:r;e.add(f.schedule(i,0,{value:d,subject:h}))}};b.source=r;var y=c.tryCatch(l).apply(s,p.concat(b));y===a.errorObject&&e.add(f.schedule(o,0,{err:a.errorObject.e,subject:d}))}e.add(d.subscribe(n))}function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function o(t){var e=t.err,r=t.subject;r.error(e)}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=r(1),c=r(9),a=r(7),h=r(30),l=function(t){function e(e,r,n,i,o){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return s(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,this,n)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(n,0,{source:this,subscriber:t,context:this.context});if(!o){o=this.subject=new h.AsyncSubject;var s=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=t.source,i=n.selector,o=n.subject,s=e.shift();if(s)o.error(s);else if(i){var u=c.tryCatch(i).apply(this,e);u===a.errorObject?o.error(a.errorObject.e):(o.next(u),o.complete())}else o.next(e.length<=1?e[0]:e),o.complete()};s.source=this;var u=c.tryCatch(e).apply(this.context,r.concat(s));u===a.errorObject&&o.error(a.errorObject.e)}return o.subscribe(t)},e}(u.Observable);e.BoundNodeCallbackObservable=l},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(4),s=r(3),u=function(t){function e(e){t.call(this),this.observableFactory=e}return n(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new c(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=u;var c=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return n(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error,r=t.subscriber;r.error(e)},e.prototype._subscribe=function(t){var r=this.error,n=this.scheduler;return t.syncErrorThrowable=!0,n?n.schedule(e.dispatch,0,{error:r,subscriber:t}):void t.error(r)},e}(i.Observable);e.ErrorObservable=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(15),s=r(12),u=r(4),c=r(3),a=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return n(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new o.EmptyObservable;var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,n)},e.prototype._subscribe=function(t){return new h(t,this.sources,this.resultSelector)},e}(i.Observable);e.ForkJoinObservable=a;var h=function(t){function e(e,r,n){t.call(this,e),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=r[o],c=u.subscribeToResult(this,s,null,o);c&&(c.outerIndex=o,this.add(c))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this,n=r.haveValues,i=r.resultSelector,o=r.values,s=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===s){if(n===s){var u=i?i.apply(this,o):o;e.next(u)}e.complete()}},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===d.call(t)}function s(t){return!!t&&"[object HTMLCollection]"===d.call(t)}function u(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var c=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(1),h=r(9),l=r(38),p=r(7),f=r(5),d=Object.prototype.toString,b=function(t){function e(e,r,n,i){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n,this.options=i}return c(e,t),e.create=function(t,r,n,i){return l.isFunction(n)&&(i=n,n=void 0),new e(t,r,i,n)},e.setupSubscription=function(t,r,c,a,h){var l;if(o(t)||s(t))for(var p=0,d=t.length;p<d;p++)e.setupSubscription(t[p],r,c,a,h);else if(u(t)){var b=t;t.addEventListener(r,c,h),l=function(){return b.removeEventListener(r,c)}}else if(i(t)){var y=t;t.on(r,c),l=function(){return y.off(r,c)}}else{if(!n(t))throw new TypeError("Invalid event target");var v=t;t.addListener(r,c),l=function(){return v.removeListener(r,c)}}a.add(new f.Subscription(l))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,i=this.options,o=this.selector,s=o?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=h.tryCatch(o).apply(void 0,e);n===p.errorObject?t.error(p.errorObject.e):t.next(n)}:function(e){return t.next(e)};e.setupSubscription(r,n,s,t,i)},e}(a.Observable);e.FromEventObservable=b},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(1),s=r(5),u=function(t){function e(e,r,n){t.call(this),this.addHandler=e,this.removeHandler=r,this.selector=n}return n(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.prototype._subscribe=function(t){var e=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];e._callSelector(t,r)}:function(e){t.next(e)},o=this._callAddHandler(n,t);i.isFunction(r)&&t.add(new s.Subscription(function(){r(n,o)}))},e.prototype._callSelector=function(t,e){try{var r=this.selector.apply(this,e);t.next(r)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{return this.addHandler(t)||null}catch(t){e.error(t)}},e}(o.Observable);e.FromEventPatternObservable=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(13),s=function(t){return t},u=function(t){function e(e,r,n,i,o){t.call(this),this.initialState=e,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return n(e,t),e.create=function(t,r,n,i,u){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||s,t.scheduler):void 0===i||o.isScheduler(i)?new e(t,r,n,s,i):new e(t,r,n,i,u)},e.prototype._subscribe=function(t){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this,i=n.condition,o=n.resultSelector,s=n.iterate;;){if(i){var u=void 0;try{u=i(r)}catch(e){return void t.error(e)}if(!u){t.complete();break}}var c=void 0;try{c=o(r)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{r=s(r)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}},e}(i.Observable);e.GenerateObservable=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(4),s=r(3),u=function(t){function e(e,r,n){t.call(this),this.condition=e,this.thenSource=r,this.elseSource=n}return n(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.prototype._subscribe=function(t){var e=this,r=e.condition,n=e.thenSource,i=e.elseSource;return new c(t,r,n,i)},e}(i.Observable);e.IfObservable=u;var c=function(t){function e(e,r,n,i){t.call(this,e),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return n(e,t),e.prototype.tryIf=function(){var t,e=this,r=e.condition,n=e.thenSource,i=e.elseSource;try{t=r();var s=t?n:i;s?this.add(o.subscribeToResult(this,s)):this._complete()}catch(t){this._error(t)}},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(39),o=r(1),s=r(10),u=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=s.async),t.call(this),this.period=e,this.scheduler=r,(!i.isNumeric(e)||e<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return n(e,t),e.create=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=s.async),new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.subscriber,n=t.period;r.next(e),r.closed||(t.index+=1,this.schedule(t,n))},e.prototype._subscribe=function(t){var r=0,n=this.period,i=this.scheduler;t.add(i.schedule(e.dispatch,n,{index:r,subscriber:t,period:n}))},e}(o.Observable);e.IntervalObservable=u},function(t,e,r){"use strict";function n(t){var e=t[h.iterator];if(!e&&"string"==typeof t)return new p(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("object is not iterable");return t[h.iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&c.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(8),a=r(1),h=r(24),l=function(t){function e(e,r){if(t.call(this),this.scheduler=r,
null==e)throw new Error("iterator cannot be null.");this.iterator=n(e)}return u(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.iterator,i=t.subscriber;if(r)return void i.error(t.error);var o=n.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,i.closed?void("function"==typeof n.return&&n.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var r=0,n=this,i=n.iterator,o=n.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,iterator:i,subscriber:t});for(;;){var s=i.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed){"function"==typeof i.return&&i.return();break}}},e}(a.Observable);e.IteratorObservable=l;var p=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[h.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=i(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[h.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(98),s=function(t){function e(){t.call(this)}return n(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=s},function(t,e,r){"use strict";function n(t){var e=t.obj,r=t.keys,n=t.length,i=t.index,o=t.subscriber;if(i===n)return void o.complete();var s=r[i];o.next([s,e[s]]),t.index=i+1,this.schedule(t)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=function(t){function e(e,r){t.call(this),this.obj=e,this.scheduler=r,this.keys=Object.keys(e)}return i(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=e.keys,i=e.scheduler,o=r.length;if(i)return i.schedule(n,0,{obj:this.obj,keys:r,length:o,index:0,subscriber:t});for(var s=0;s<o;s++){var u=r[s];t.next([u,this.obj[u]])}t.complete()},e}(o.Observable);e.PairsObservable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=function(t){function e(e,r,n){t.call(this),this.start=e,this._count=r,this.scheduler=n}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),void 0===r&&(r=0),new e(t,r,n)},e.dispatch=function(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;return r>=n?void i.complete():(i.next(e),void(i.closed||(t.index=r+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,count:i,start:n,subscriber:t});for(;;){if(r++>=i){t.complete();break}if(t.next(n++),t.closed)break}},e}(i.Observable);e.RangeObservable=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(88),s=r(39),u=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),t.call(this),this.source=e,this.delayTime=r,this.scheduler=n,(!s.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=o.asap),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return this.add(e.subscribe(r))},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source,i=this.scheduler;return i.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(i.Observable);e.SubscribeOnObservable=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(39),o=r(1),s=r(10),u=r(13),c=r(37),a=function(t){function e(e,r,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):u.isScheduler(r)&&(n=r),u.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=c.isDate(e)?+e-this.scheduler.now():e}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),new e(t,r,n)},e.dispatch=function(t){var e=t.index,r=t.period,n=t.subscriber,i=this;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,i.schedule(t,r)}},e.prototype._subscribe=function(t){var r=0,n=this,i=n.period,o=n.dueTime,s=n.scheduler;return s.schedule(e.dispatch,o,{index:r,period:i,subscriber:t})},e}(o.Observable);e.TimerObservable=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(4),s=r(3),u=function(t){function e(e,r){t.call(this),this.resourceFactory=e,this.observableFactory=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e,r=this,n=r.resourceFactory,i=r.observableFactory;try{return e=n(),new c(t,e,i)}catch(e){t.error(e)}},e}(i.Observable);e.UsingObservable=u;var c=function(t){function e(e,r,n){t.call(this,e),this.resource=r,this.observableFactory=n,e.add(r),this.tryUse()}return n(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(o.subscribeToResult(this,t))}catch(t){this._error(t)}},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=r(302);e.bindCallback=n.BoundCallbackObservable.create},function(t,e,r){"use strict";var n=r(303);e.bindNodeCallback=n.BoundNodeCallbackObservable.create},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,n=null;return i.isScheduler(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new s.ArrayObservable(t,n).lift(new u.CombineLatestOperator(r))}var i=r(13),o=r(12),s=r(11),u=r(50);e.combineLatest=n},function(t,e,r){"use strict";var n=r(51);e.concat=n.concatStatic},function(t,e,r){"use strict";var n=r(304);e.defer=n.DeferObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(2),s=r(1),u=r(5),c=r(8),a=r(31),h=r(9),l=r(7),p=r(444),f=function(t){function e(e,r){if(e instanceof s.Observable)t.call(this,r,e);else{if(t.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new i.Subject,"string"==typeof e?this.url=e:p.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new a.ReplaySubject}}return n(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var r=new e(this,this.destination);return r.operator=t,r},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new a.ReplaySubject),this._output=new i.Subject},e.prototype.multiplex=function(t,e,r){var n=this;return new s.Observable(function(i){var o=h.tryCatch(t)();o===l.errorObject?i.error(l.errorObject.e):n.next(o);var s=n.subscribe(function(t){var e=h.tryCatch(r)(t);e===l.errorObject?i.error(l.errorObject.e):e&&i.next(t)},function(t){return i.error(t)},function(){return i.complete()});return function(){var t=h.tryCatch(e)();t===l.errorObject?i.error(l.errorObject.e):n.next(t),s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(t){return void r.error(t)}var i=new u.Subscription(function(){t.socket=null,n&&1===n.readyState&&n.close()});n.onopen=function(e){var s=t.openObserver;s&&s.next(e);var u=t.destination;t.destination=o.Subscriber.create(function(t){return 1===n.readyState&&n.send(t)},function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?n.close(e.code,e.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t.closingObserver;e&&e.next(void 0),n.close(),t._resetState()}),u&&u instanceof a.ReplaySubject&&i.add(u.subscribe(t.destination))},n.onerror=function(e){t._resetState(),r.error(e)},n.onclose=function(e){t._resetState();var n=t.closeObserver;n&&n.next(e),e.wasClean?r.complete():r.error(e)},n.onmessage=function(e){var n=h.tryCatch(t.resultSelector)(e);n===l.errorObject?r.error(l.errorObject.e):r.next(n)}},e.prototype._subscribe=function(t){var e=this,r=this.source;if(r)return r.subscribe(t);this.socket||this._connectSocket();var n=new u.Subscription;return n.add(this._output.subscribe(t)),n.add(function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),n},e.prototype.unsubscribe=function(){var e=this,r=e.source,n=e.socket;n&&1===n.readyState&&(n.close(),this._resetState()),t.prototype.unsubscribe.call(this),r||(this.destination=new a.ReplaySubject)},e}(i.AnonymousSubject);e.WebSocketSubject=f},function(t,e,r){"use strict";var n=r(75);e.ajax=n.AjaxObservable.create},function(t,e,r){"use strict";var n=r(324);e.webSocket=n.WebSocketSubject.create},function(t,e,r){"use strict";var n=r(15);e.empty=n.EmptyObservable.create},function(t,e,r){"use strict";var n=r(306);e.forkJoin=n.ForkJoinObservable.create},function(t,e,r){"use strict";var n=r(73);e.from=n.FromObservable.create},function(t,e,r){"use strict";var n=r(307);e.fromEvent=n.FromEventObservable.create},function(t,e,r){"use strict";var n=r(308);e.fromEventPattern=n.FromEventPatternObservable.create},function(t,e,r){"use strict";var n=r(74);e.fromPromise=n.PromiseObservable.create},function(t,e,r){"use strict";var n=r(310);e._if=n.IfObservable.create},function(t,e,r){"use strict";var n=r(311);e.interval=n.IntervalObservable.create},function(t,e,r){"use strict";var n=r(79);e.merge=n.mergeStatic},function(t,e,r){"use strict";var n=r(313);e.never=n.NeverObservable.create},function(t,e,r){"use strict";var n=r(11);e.of=n.ArrayObservable.of},function(t,e,r){"use strict";var n=r(314);e.pairs=n.PairsObservable.create},function(t,e,r){"use strict";var n=r(315);e.range=n.RangeObservable.create},function(t,e,r){"use strict";var n=r(305);e._throw=n.ErrorObservable.create},function(t,e,r){"use strict";var n=r(317);e.timer=n.TimerObservable.create},function(t,e,r){"use strict";var n=r(318);e.using=n.UsingObservable.create},function(t,e,r){"use strict";var n=r(55);e.zip=n.zipStatic},function(t,e,r){"use strict";function n(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(9),s=r(7),u=r(3),c=r(4);e.audit=n;var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.durationSelector))},t}(),h=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=o.tryCatch(this.durationSelector)(t);if(e===s.errorObject)this.destination.error(s.errorObject.e);else{var r=c.subscribeToResult(this,e);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,r,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(u.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=s.async),this.lift(new c(t,e))}function i(t){t.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(10),u=r(2);e.auditTime=n;var c=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.duration,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.duration=r,this.scheduler=n,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(u.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.buffer=n;var u=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingNotifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=null),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.bufferCount=n;var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,e&&t!==e?this.subscriberClass=c:this.subscriberClass=u}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),u=function(t){function e(e,r){t.call(this,e),this.bufferSize=r,this.buffer=[]}return i(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(o.Subscriber),c=function(t){function e(e,r,n){t.call(this,e),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return i(e,t),e.prototype._next=function(t){var e=this,r=e.bufferSize,n=e.startBufferEvery,i=e.buffers,o=e.count;this.count++,o%n===0&&i.push([]);for(var s=i.length;s--;){var u=i[s];u.push(t),u.length===r&&(i.splice(s,1),this.destination.next(u))}},e.prototype._complete=function(){for(var e=this,r=e.buffers,n=e.destination;r.length>0;){var i=r.shift();i.length>0&&n.next(i)}t.prototype._complete.call(this)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){var e=arguments.length,r=c.async;h.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),this.lift(new l(t,n,i,r))}function i(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function o(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext(),u=this;n.closed||(n.add(o.closeAction=i.schedule(s,r,{subscriber:n,context:o})),u.schedule(t,e))}function s(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(10),a=r(2),h=r(13);e.bufferTime=n;var l=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),p=function(){function t(){this.buffer=[]}return t}(),f=function(t){function e(e,r,n,u,c){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=u,this.scheduler=c,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var h={subscriber:this,context:a,bufferTimeSpan:r};this.add(a.closeAction=c.schedule(i,r,h))}else{var l={subscriber:this,context:a},p={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:c};this.add(a.closeAction=c.schedule(s,r,l)),this.add(c.schedule(o,n,p))}}return u(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,r=e.contexts,n=e.destination;r.length>0;){var i=r.shift();n.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(i,r,n))}},e.prototype.openContext=function(){var t=new p;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts,r=e?e.indexOf(t):-1;r>=0&&e.splice(e.indexOf(t),1)},e}(a.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(5),s=r(4),u=r(3);e.bufferToggle=n;var c=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.openings,this.closingSelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,r=e.call(this,t);r&&this.trySubscribe(r)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=[],n=new o.Subscription,i={buffer:r,subscription:n};e.push(i);var u=s.subscribeToResult(this,t,i);!u||u.closed?this.closeBuffer(i):(u.context=i,this.add(u),n.add(u))},e}(u.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new h(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(5),s=r(9),u=r(7),c=r(3),a=r(4);e.bufferWhen=n;var h=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,n,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=s.tryCatch(this.closingSelector)();r===u.errorObject?this.error(u.errorObject.e):(t=new o.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(a.subscribeToResult(this,r)),this.subscribing=!1)},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t){var e=new u(t),r=this.lift(e);return e.caught=r}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e._catch=n;var u=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(s.subscribeToResult(this,r))}},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new i.CombineLatestOperator(t))}var i=r(50);e.combineAll=n},function(t,e,r){"use strict";function n(){return this.lift(new i.MergeAllOperator(1))}var i=r(32);e.concatAll=n},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i=r(80);e.concatMap=n},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.MergeMapToOperator(t,e,1))}var i=r(81);e.concatMapTo=n},function(t,e,r){"use strict";function n(t){return this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.count=n;var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.count=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.debounce=n;var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return i(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=s.subscribeToResult(this,e),r.closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function i(t){t.debouncedNext()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(2),u=r(10);e.debounceTime=n;var c=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(s.Subscriber)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=null),this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.defaultIfEmpty=n;var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.defaultValue))},t}(),u=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){void 0===e&&(e=o.async);var r=s.isDate(t),n=r?+t-e.now():Math.abs(t);return this.lift(new a(n,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(10),s=r(37),u=r(2),c=r(21);e.delay=n;var a=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.delay,this.scheduler))},t}(),h=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return i(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,r=new l(e.now()+this.delay,t);this.queue.push(r),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(c.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete())},e}(u.Subscriber),l=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,r){"use strict";function n(t,e){return e?new l(this,e).lift(new a(t)):this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(1),u=r(3),c=r(4);e.delayWhen=n;var a=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.delayDurationSelector))},t}(),h=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return e!==-1&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=c.subscribeToResult(this,t,e);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(u.OuterSubscriber),l=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return i(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new p(t,this.source))},e}(s.Observable),p=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return i(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.dematerialize=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);
t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4),u=r(443);e.distinct=n;var c=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.keySelector,this.flushes))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.keySelector=r,this.values=new u.Set,n&&this.add(s.subscribeToResult(this,n))}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(o.OuterSubscriber);e.DistinctSubscriber=a},function(t,e,r){"use strict";function n(t,e){return i.distinctUntilChanged.call(this,function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}var i=r(76);e.distinctUntilKeyChanged=n},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new s(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e._do=n;var s=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(t){function e(e,r,n,i){t.call(this,e);var s=new o.Subscriber(r,n,i);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(25);e.elementAt=n;var u=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.index,this.defaultValue))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.index=r,this.defaultValue=n}return i(e,t),e.prototype._next=function(t){0===this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new s.ArgumentOutOfRangeError)),t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.every=n;var s=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg,this.source))},t}(),u=function(t){function e(e,r,n,i){t.call(this,e),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.exhaust=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return i(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(s.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.exhaustMap=n;var u=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return i(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var n=this.project(t,e);this.hasSubscription=!0,this.add(s.subscribeToResult(this,n,t,e))}catch(t){r.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,n):u.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i=this,o=i.resultSelector,s=i.destination;try{var u=o(t,e,r,n);s.next(u)}catch(t){s.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,this.lift(new a(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(9),s=r(7),u=r(3),c=r(4);e.expand=n;var a=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=a;var h=function(t){function e(e,r,n,i){t.call(this,e),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return i(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)return void this._complete();var n=this.index++;if(this.active<this.concurrent){r.next(t);var i=o.tryCatch(this.project)(t,n);if(i===s.errorObject)r.error(s.errorObject.e);else if(this.scheduler){var u={subscriber:this,result:i,value:t,index:n};this.add(this.scheduler.schedule(e.dispatch,0,u))}else this.subscribeToProjection(i,t,n)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(c.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(u.OuterSubscriber);e.ExpandSubscriber=h},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(5);e._finally=n;var u=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.callback))},t}(),c=function(t){function e(e,r){t.call(this,e),this.add(new s.Subscription(r))}return i(e,t),e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.FindValueOperator(t,this,!0,e))}var i=r(78);e.findIndex=n},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new u(t,e,r,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(35);e.first=n;var u=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e,r,n){return this.lift(new l(t,e,r,n))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(5),u=r(1),c=r(6),a=r(441),h=r(439);e.groupBy=n;var l=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),p=function(t){function e(e,r,n,i,o){t.call(this,e),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return i(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new h.FastMap:new a.Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new c.Subject,r.set(e,i);var o=new d(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new d(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new f(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),f=function(t){function e(e,r,n){t.call(this,r),this.key=e,this.group=r,this.parent=n}return i(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,e=t.parent,r=t.key;this.key=this.parent=null,e&&e.removeGroup(r)},e}(o.Subscriber),d=function(t){function e(e,r,n){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=n}return i(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,r=this,n=r.refCountSubscription,i=r.groupSubject;return n&&!n.closed&&e.add(new b(n)),e.add(i.subscribe(t)),e},e}(u.Observable);e.GroupedObservable=d;var b=function(t){function e(e){t.call(this),this.parent=e,e.count++}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(98);e.ignoreElements=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype._next=function(t){s.noop()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.isEmpty=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new u(t,e,r,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(35);e.last=n;var u=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return i(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},function(t,e){"use strict";function r(t){return t(this)}e.letProto=r},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.mapTo=n;var s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.value))},t}(),u=function(t){function e(e,r){t.call(this,e),this.value=r}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(21);e.materialize=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){var e="function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e};return this.lift(new i.ReduceOperator(e))}var i=r(54);e.max=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new a(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(9),s=r(7),u=r(4),c=r(3);e.mergeScan=n;var a=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=a;var h=function(t){function e(e,r,n,i){t.call(this,e),this.accumulator=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=o.tryCatch(this.accumulator)(this.acc,t),n=this.destination;r===s.errorObject?n.error(s.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(u.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(c.OuterSubscriber);e.MergeScanSubscriber=h},function(t,e,r){"use strict";function n(t){var e="function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e};return this.lift(new i.ReduceOperator(e))}var i=r(54);e.min=n},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.pairwise=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return i(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return[o.filter.call(this,t,e),o.filter.call(this,i.not(t,e))]}var i=r(445),o=r(77);e.partition=n},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return o.map.call(this,i(t,r))}function i(t,e){var r=function(r){for(var n=r,i=0;i<e;i++){var o=n[t[i]];if("undefined"==typeof o)return;n=o}return n};return r}var o=r(52);e.pluck=n},function(t,e,r){"use strict";function n(t){return t?o.multicast.call(this,function(){return new i.Subject},t):o.multicast.call(this,new i.Subject)}var i=r(6),o=r(17);e.publish=n},function(t,e,r){"use strict";function n(t){return o.multicast.call(this,new i.BehaviorSubject(t))}var i=r(69),o=r(17);e.publishBehavior=n},function(t,e,r){"use strict";function n(){return o.multicast.call(this,new i.AsyncSubject)}var i=r(30),o=r(17);e.publishLast=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(t,e,r))}var i=r(31),o=r(17);e.publishReplay=n},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),0===t?new s.EmptyObservable:t<0?this.lift(new u(-1,this)):this.lift(new u(t-1,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(15);e.repeat=n;var u=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.count,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,n=e.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new h(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(9),u=r(7),c=r(3),a=r(4);e.repeatWhen=n;var h=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,e))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this,e=t.notifications,r=t.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this,r=e.notifications,n=e.retries,i=e.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=r,this.retries=n,this.retriesSubscription=i,this},e.prototype.subscribeToRetries=function(){this.notifications=new o.Subject;var e=s.tryCatch(this.notifier)(this.notifications);return e===u.errorObject?t.prototype.complete.call(this):(this.retries=e,void(this.retriesSubscription=a.subscribeToResult(this,e)))},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.retry=n;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new h(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(9),u=r(7),c=r(3),a=r(4);e.retryWhen=n;var h=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,this.source))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new o.Subject,n=s.tryCatch(this.notifier)(r),n===u.errorObject)return t.prototype.error.call(this,u.errorObject.e);i=a.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,r=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.errors,u=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.sample=n;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new c(t),n=e.subscribe(r);return n.add(s.subscribeToResult(r,this.notifier)),n},t}(),c=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function i(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(2),u=r(10);e.sampleTime=n;var c=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.period,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(i,r,{subscriber:this,period:r}))}return o(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(s.Subscriber)},function(t,e,r){"use strict";function n(t,e){var r=!1;return arguments.length>=2&&(r=!0),this.lift(new s(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.scan=n;var s=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.accumulator,this.seed,this.hasSeed))},t}(),u=function(t){function e(e,r,n,i){t.call(this,e),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.hasSeed?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(9),u=r(7);e.sequenceEqual=n;var c=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compareTo,this.comparor))},t}();e.SequenceEqualOperator=c;var a=function(t){function e(e,r,n){t.call(this,e),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new h(e,this)))}return i(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,r=t._b,n=t.comparor;e.length>0&&r.length>0;){var i=e.shift(),o=r.shift(),c=!1;n?(c=s.tryCatch(n)(i,o),c===u.errorObject&&this.destination.error(u.errorObject.e)):c=i===o,c||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(o.Subscriber);e.SequenceEqualSubscriber=a;var h=function(t){function e(e,r){t.call(this,e),this.parent=r}return i(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return new s.Subject}function i(){return o.multicast.call(this,n).refCount()}var o=r(17),s=r(6);e.share=i},function(t,e,r){"use strict";function n(t,e,r){var n,s=i.multicast.call(this,function(){return this._isComplete?n:n=new o.ReplaySubject(t,e,r)});return s.refCount()}var i=r(17),o=r(31);e.shareReplay=n},function(t,e,r){"use strict";function n(t){return this.lift(new u(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(35);e.single=n;var u=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return i(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t);
},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.skip=n;var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(25);e.skipLast=n;var u=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new o.Subscriber(t)):e.subscribe(new c(t,this._skipCount))},t}(),c=function(t){function e(e,r){t.call(this,e),this._skipCount=r,this._count=0,this._ring=new Array(r)}return i(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var n=r%e,i=this._ring,o=i[n];i[n]=t,this.destination.next(o)}},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.skipUntil=n;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.skipWhile=n;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate))},t}(),u=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];c.isScheduler(r)?t.pop():r=null;var n=t.length;return 1===n?u.concatStatic(new o.ScalarObservable(t[0],r),this):n>1?u.concatStatic(new i.ArrayObservable(t,r),this):u.concatStatic(new s.EmptyObservable(r),this)}var i=r(11),o=r(49),s=r(15),u=r(51),c=r(13);e.startWith=n},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new o(t,e))}var i=r(316);e.subscribeOn=n;var o=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new i.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e._switch=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return i(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=s.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.switchMap=n;var u=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._tryNotifyNext(t,e,r,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.switchMapTo=n;var u=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.observable,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.inner=r,this.resultSelector=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,u=o.destination;s?this.tryResultSelector(t,e,r,n):u.next(e)},e.prototype.tryResultSelector=function(t,e,r,n){var i,o=this,s=o.resultSelector,u=o.destination;try{i=s(t,e,r,n)}catch(t){return void u.error(t)}u.next(i)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return 0===t?new u.EmptyObservable:this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(25),u=r(15);e.take=n;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return 0===t?new u.EmptyObservable:this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(25),u=r(15);e.takeLast=n;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;if(e.length<r)e.push(t);else{var i=n%r;e[i]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.takeUntil=n;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.takeWhile=n;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate))},t}(),u=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&(e=u.async),void 0===r&&(r=c.defaultThrottleConfig),this.lift(new a(t,e,r.leading,r.trailing))}function i(t){var e=t.subscriber;e.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(2),u=r(10),c=r(84);e.throttleTime=n;var a=function(){function t(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),h=function(t){function e(e,r,n,i,o){t.call(this,e),this.duration=r,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return o(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(i,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(s.Subscriber)},function(t,e,r){"use strict";function n(t,e){void 0===e&&(e=o.async);var r=s.isDate(t),n=r?+t-e.now():Math.abs(t);return this.lift(new a(n,r,e,new c.TimeoutError))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(10),s=r(37),u=r(2),c=r(92);e.timeout=n;var a=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=r,this.errorInstance=n}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),h=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return i(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(u.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r=o.async);var n=s.isDate(t),i=n?+t-r.now():Math.abs(t);return this.lift(new a(i,n,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(10),s=r(37),u=r(3),c=r(4);e.timeoutWith=n;var a=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),h=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return i(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(c.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(u.OuterSubscriber)},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2);e.toArray=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.array=[]}return i(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})}var i=r(8);e.toPromise=n},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(3),u=r(4);e.window=n;var c=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new a(t),n=e.subscribe(r);return n.closed||r.add(u.subscribeToResult(r,this.windowBoundaries)),n},t}(),a=function(t){function e(e){t.call(this,e),this.window=new o.Subject,e.next(this.window)}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new o.Subject;e.next(r)},e}(s.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(6);e.windowCount=n;var u=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.windowSize,this.startWindowEvery))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=n,this.windows=[new s.Subject],this.count=0,e.next(this.windows[0])}return i(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,u=0;u<o&&!this.closed;u++)i[u].next(t);var c=this.count-n+1;if(c>=0&&c%e===0&&!this.closed&&i.shift().complete(),++this.count%e===0&&!this.closed){var a=new s.Subject;i.push(a),r.next(a)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){var e=a.async,r=null,n=Number.POSITIVE_INFINITY;return p.isScheduler(arguments[3])&&(e=arguments[3]),p.isScheduler(arguments[2])?e=arguments[2]:l.isNumeric(arguments[2])&&(n=arguments[2]),p.isScheduler(arguments[1])?e=arguments[1]:l.isNumeric(arguments[1])&&(r=arguments[1]),this.lift(new f(t,r,n,e))}function i(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function o(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),u=this,c={action:u,subscription:null},a={subscriber:r,window:o,context:c};c.subscription=n.schedule(s,e,a),u.add(c.subscription),u.schedule(t,i)}function s(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(6),a=r(10),h=r(2),l=r(39),p=r(13);e.windowTime=n;var f=function(){function t(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new b(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),d=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return u(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(c.Subject),b=function(t){function e(e,r,n,u,c){t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=n,this.maxWindowSize=u,this.scheduler=c,this.windows=[];var a=this.openWindow();if(null!==n&&n>=0){var h={subscriber:this,window:a,context:null},l={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:c};this.add(c.schedule(s,r,h)),this.add(c.schedule(o,n,l))}else{var p={subscriber:this,window:a,windowTimeSpan:r};this.add(c.schedule(i,r,p))}}return u(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new d;this.windows.push(t);var e=this.destination;return e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(h.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new l(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(5),u=r(9),c=r(7),a=r(3),h=r(4);e.windowToggle=n;var l=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.openings,this.closingSelector))},t}(),p=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=h.subscribeToResult(this,r,r))}return i(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,i){if(t===this.openings){var a=this.closingSelector,l=u.tryCatch(a)(e);if(l===c.errorObject)return this.error(c.errorObject.e);var p=new o.Subject,f=new s.Subscription,d={window:p,subscription:f};this.contexts.push(d);var b=h.subscribeToResult(this,l,d);b.closed?this.closeWindow(this.contexts.length-1):(b.context=d,f.add(b)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(a.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new h(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(9),u=r(7),c=r(3),a=r(4);e.windowWhen=n;var h=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new o.Subject;this.destination.next(r);var n=s.tryCatch(this.closingSelector)();if(n===u.errorObject){var i=u.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=a.subscribeToResult(this,n))},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return this.lift(new u(n,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(4);e.withLatestFrom=n;var u=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.observables,this.project))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var u=r[o];this.add(s.subscribeToResult(this,u,u,o))}}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new i.ZipOperator(t))}var i=r(55);e.zipAll=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(5),o=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i.Subscription);e.Action=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(22),o=r(438),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.recycleAsyncId.call(this,e,r,n):void(0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0))},e}(i.AsyncAction);e.AnimationFrameAction=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(23),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do if(e=t.execute(t.state,t.delay))break;while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(i.AsyncScheduler);e.AnimationFrameScheduler=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(440),o=r(22),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.recycleAsyncId.call(this,e,r,n):void(0===e.actions.length&&(i.Immediate.clearImmediate(r),e.scheduled=void 0))},e}(o.AsyncAction);e.AsapAction=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(23),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do if(e=t.execute(t.state,t.delay))break;while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(i.AsyncScheduler);e.AsapScheduler=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(22),o=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(i.AsyncAction);e.QueueAction=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(23),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(i.AsyncScheduler);e.QueueScheduler=o},function(t,e,r){"use strict";var n=r(428),i=r(429);e.animationFrame=new i.AnimationFrameScheduler(n.AnimationFrameAction)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(5),s=r(91),u=r(94),c=function(t){function e(e,r){t.call(this,function(t){var e=this,r=e.logSubscribedFrame();return t.add(new o.Subscription(function(){e.logUnsubscribedFrame(r)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=r}return n(e,t),e.prototype.scheduleMessages=function(t){
for(var e=this.messages.length,r=0;r<e;r++){var n=this.messages[r];t.add(this.scheduler.schedule(function(t){var e=t.message,r=t.subscriber;e.notification.observe(r)},n.frame,{message:n,subscriber:t}))}},e}(i.Observable);e.ColdObservable=c,u.applyMixins(c,[s.SubscriptionLoggable])},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(5),s=r(91),u=r(94),c=function(t){function e(e,r){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=r}return n(e,t),e.prototype._subscribe=function(e){var r=this,n=r.logSubscribedFrame();return e.add(new o.Subscription(function(){r.logUnsubscribedFrame(n)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,r=0;r<e;r++)!function(){var e=t.messages[r];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(i.Subject);e.HotObservable=c,u.applyMixins(c,[s.SubscriptionLoggable])},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=r(21),s=r(435),u=r(436),c=r(90),a=r(87),h=750,l=function(t){function e(e){t.call(this,a.VirtualAction,h),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return n(e,t),e.prototype.createTime=function(t){var r=t.indexOf("|");if(r===-1)throw new Error('marble diagram for time should have a completion marker "|"');return r*e.frameTimeFactor},e.prototype.createColdObservable=function(t,r,n){if(t.indexOf("^")!==-1)throw new Error('cold observable cannot have subscription offset "^"');if(t.indexOf("!")!==-1)throw new Error('cold observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,r,n),o=new s.ColdObservable(i,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,r,n){if(t.indexOf("!")!==-1)throw new Error('hot observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,r,n),o=new u.HotObservable(i,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var r=this,n=[];return t.subscribe(function(t){n.push({frame:r.frame-e,notification:o.Notification.createNext(t)})},function(t){n.push({frame:r.frame-e,notification:o.Notification.createError(t)})},function(){n.push({frame:r.frame-e,notification:o.Notification.createComplete()})}),n},e.prototype.expectObservable=function(t,r){var n=this;void 0===r&&(r=null);var s,u=[],c={actual:u,ready:!1},a=e.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule(function(){s=t.subscribe(function(t){var e=t;t instanceof i.Observable&&(e=n.materializeInnerObservable(e,n.frame)),u.push({frame:n.frame,notification:o.Notification.createNext(e)})},function(t){u.push({frame:n.frame,notification:o.Notification.createError(t)})},function(){u.push({frame:n.frame,notification:o.Notification.createComplete()})})},0),a!==Number.POSITIVE_INFINITY&&this.schedule(function(){return s.unsubscribe()},a),this.flushTests.push(c),{toBe:function(t,r,n){c.ready=!0,c.expected=e.parseMarbles(t,r,n,!0)}}},e.prototype.expectSubscriptions=function(t){var r={actual:t,ready:!1};return this.flushTests.push(r),{toBe:function(t){var n="string"==typeof t?[t]:t;r.ready=!0,r.expected=n.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var r=this.flushTests.filter(function(t){return t.ready});r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,r=-1,n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<e;o++){var s=o*this.frameTimeFactor,u=t[o];switch(u){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+u+"'.")}}return i<0?new c.SubscriptionLog(n):new c.SubscriptionLog(n,i)},e.parseMarbles=function(t,e,r,n){if(void 0===n&&(n=!1),t.indexOf("!")!==-1)throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=t.length,u=[],c=t.indexOf("^"),a=c===-1?0:c*-this.frameTimeFactor,h="object"!=typeof e?function(t){return t}:function(t){return n&&e[t]instanceof s.ColdObservable?e[t].messages:e[t]},l=-1,p=0;p<i;p++){var f=p*this.frameTimeFactor+a,d=void 0,b=t[p];switch(b){case"-":case" ":break;case"(":l=f;break;case")":l=-1;break;case"|":d=o.Notification.createComplete();break;case"^":break;case"#":d=o.Notification.createError(r||"error");break;default:d=o.Notification.createNext(h(b))}d&&u.push({frame:l>-1?l:f,notification:d})}return u},e}(a.VirtualTimeScheduler);e.TestScheduler=l},function(t,e,r){"use strict";var n=r(8),i=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();e.RequestAnimationFrameDefinition=i,e.AnimationFrame=new i(n.root)},function(t,e){"use strict";var r=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&t.call(e,r[n],n)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=r},function(t,e,r){(function(t,n){"use strict";var i=r(8),o=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=function t(){var e=t,r=e.handler,n=e.args;"function"==typeof r?r.apply(void 0,n):new Function(""+r)()};return n.handler=t,n.args=e,n},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,r)),r};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",r=function r(n){var i=r.instance;n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i.runIfPresent(+n.data.slice(e.length))};r.instance=this,t.addEventListener("message",r,!1);var n=function t(){var e=t,r=e.messagePrefix,n=e.instance,i=n.addFromSetImmediateArguments(arguments);return n.root.postMessage(r+i,"*"),i};return n.instance=this,n.messagePrefix=e,n},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var r=e.data;t.runIfPresent(r)};var r=function t(){var e=t,r=e.channel,n=e.instance,i=n.addFromSetImmediateArguments(arguments);return r.port2.postMessage(i),i};return r.channel=e,r.instance=this,r},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,r=e.root,n=r.document,i=n.documentElement,o=e.addFromSetImmediateArguments(arguments),s=n.createElement("script");return s.onreadystatechange=function(){e.runIfPresent(o),s.onreadystatechange=null,i.removeChild(s),s=null},i.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,r),0),r};return t.instance=this,t},t}();e.ImmediateDefinition=o,e.Immediate=new o(i.root)}).call(e,r(104).clearImmediate,r(104).setImmediate)},function(t,e,r){"use strict";var n=r(8),i=r(442);e.Map=n.root.Map||function(){return i.MapPolyfill}()},function(t,e){"use strict";var r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return e===-1?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return r===-1?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return e!==-1&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();e.MapPolyfill=r},function(t,e,r){"use strict";function n(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return this._values.indexOf(t)!==-1},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var i=r(8);e.minimalSetImpl=n,e.Set=i.root.Set||n()},function(t,e,r){"use strict";function n(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=e.length,i=0;i<n;i++){var o=e[i];for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t}function i(t){return t.Object.assign||n}var o=r(8);e.assignImpl=n,e.getAssign=i,e.assign=i(o.root)},function(t,e){"use strict";function r(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}e.not=r},function(t,e,r){"use strict";function n(t,e,r){if(t){if(t instanceof i.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||r?new i.Subscriber(t,e,r):new i.Subscriber(s.empty)}var i=r(2),o=r(34),s=r(70);e.toSubscriber=n},function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return b[d]=n,f(d),d++}function i(t){delete b[t]}function o(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function s(t){if(y)setTimeout(s,0,t);else{var e=b[t];if(e){y=!0;try{o(e)}finally{i(t),y=!1}}}}function u(){f=function(t){e.nextTick(function(){s(t)})}}function c(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}function a(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&s(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),f=function(r){t.postMessage(e+r,"*")}}function h(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;s(e)},f=function(e){t.port2.postMessage(e)}}function l(){var t=v.documentElement;f=function(e){var r=v.createElement("script");r.onreadystatechange=function(){s(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}function p(){f=function(t){setTimeout(s,0,t)}}if(!t.setImmediate){var f,d=1,b={},y=!1,v=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?u():c()?a():t.MessageChannel?h():v&&"onreadystatechange"in v.createElement("script")?l():p(),m.setImmediate=n,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),r(14))},function(t,e,r){function n(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,n=o(t),s=n.source,h=n.id,l=n.path,p=a[h]&&l in a[h].nsps,f=e.forceNew||e["force new connection"]||!1===e.multiplex||p;return f?(c("ignoring socket cache for %s",s),r=u(s,e)):(a[h]||(c("new io instance for %s",s),a[h]=u(s,e)),r=a[h]),n.query&&!e.query?e.query=n.query:e&&"object"==typeof e.query&&(e.query=i(e.query)),r.socket(n.path,e)}function i(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}var o=r(449),s=r(56),u=r(99),c=r(40)("socket.io-client");t.exports=e=n;var a=e.managers={};e.protocol=s.protocol,e.connect=n,e.Manager=r(99),e.Socket=r(101)},function(t,e,r){(function(e){function n(t,r){var n=t;r=r||e.location,null==t&&(t=r.protocol+"//"+r.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t="undefined"!=typeof r?r.protocol+"//"+t:"https://"+t),o("parse %s",t),n=i(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var s=n.host.indexOf(":")!==-1,u=s?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+u+":"+n.port,n.href=n.protocol+"://"+u+(r&&r.port===n.port?"":":"+n.port),n}var i=r(66),o=r(40)("socket.io-client:url");t.exports=n}).call(e,function(){return this}())},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function i(t){function r(){}function i(){var t=i,r=+new Date,o=r-(a||r);t.diff=o,t.prev=a,t.curr=r,a=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;c++;var i=e.formatters[n];if("function"==typeof i){var o=s[c];r=i.call(t,o),s.splice(c,1),c--}return r}),s=e.formatArgs.apply(t,s);var h=i.log||e.log||console.log.bind(console);h.apply(t,s)}r.enabled=!1,i.enabled=!0;var o=e.enabled(t)?i:r;return o.namespace=t,o}function o(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&(t=r[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function u(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i.debug=i,e.coerce=c,e.disable=s,e.enable=o,e.enabled=u,e.humanize=r(451),e.names=[],e.skips=[],e.formatters={};var a,h=0},function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*u;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=a?Math.round(t/a)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function i(t){return o(t,a,"day")||o(t,c,"hour")||o(t,u,"minute")||o(t,s,"second")||t+" ms"}function o(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,u=60*s,c=60*u,a=24*c,h=365.25*a;t.exports=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return r(t);if("number"===o&&isNaN(t)===!1)return e.long?i(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){(function(t){var n=r(65),i=r(103);e.deconstructPacket=function(t){function e(t){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:r.length};return r.push(t),o}if(n(t)){for(var s=new Array(t.length),u=0;u<t.length;u++)s[u]=e(t[u]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var r=[],o=t.data,s=t;return s.data=e(o),s.attachments=r.length,{packet:s,buffers:r}},e.reconstructPacket=function(t,e){function r(t){if(t&&t._placeholder){var i=e[t.num];return i}if(n(t)){for(var o=0;o<t.length;o++)t[o]=r(t[o]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=r(t[s]);return t}return t}return t.data=r(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,r){function o(e,c,a){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var h=new FileReader;h.onload=function(){a?a[c]=this.result:u=this.result,--s||r(u)},h.readAsArrayBuffer(e)}else if(n(e))for(var l=0;l<e.length;l++)o(e[l],l,e);else if(e&&"object"==typeof e&&!i(e))for(var p in e)o(e[p],p,e)}var s=0,u=e;o(u),s||r(u)}}).call(e,function(){return this}())},function(t,e,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,n),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function u(){var t;try{t=e.storage.debug}catch(t){}return t}function c(){try{return window.localStorage}catch(t){}}e=t.exports=r(454),e.log=o,e.formatArgs=i,e.save=s,e.load=u,e.useColors=n,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(u())},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function i(t){function r(){}function i(){var t=i,r=+new Date,o=r-(a||r);t.diff=o,t.prev=a,t.curr=r,a=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var u=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),"function"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s));var c=i.log||e.log||console.log.bind(console);c.apply(t,s)}r.enabled=!1,i.enabled=!0;var o=e.enabled(t)?i:r;return o.namespace=t,o}function o(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&(t=r[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function u(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i,e.coerce=c,e.disable=s,e.enable=o,e.enabled=u,e.humanize=r(455),e.names=[],e.skips=[],e.formatters={};var a,h=0},function(t,e){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*u;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(t){return t>=a?Math.round(t/a)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function i(t){return o(t,a,"day")||o(t,c,"hour")||o(t,u,"minute")||o(t,s,"second")||t+" ms"}function o(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,u=60*s,c=60*u,a=24*c,h=365.25*a;t.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e.long?i(t):n(t)}},function(t,e){function r(t,e){var r=[];e=e||0;for(var n=e||0;n<t.length;n++)r[n-e]=t[n];return r}t.exports=r},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,r){var n;(function(t,i){!function(o){function s(t){for(var e,r,n=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function u(t){for(var e,r=t.length,n=-1,i="";++n<r;)e=t[n],e>65535&&(e-=65536,i+=_(e>>>10&1023|55296),e=56320|1023&e),i+=_(e);return i}function c(t,e){return _(t>>e&63|128)}function a(t){if(0==(4294967168&t))return _(t);var e="";return 0==(4294965248&t)?e=_(t>>6&31|192):0==(4294901760&t)?(e=_(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=_(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=_(63&t|128)}function h(t){for(var e,r=s(t),n=r.length,i=-1,o="";++i<n;)e=r[i],o+=a(e);return o}function l(){if(m>=v)throw Error("Invalid byte index");var t=255&y[m];if(m++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(){var t,e,r,n,i;if(m>v)throw Error("Invalid byte index");if(m==v)return!1;if(t=255&y[m],m++,0==(128&t))return t;if(192==(224&t)){var e=l();if(i=(31&t)<<6|e,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=l(),r=l(),i=(15&t)<<12|e<<6|r,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=l(),r=l(),n=l(),i=(15&t)<<18|e<<12|r<<6|n,i>=65536&&i<=1114111))return i;throw Error("Invalid WTF-8 detected")}function f(t){y=s(t),v=y.length,m=0;for(var e,r=[];(e=p())!==!1;)r.push(e);return u(r)}var d="object"==typeof e&&e,b=("object"==typeof t&&t&&t.exports==d&&t,"object"==typeof i&&i);b.global!==b&&b.window!==b||(o=b);var y,v,m,_=String.fromCharCode,w={version:"1.0.0",encode:h,decode:f};n=function(){return w}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(42)(t),function(){return this}())},function(t,e,r){r(170),r(167),r(126),r(145),r(448)},function(t,e){t.exports=angular},function(t,e){}]);