{"version":3,"sources":["webpack:///webpack/bootstrap cf0abdfa1ca838201298","webpack:///./src/abl-sdk.js"],"names":["angular","module","provider","$feathersProvider","endpoint","socketOpts","useSocket","authStorage","window","localStorage","services","setAuthStorage","newAuthStorage","setSocketOpts","opts","socketEnabled","setEndpoint","newEndpoint","setServices","newServices","$get","$injector","$rootScope","$timeout","$log","$mdToast","get","loading","loadingTimeout","afterRender","current","total","cancel","showToast","msg","toastClass","delay","toast","simple","textContent","action","hideDelay","position","highlightAction","show","debug","$on","event","toState","toParams","fromState","fromParams","app","feathers","configure","hooks","socket","io","socketio","rest","jquery","jQuery","authentication","storage","directive","def","restrict","terminal","transclude","link","scope","element","attrs","$eval"],"mappings":"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","file":"abl-sdk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cf0abdfa1ca838201298","angular.module('abl-sdk-feathers', ['ngMaterial'])\n  .provider('$feathers', [\n    function $feathersProvider() {\n      //OK this works and we can still keep configuring it the same way we were before :) \n      //muy bien\n      var endpoint = null\n      var socketOpts = null\n      var useSocket = true\n      var authStorage = window.localStorage\n      var services = [];\n\n      //Configuration\n      return {\n        setAuthStorage: function(newAuthStorage) {\n          authStorage = newAuthStorage\n        },\n        setSocketOpts: function(opts) {\n          socketOpts = opts\n        },\n        useSocket: function(socketEnabled) {\n          useSocket = !!socketEnabled\n        },\n        setEndpoint: function(newEndpoint) {\n          endpoint = newEndpoint\n        },\n        setServices: function(newServices) {\n          services = newServices\n        },\n        $get: ['$injector', '$rootScope', '$timeout', '$log', '$mdToast',\n          function($injector, $rootScope, $timeout, $log, $mdToast) {\n            var $rootScope = $injector.get('$rootScope');\n\n            $rootScope.loading = true;\n            this.loadingTimeout = null;\n\n            //Add timeout\n            $rootScope.afterRender = function(current, total) {\n              //$log.debug('after render', current, total,  Math.round(current/total * 100));\n              $timeout.cancel(this.loadingTimeout);\n              this.loadingTimeout = $timeout(function() {\n                //$log.debug('loading', $rootScope.loading);\n                $rootScope.loading = false;\n              }, 1500);\n            };\n\n\n            $rootScope.showToast = function(msg, toastClass, delay) {\n              if (!toastClass)\n                var toastClass = '';\n              if (!delay)\n                var delay = 3000;\n\n              var toast = $mdToast.simple()\n                .textContent(msg)\n                .action('Hide')\n                .hideDelay(delay)\n                .position('bottom left')\n                .highlightAction(false)\n                .toastClass(toastClass);\n              $mdToast.show(toast);\n              $log.debug('showToast ', toastClass, msg);\n            };\n\n            //Show indeterminate loading animation for all state changes\n            $rootScope.$on('$stateChangeStart',\n              function(event, toState, toParams, fromState, fromParams) {\n                //Show loading only for higher level parent states..\n                // if(toState.name.split('.').length < 2)\n                $rootScope.loading = true;\n              });\n\n            //Stop loading animation after state load success\n            $rootScope.$on('$stateChangeSuccess',\n              function(event, toState, toParams, fromState, fromParams) {\n                if ($rootScope.loading)\n                  $rootScope.afterRender();\n              });\n\n            this.app = feathers()\n              .configure(feathers.hooks())\n\n            if (useSocket) {\n              this.socket = io(endpoint, socketOpts)\n              this.app.configure(feathers.socketio(this.socket))\n            } else {\n              this.app.configure(feathers.rest(endpoint).jquery(window.jQuery))\n            }\n\n            this.app.configure(feathers.authentication({\n              storage: authStorage\n            }));\n\n\n            return this.app\n          }\n        ]\n      }\n    }\n  ])\n  .directive('afterRender', ['$timeout', function($timeout) {\n    var def = {\n      restrict: 'A',\n      terminal: true,\n      transclude: false,\n      link: function(scope, element, attrs) {\n        $timeout(scope.$eval(attrs.afterRender), 1000); //Calling a scoped method\n      }\n    };\n    return def;\n  }]);\n\n\n// WEBPACK FOOTER //\n// ./src/abl-sdk.js"],"sourceRoot":""}