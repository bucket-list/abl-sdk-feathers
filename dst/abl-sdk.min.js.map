{"version":3,"sources":["webpack:///./src/abl-sdk.js","webpack:///./src/utils.js","webpack:///./src/styles.css?f492","webpack:///./src/styles.css","webpack:///./src/lib/helper-styles.css?200c","webpack:///./src/lib/helper-styles.css","webpack:///./src/rest.js","webpack:///./src/lib/directives/toUppercase.directive.js","webpack:///./src/lib/directives/formatPhone.directive.js","webpack:///./src/lib/directives/focusParent.directive.js","webpack:///./src/lib/directives/size.directive.js","webpack:///./src/lib/services/navigator.service.js","webpack:///./src/lib/components/col.component.js","webpack:///./src/lib/components/column.html","webpack:///./src/lib/components/progressButton.component.js","webpack:///./src/lib/components/progressButton.html","webpack:///./src/lib/components/progressButton.css?4c0b","webpack:///./src/lib/components/progressButton.css","webpack:///./src/lib/components/listItem.component.js","webpack:///./src/lib/components/listItem.html","webpack:///./src/lib/components/listItemNumericControl.component.js","webpack:///./src/lib/components/listItemNumericControl.html","webpack:///./src/lib/components/listItemAddCharge.component.js","webpack:///./src/lib/components/listItemAddCharge.html","webpack:///./src/lib/components/listItem.css?7895","webpack:///./src/lib/components/listItem.css","webpack:///./src/lib/components/listItemHeader.component.js","webpack:///./src/lib/components/listItemHeader.html","webpack:///./src/activity/activity-book.js","webpack:///./src/activity/activity-book.css?9fca","webpack:///./src/activity/activity-book.css","webpack:///./src/activity/activity-total.html","webpack:///./src/activity/activity-forms.html","webpack:///./src/activity/activity-book.html","webpack:///./src/activity/activity-book-validators.js","webpack:///./src/activity/activity.adjustment.controls.component.js"],"names":["ablBook","require","jQuery","window","sdkProvider","settings","endpoint","apiKey","socketOpts","useSocket","services","socketEnabled","setSocketOpts","opts","setEndpoint","newEndpoint","setApiKey","key","setServices","newServices","getSettings","$get","$injector","$timeout","$log","$mdToast","$http","$rootScope","get","that","app","console","log","config","configure","hooks","use","name","DASHBOARD","storage","localStorage","headers","Date","parse","toISOString","socket","io","socketio","rest","jquery","ajaxSetup","url","loading","loadingTimeout","afterRender","current","total","cancel","$abl","feathersSdk","$feathersProvider","ablSdk","$ablProvider","angular","module","provider","filter","input","start","slice","service","directive","component","setupUtilityFunctions","showToast","msg","toastClass","delay","toast","simple","textContent","action","hideDelay","position","highlightAction","show","debug","randomInt","min","max","Math","floor","random","a","b","c","safeApply","fn","$root","phase","$$phase","$apply","Rx","moment","api","activity","query","Observable","fromPromise","activityService","find","catch","response","empty","select","list","activitySearchService","timeslots","getRange","d","method","data","id","eventService","timeslotService","activitySearchInterval","t","setInterval","cache","cacheQuery","page","pageSize","then","res","create","map","updateCache","modified","activities","updated","acs","fromArray","hook","result","_id","undefined","subscribe","x","push","err","Promise","resolve","store","length","i","update","getObjectIndex","arr","after","all","toUppercase","link","scope","element","attrs","modelCtrl","capitalize","inputValue","capitalized","toUpperCase","$setViewValue","$render","$parsers","ngModel","formatPhone","restrict","elem","ctrl","add","phonenumber","on","origVal","val","replace","str","phone","focusParent","$","parentElement","addClass","onFocus","removeClass","size","children","navigatorService","$inject","$window","$q","getCurrentPosition","deferred","defer","navigator","geolocation","reject","promise","col","bindings","pos","controller","$element","$scope","$onInit","$onChanges","changesObj","$postLink","template","transclude","controllerAs","progressButton","class","ngDisabled","spinner","stroke","fill","label","disabled","listItem","listItemNumericControl","value","price","increment","decrement","checkAdjustValue","listItemAddCharge","group","buttonClass","listItemHeader","actionClick","expanded","title","icon","click","run","$templateCache","put","$sce","$compile","$mdMedia","$mdDialog","rx","observeOnScope","$stateParams","$state","book","onResize","$digest","$attrs","vm","formWasBlocked","guestDetailsExpanded","attendeesExpanded","addonsExpanded","questionsExpanded","stripePaymentExpanded","stripeCardIsValid","paymentExpanded","showPaymentForm","paymentWasSent","waitingForResponse","validStepsForPayment","couponStatus","appliedCoupon","couponQuery","occupancyRemaining","attendeeSubtotals","addonSubtotals","taxes","taxTotal","addons","questions","goToPay","submitNonCreditCardBooking","sendConfirmationEmail","merchant","dashboard","formatDate","date","format","paymentResponse","paymentSuccessful","goToNextStep","currentStepName","form","toggleGuestDetails","toggleAttendees","countAttendeesAdded","isPaymentValid","guestDetailsFormValid","togglePayment","returnToMainPage","hide","reload","go","pricing","addonTotal","attendeeTotal","bookingSucceeded","screenIsBig","w","innerWidth","addBookingController","$parent","toggleQuestions","adjustAddon","mode","quantity","getPricingQuote","toggleAddons","toggleStripePay","togglePay","payButtonEnabled","adjustAttendee","countAttendees","attendees","checkAdjustAttendee","$index","buildQuery","forEach","e","FEATHERS_URL","successCallback","couponDeduction","items","item","type","addonsFilter","addonsArray","addon","object","obj","amount","reduce","att","aapFilter","attendeesArray","aap","aaps","tax","errorCallback","errors","getPossibleCoupons","possibleCoupons","clients","change","newValue","selectedClientChange","client","formData","fullName","primaryContact","mail","email","phoneNumber","autocomplete","searchTextChange","text","selectedItemChange","validateCoupon","checkingCoupon","querySearch","checkCoupon","removeCoupon","selectedItem","coupon","today","endTime","isAfter","maxRedemptions","redemptions","bookingQuestionsCompleted","completed","bookingQuestions","debounce","$watch","changes","isDefined","charges","charge","status","timeslot","event","startTime","maxOcc","attendeesAdded","countAddonsAdded","addonsChanged","areGuestDetailsValid","guestDetailsAreValid","$valid","guest","areAttendeesValid","areAddonsValid","areBookingQuestionsValid","isValid","step","isNextStepPayment","paymentMethod","getBookingData","bookingData","copy","operator","organizations","outputBookingData","bookingSuccessResponse","makeBooking","stripeToken","location","isMobile","$emit","validatePayment","errorElement","document","getElementById","loadingIframe","bookingResponse","iframe","style","display","iframeDoc","contentWindow","open","write","iframeHtml","close","lpad","numberStr","padString","paymentMessageHandler","$broadcast","removeEventListener","addEventListener","mergeIdenticalArrayItemsIntoObject","oldObject","seen","hasOwnProperty","activityBookValidator","searchClients","apiVersion","activityAdjustmentControls","addCharge"],"mappings":"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","file":"abl-sdk.min.js","sourcesContent":["//Including independent module source code for packaging\nconst ablBook = require('./activity/activity-book.js');\nimport RxJS from 'rx';\n\nconst jQuery = window.jQuery;\n\nimport feathers from 'feathers-client';\nimport localstorage from 'feathers-localstorage';\nimport feathersRx from 'feathers-reactive';\n\nimport rxa from 'rx-angular/dist/rx.angular';\n\n// import feathersAuthentication from './auth';\nimport setupUtilFunctions from './utils';\n\nimport styles from './styles.css';\nimport helperStyles from './lib/helper-styles.css';\n// import pStyles from './datePicker/picker.css';\n\nimport rest from './rest';\n\nvar sdkProvider = function (settings) {\n\n  var endpoint = null\n  var apiKey = null\n  var socketOpts = null\n  var useSocket = true\n  var services = [];\n\n  //Configuration\n  return {\n    useSocket: function (socketEnabled) {\n      useSocket = !!socketEnabled\n    },\n    setSocketOpts: function (opts) {\n      socketOpts = opts\n    },\n    setEndpoint: function (newEndpoint) {\n      endpoint = newEndpoint\n    },\n    setApiKey: function (key) {\n      apiKey = key\n    },\n    setServices: function (newServices) {\n      services = newServices\n    },\n    getSettings: function () {\n      return endpoint;\n    },\n    $get: [\n      '$injector',\n      '$timeout',\n      '$log',\n      '$mdToast',\n      '$http',\n      function ($injector, $timeout, $log, $mdToast, $http) {\n        var $rootScope = $injector.get('$rootScope');\n        var that = this;\n\n        if (!endpoint) {\n          this.app = {};\n          return this.app;\n        }\n\n        console.log('config', $rootScope.config);\n\n        this.app = feathers().configure(feathersRx(RxJS)) //feathers-reactive\n          .configure(feathers.hooks())\n          .use('cache', localstorage({\n            name: 'abl' + ($rootScope.config.DASHBOARD\n              ? '-dash'\n              : ''),\n            storage: window.localStorage\n          }));\n\n        this.app.endpoint = endpoint;\n        this.app.apiKey = apiKey;\n\n        this.app.headers = {\n          'Content-Type': 'application/json;charset=utf-8'\n        };\n        if (apiKey) {\n          this.app.headers = {\n            'X-ABL-Access-Key': apiKey,\n            'X-ABL-Date': Date.parse(new Date().toISOString()),\n            'Content-Type': 'application/json;charset=UTF-8'\n          }\n        }\n\n        if (useSocket) {\n          console.log('endpoint', endpoint)\n          this.socket = io(endpoint, socketOpts)\n          this\n            .app\n            .configure(feathers.socketio(this.socket))\n        } else {\n          this\n            .app\n            .configure(feathers.rest(endpoint).jquery(jQuery, {headers: this.app.headers}))\n          this\n            .app\n            .rest\n            .ajaxSetup({url: endpoint, headers: this.app.headers});\n        }\n\n        setupUtilFunctions(this.app, $mdToast, $rootScope);\n\n        rest(this.app, $http);\n\n        $rootScope.loading = true;\n        this.app.loadingTimeout = null;\n\n        this.app.loadingTimeout = $timeout(function () {\n          $rootScope.loading = false;\n        }, 1500);\n\n        //Add timeout\n        $rootScope.afterRender = function (current, total) {\n          $timeout.cancel(this.loadingTimeout);\n          this.loadingTimeout = $timeout(function () {\n            $rootScope.loading = false;\n          }, 1500);\n        };\n\n        window.$abl = this.app;\n        return this.app\n      }\n    ]\n  }\n};\n\n//Old naming convention, left for backwards compatibility\nvar feathersSdk = [function $feathersProvider() {\n    return sdkProvider('feathers');\n  }\n];\n\nvar ablSdk = [function $ablProvider() {\n    return sdkProvider('abl');\n  }\n];\n\nimport toUppercase from './lib/directives/toUppercase.directive';\nimport formatPhone from './lib/directives/formatPhone.directive';\nimport onFocus from './lib/directives/focusParent.directive';\nimport size from './lib/directives/size.directive';\n\nimport navigatorService from './lib/services/navigator.service';\n\nimport col from './lib/components/col.component';\n\nimport progressButton from './lib/components/progressButton.component';\nimport progressButtonStyles from './lib/components/progressButton.css';\n\nimport listItem from './lib/components/listItem.component';\nimport listItemNumericControl from './lib/components/listItemNumericControl.component';\nimport listItemAddCharge from './lib/components/listItemAddCharge.component';\nimport listItemHeader from './lib/components/listItemHeader.component';\n\n/**\n * @namespace abl-sdk-feathers\n * @requires feathers\n * @requires RxJS\n * @requires rx-angular\n * @requires socket.io-client\n\n */\nexport default angular.module('abl-sdk-feathers', ['ngMaterial', 'rx'])\n/**\n   * @class abl-sdk-feathers.$abl\n   */\n  .provider('$abl', ablSdk)\n  .provider('$feathers', feathersSdk)\n  .filter('startFrom', function () {\n    return function (input, start) {\n      start = +start; //parse to int\n      return input.slice(start);\n    }\n  })\n  .service('navigatorService', navigatorService)\n  .directive('toUppercase', toUppercase)\n  .directive('formatPhone', formatPhone)\n  .directive('onFocus', onFocus)\n  // .directive('size', size)\n  .directive('formatPhone', formatPhone)\n  .component('colSection', col)\n  .component('progressButton', progressButton)\n  .component('listItem', listItem)\n  .component('listItemNumericControl', listItemNumericControl)\n  .component('listItemAddCharge', listItemAddCharge)\n  .component('listItemHeader', listItemHeader);\n\n\n// WEBPACK FOOTER //\n// ./src/abl-sdk.js","export default function setupUtilityFunctions(app, $mdToast, $rootScope) {\n\n    /**\n     * @name $abl.showToast\n     * @function showToast\n     * @memberOf abl-sdk-feathers.$abl\n     * @description Show an Angular Material toast.\n     * @param {string} message - The message to display.\n     * @param {string} [class] - The CSS class to apply to the toast.\n     * @param {number} [timeout=3000] - The length of time (ms) for the toast to remain visible. \n     */\n    app.showToast = function (msg, toastClass, delay) {\n        if (!toastClass)\n            var toastClass = '';\n        if (!delay)\n            var delay = 3000;\n\n        var toast = $mdToast.simple()\n            .toastClass(toastClass)\n            .textContent(msg)\n            .action('Hide')\n            .hideDelay(delay)\n            .position('bottom left')\n            .highlightAction(false);\n        $mdToast.show(toast);\n        console.debug('showToast ', toastClass, msg);\n    };\n\n\n    /**\n     * @name $abl.randomInt\n     * @function randomInt\n     * @memberOf abl-sdk-feathers.$abl\n     * @description Returns random integer between min and max.\n     * @param {number} min - The upper bound of the random calculation.\n     * @param {number} max - The lower bound of the random calculation.\n     * @returns {number} between min and max.\n     */\n    //\n    app.randomInt = function (min, max) {\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n\n\n    /**\n     * @class abl-sdk-feathers.$rootScope\n     * @hidden\n     */\n\n    /**\n     * @name $rootScope.showToast\n     * @function showToast\n     * @memberOf abl-sdk-feathers.$rootScope\n     * @description Show an Angular Material toast.\n     * @param {string} message - The message to display.\n     * @param {string} [class] - The CSS class to apply to the toast.\n     * @param {number} [timeout=3000] - The length of time (ms) for the toast to remain visible. \n     */\n    $rootScope.showToast = function (a, b, c) {\n        app.showToast(a, b, c); //Legacy support\n    };\n\n    /**\n     * @name $rootScope.safeApply\n     * @function safeApply\n     * @memberOf abl-sdk-feathers.$rootScope\n     * @description App-wide safeApply function for usage in app controllers as a safer alternative to $apply().\n     */\n    $rootScope.safeApply = function (fn) {\n        if (this.$root) {\n            var phase = this.$root.$$phase;\n            if (phase === '$apply' || phase === '$digest') {\n                if (fn && (typeof (fn) === 'function')) {\n                    fn();\n                }\n            } else {\n                this.$apply(fn);\n            }\n        } else {\n            this.$apply(fn);\n        }\n    };\n\n\n    return app;\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!./styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles.css\n// module id = 79\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"ng-md-icon {\\n    margin: 0;\\n}\\n\\nmd-list {\\n    display: block;\\n    padding: 0px 0px 0px 0px;\\n}\\n\\n.list-item-48 {\\n    height: 36px;\\n    min-height: 36px;\\n    font-size: 14px;\\n    font-weight: 300;\\n}\\n\\n.red {\\n    color: rgb(221, 44, 0);\\n}\\n\\n.paymentResponseContainer {\\n    display: block;\\n    height: 100%;\\n}\\n\\n.activityPaymentSummaryCard {\\n    margin-bottom: 8px;\\n    margin-top: 8px;\\n    margin-right: 0;\\n    margin-left: 0;\\n    background: none;\\n    box-shadow: none;\\n    position: relative;\\n}\\n\\n.activityPaymentSummaryCardMobile {}\\n\\n.paymentSummaryCard {\\n    min-width: 100%;\\n    margin-bottom: 8px;\\n    margin-right: 16px;\\n    margin-top: 0;\\n    background: none;\\n    box-shadow: none;\\n    height: 100%;\\n}\\n\\n.paymentSummaryCardLarge {\\n    /*min-width: 370px;*/\\n    width: 100%;\\n    margin-bottom: 0;\\n    margin-top: 0;\\n    padding-right: 0;\\n    padding-left: 0;\\n}\\n\\n.paymentHeader p {\\n    color: rgba(0, 0, 0, .8) !important;\\n    font-weight: 500;\\n    letter-spacing: 0.012em;\\n    margin: 0 0 0 0;\\n    line-height: 1.6em;\\n}\\n\\n.paymentTitle {\\n    font-size: 20px !important;\\n}\\n\\n.paymentSubTitle {\\n    font-size: 14px !important;\\n    font-weight: 400;\\n}\\n\\n.lineItemIcon {\\n    width: 32px;\\n    height: 32px;\\n    margin: 4px 4px 4px -6px;\\n    background: url('https://s3.amazonaws.com/assets.ablsolution.com/icons/stopwatch-2.svg') no-repeat;\\n    background-position: center;\\n    background-size: 28px 28px;\\n}\\n\\n.headerIcon {\\n    vertical-align: middle;\\n    height: 36px;\\n    width: 40px;\\n    padding-right: 16px;\\n}\\n\\n.headerIconRight {\\n    padding-left: 16px;\\n}\\n\\n.headerIcon svg {\\n    position: absolute;\\n    top: 24px;\\n    bottom: 24px;\\n    height: 24px;\\n    width: 24px;\\n}\\n\\n.lineItemText {\\n    font-size: 14px;\\n    font-weight: 500;\\n    letter-spacing: 0.010em;\\n    margin: 0 0 0 0;\\n    line-height: 1.6em;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    color: rgba(0, 0, 0, 0.54) !important;\\n}\\n\\n.lineItemDetail {\\n    background: rgba(255, 255, 255, .1);\\n}\\n\\n.lineItemDetail p {\\n    font-size: 12px;\\n    color: rgba(0, 0, 0, .77);\\n    font-weight: 400;\\n}\\n\\n.lineItemHeader p {\\n    font-size: 16px;\\n    font-weight: 400;\\n    letter-spacing: 0.010em;\\n    margin: 0 0 0 0;\\n    line-height: 50px;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    color: rgba(0, 0, 0, 0.82) !important;\\n}\\n\\n.lineItemSubHeader {\\n    font-size: 16px;\\n    font-weight: 400;\\n    margin: 0 0 0 0;\\n    line-height: 1.6em;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    color: rgba(0, 0, 0, 0.82) !important;\\n}\\n\\n.lineItemSubDetail {\\n    font-size: 12px;\\n    font-weight: 500;\\n    margin: 0 0 0 0;\\n    line-height: 1.6em;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    color: rgba(0, 0, 0, .6);\\n}\\n\\n.lineItemHeader {\\n    background: rgba(0, 0, 0, 0);\\n    color: rgba(0, 0, 0, .7) !important;\\n}\\n\\n.addOnAdjusters {\\n    width: 36px;\\n    margin-right: 0;\\n}\\n\\n.addOnQuantityText {\\n    border: none;\\n    width: 40px;\\n    font-weight: 500;\\n    text-align: center;\\n    font-size: 16px;\\n    outline: none;\\n}\\n\\n.guestIcon {\\n    width: 32px;\\n    height: 32px;\\n    margin: 4px 4px 4px -6px;\\n    background: url('https://s3.amazonaws.com/assets.ablsolution.com/icons/user-3.svg') no-repeat;\\n    background-position: center;\\n    background-size: 28px 28px;\\n}\\n\\n.lineItemIconRight {\\n    width: 40px;\\n    height: 40px;\\n    margin: 4px -6px 4px 4px;\\n    background: url('https://s3.amazonaws.com/assets.ablsolution.com/icons/calendar.svg') no-repeat;\\n    background-position: center;\\n    background-size: 28px 28px;\\n}\\n\\n.locationHeader {\\n    font-size: 14px !important;\\n    letter-spacing: 0.010em;\\n    line-height: 20px;\\n    color: rgba(0, 0, 0, 0.66) !important;\\n}\\n\\n.total {\\n    font-size: 16px;\\n    letter-spacing: 0.01em;\\n    color: rgba(0, 0, 0, 0.8);\\n}\\n\\n.activityTotal {\\n    font-size: 16px;\\n    letter-spacing: 0.01em;\\n    color: rgba(0, 0, 0, 0.8);\\n}\\n\\n.spacer {\\n    margin: 4px;\\n    width: 8px;\\n}\\n\\n.darkerDivider {\\n    border-top-color: rgba(0, 0, 0, 0.12);\\n}\\n\\n.totalDivider {\\n    display: block;\\n    border-top-width: 1px;\\n}\\n\\n.lineItemDetailDivider {\\n    border-top-color: rgba(0, 0, 0, 0.0);\\n}\\n\\n.paymentSummaryImage {\\n    height: 120px;\\n    margin: 24px 12px 0 12px;\\n    background-position: center center;\\n    background-repeat: no-repeat;\\n    border-radius: 2px;\\n}\\n\\n.paymentSummaryImageBig {\\n    height: 244px;\\n    margin: 24px 12px 0 12px;\\n    background-position: center center;\\n    background-repeat: no-repeat;\\n    border-radius: 2px;\\n    /*box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .6);*/\\n}\\n\\n.mobileList {\\n    height: 100%;\\n}\\n\\n.mobileBottomBar {\\n    position: fixed;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.cardForm {\\n    margin: 16px 16px 16px 16px;\\n}\\n\\n.addonForm {\\n    padding-left: 16px;\\n    padding-right: 16px;\\n}\\n\\n.activityCardForm {\\n    margin: 0 16px 0 16px;\\n}\\n\\n.paymentHeader._md-button-wrap>div.md-button:first-child {\\n    font-size: 22px;\\n    /*box-shadow: 0 1px rgba(0, 0, 0, .12);*/\\n}\\n\\n.listIcon {\\n    padding: 0 0px 0 0;\\n}\\n\\n.listIconSub {\\n    height: 20px;\\n    width: 20px;\\n    color: rgba(0, 0, 0, .5);\\n    fill: rgba(0, 0, 0, .5);\\n    outline: none;\\n}\\n\\n.listIconSub svg {\\n    height: 20px;\\n    width: 20px;\\n}\\n\\n.listIconSub:hover {\\n    height: 20px;\\n    width: 20px;\\n    color: rgba(0, 0, 0, .86);\\n    fill: rgba(0, 0, 0, .86);\\n    outline: none;\\n}\\n\\n.formButton {\\n    margin-right: 0;\\n}\\n\\n.stepStatusRow ng-md-icon svg {\\n    height: 16px;\\n    margin-top: 1px;\\n    vertical-align: top;\\n}\\n\\n\\n/*md-list-item:disabled .md-list-item-text,\\nmd-list-item[disabled=disabled] .md-list-item-text{\\ncolor: #ccc;\\n}*/\\n\\nmd-list-item.addOnListItem {\\n    margin-right: -24px;\\n    padding-left: 0;\\n}\\n\\nmd-list-item.listItemNotButton {\\n    padding: 0 8px !important;\\n}\\n\\n.totalListItem {\\n    margin-bottom: 12px;\\n}\\n\\n.listMessage {\\n    font-size: 16px;\\n    line-height: 1.6em;\\n    padding: 0 4px;\\n}\\n\\n.slideDown.ng-hide {\\n    height: 0;\\n    transition: height 0.35s ease;\\n    overflow: hidden;\\n    position: relative;\\n}\\n\\n.slideDown {\\n    transition: height 0.35s ease;\\n    overflow: hidden;\\n    position: relative;\\n}\\n\\n.slideDown.ng-hide-remove,\\n.slideDown.ng-hide-add {\\n    /* remember, the .hg-hide class is added to element\\nwhen the active class is added causing it to appear\\nas hidden. Therefore set the styling to display=block\\nso that the hide animation is visible */\\n    display: block!important;\\n}\\n\\n.slideDown.ng-hide-add {\\n    animation-name: hide;\\n    -webkit-animation-name: hide;\\n    animation-duration: .5s;\\n    -webkit-animation-duration: .5s;\\n    animation-timing-function: ease-in;\\n    -webkit-animation-timing-function: ease-in;\\n}\\n\\n.slideDown.ng-hide-remove {\\n    animation-name: show;\\n    -webkit-animation-name: show;\\n    animation-duration: .5s;\\n    -webkit-animation-duration: .5s;\\n    animation-timing-function: ease-out;\\n    -webkit-animation-timing-function: ease-out;\\n}\\n\\n.couponInput {\\n    width: 100%;\\n    border: none;\\n    /* background-color: rgba(0, 0, 0, .08); */\\n    /* border-radius: 3px; */\\n    padding: 12px;\\n    /* width: 100%; */\\n    box-shadow: none;\\n    margin-left: -12px;\\n    line-height: 36px;\\n    outline: none;\\n}\\n\\n.remove-coupon {\\n    cursor: pointer;\\n}\\n\\n.toUppercase {\\n    text-transform: uppercase;\\n}\\n\\n.listItemCircularProgress {\\n    /*margin-right: -6px;*/\\n}\\n\\nmd-list-item:hover {\\n    background: transparent;\\n}\\n\\nmd-list-item.md-button.md-default-theme:not([disabled]):hover,\\n.md-button:not([disabled]):hover {\\n    background-color: transparent;\\n}\\n\\n.easeIn.ng-hide-add,\\n.easeIn.ng-hide-remove {\\n    -webkit-transition: 0.5s ease-in-out opacity;\\n    -moz-transition: 0.5s ease-in-out opacity;\\n    -ms-transition: 0.5s ease-in-out opacity;\\n    -o-transition: 0.5s ease-in-out opacity;\\n    transition: 0.5s ease-in-out opacity;\\n    opacity: 1;\\n}\\n\\n.easeIn.ng-hide {\\n    -webkit-transition: 0s ease-in-out opacity;\\n    -moz-transition: 0s ease-in-out opacity;\\n    -ms-transition: 0s ease-in-out opacity;\\n    -o-transition: 0s ease-in-out opacity;\\n    transition: 0s ease-in-out opacity;\\n    opacity: 0;\\n}\\n\\n.couponText {\\n    margin-left: 16px;\\n}\\n\\n.md-button[disabled] {\\n    pointer-events: none;\\n}\\n\\n.subtotalLineItem {\\n    padding: 8px 32px 8px 16px;\\n}\\n\\n.subtotalLineItemSmall {\\n    font-size: 12px;\\n}\\n\\n.bottomTotal {\\n    font-size: 16px;\\n    margin-top: 8px;\\n    margin-bottom: 16px;\\n    font-weight: 600;\\n}\\n\\n.payzenIframe {\\n    border: none;\\n    outline: none;\\n    width: 100%;\\n}\\n\\n.small-label {\\n    font-size: 12px;\\n    padding-left: 4px;\\n}\\n\\n.confirmation {\\n    padding: 20px 0;\\n    text-align: center;\\n}\\n\\n.confirmation h3 {\\n    text-align: center;\\n    margin-bottom: 20px;\\n}\\n\\n.confirmation .margin-top {\\n    margin-top: 8px;\\n}\\n\\n.confirmation .booking-id {\\n    padding: 15px;\\n    margin: 0 auto;\\n    width: 260px;\\n    opacity: 0.8;\\n    font-weight: bold;\\n}\\n\\nbody[md-theme=blue] .confirmation .booking-id {\\n    background: #3F51B5;\\n}\\n\\nbody[md-theme=blue] .confirmation .booking-id {\\n    background: #009688;\\n}\\n\\nbody[md-theme=green] .confirmation .booking-id {\\n    background: #4CAF50;\\n}\\n\\nbody[md-theme=grey] .confirmation .booking-id {\\n    background: #9E9E9E;\\n}\\n\\nbody[md-theme=blue_grey] .confirmation .booking-id {\\n    background: #607D8B;\\n}\\n\\nbody[md-theme=yellow] .confirmation .booking-id {\\n    background: #FFEB3B;\\n}\\n\\nbody[md-theme=indigo] .confirmation .booking-id {\\n    background: #3F51B5;\\n}\\n\\nbody[md-theme=red] .confirmation .booking-id {\\n    background: #F44336;\\n}\\n\\nbody[md-theme=black] .confirmation .booking-id {\\n    background: #000000;\\n}\\n\\n@media(max-width: 600px) {\\n    .confirmation {\\n        padding: 20px;\\n        font-size: 13px;\\n    }\\n}\\n\\n.no-margin {\\n    margin: 0 !important;\\n}\\n\\n.picker-container {\\n    border-radius: 2px;\\n    background: white;\\n}\\n\\n.bigDateToolbar {\\n    background: white !important;\\n    color: black !important;\\n}\\n\\n.activity-dialog-container {\\n    display: -ms-flexbox;\\n    display: flex;\\n    -ms-flex-pack: center;\\n    justify-content: center;\\n    -ms-flex-align: center;\\n    align-items: center;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 80;\\n    overflow: hidden;\\n}\\n\\n.activity-dialog,\\nmd-dialog.activity-dialog {\\n    max-height: 80%;\\n    max-width: 90%;\\n    position: relative;\\n    overflow: auto;\\n    box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 13px 19px 2px rgba(0, 0, 0, 0.14), 0px 5px 24px 4px rgba(0, 0, 0, 0.12);\\n    display: -ms-flexbox;\\n    display: flex;\\n    overflow-x: hidden;\\n    overflow-y: hidden;\\n    -ms-flex-direction: column;\\n    flex-direction: column;\\n}\\n\\n.activity-dialog,\\nmd-dialog md-dialog-content {\\n    padding: 0;\\n    overflow-x: hidden;\\n}\\n\\n.no-margin {\\n    margin: 0 !important;\\n}\\n\\n.leftCard {\\n    background: rgba(0, 0, 0, .025);\\n}\\n\\n.activityBookDialogLarge {\\n    width: 840px;\\n    min-height: 600px;\\n    height: 100%;\\n}\\n\\n.leftCardLarge {\\n    border-right: 1px solid #e4e4e4 !important;\\n    box-shadow: 1px 0 5px 1px rgba(0, 0, 0, 0.12) !important;\\n    min-height: 100%;\\n    min-width: 420px;\\n    width: 50%;\\n    height: 100%;\\n}\\n\\n.leftCardSmall {\\n    border-bottom: 1px solid #e4e4e4 !important;\\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.08) !important;\\n}\\n\\n.rightCardLarge {\\n    position: absolute;\\n    right: 0;\\n    padding-right: 24px;\\n    min-width: 420px;\\n    width: 50%;\\n    display: block;\\n    height: 100%;\\n}\\n\\n.activity-total-include {\\n    height: 100%;\\n}\\n\\n.couponText {\\n    font-size: 16px;\\n}\\n\\n.couponTextTotal {\\n    font-size: 16px;\\n    padding-right: 12px;\\n}\\n\\n.listItemAutocomplete {\\n    padding-left: 0 !important;\\n}\\n\\n.addOnQuantityText {\\n    border: none;\\n    width: 40px;\\n    font-weight: 500;\\n    text-align: center;\\n    font-size: 16px;\\n    margin-right: -8px;\\n    outline: none;\\n    background: transparent;\\n}\\n\\n.activityPaymentSummaryCard {\\n    margin-bottom: 0 !important;\\n    margin-top: 0 !important;\\n    margin-right: 0;\\n    margin-left: 0;\\n    background: none;\\n    box-shadow: none;\\n    position: relative;\\n    height: 100%;\\n}\\n\\n.activityCardForm {\\n    margin: 0 16px 0 16px;\\n}\\n\\n.detailsForm {\\n    padding-left: 16px;\\n    padding-right: 16px;\\n}\\n\\n.listItemInputContainer {\\n    margin: 24px 16px !important;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/styles.css\n// module id = 80\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./helper-styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./helper-styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./helper-styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/helper-styles.css\n// module id = 84\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".no-margin-top {\\n    margin-top: 0 !important;\\n}\\n\\n.no-margin-bottom {\\n    margin-bottom: 0 !important;\\n}\\n\\n.no-margin-right {\\n    margin-right: 0 !important;\\n}\\n\\n.no-margin-left {\\n    margin-left: 0 !important;\\n}\\n\\n.margin-right-30 {\\n    margin-right: 30px;\\n}\\n\\n.no-padding {\\n    padding: 0 !important;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/lib/helper-styles.css\n// module id = 85\n// module chunks = 0","// Use RxJS in a Service\n\n// What about in a situation where you have a Service that's holding state for example. How could I push changes to that Service, and other random components on the page be aware of such a change? Been struggling with tackling this problem lately\n// Build a service with RxJS Extensions for Angular.\n\n// <script src=\"//unpkg.com/angular/angular.js\"></script>\n// <script src=\"//unpkg.com/rx/dist/rx.all.js\"></script>\n// <script src=\"//unpkg.com/rx-angular/dist/rx.angular.js\"></script>\n// var app = angular.module('myApp', ['rx']);\n\n// app.factory(\"DataService\", function(rx) {\n//   var subject = new rx.Subject(); \n//   var data = \"Initial\";\n\n//   return {\n//       set: function set(d){\n//         data = d;\n//         subject.onNext(d);\n//       },\n//       get: function get() {\n//         return data;\n//       },\n//       subscribe: function (o) {\n//          return subject.subscribe(o);\n//       }\n//   };\n// });\n// Then simply subscribe to the changes.\n\n// app.controller('displayCtrl', function(DataService) {\n//   var $ctrl = this;\n\n//   $ctrl.data = DataService.get();\n//   var subscription = DataService.subscribe(function onNext(d) {\n//       $ctrl.data = d;\n//   });\n\n//   this.$onDestroy = function() {\n//       subscription.dispose();\n//   };\n// });\n\n/**\n * \n * \n * @class api\n * @memberOf abl-sdk-feathers.$abl\n * @hidden\n */\nexport default function rest(app, $http) {\n    const that = {};\n    const Rx = window.Rx;\n    const moment = window.moment;\n\n    app.api = {};\n    /**\n     * @class activity\n     * @memberOf abl-sdk-feathers.$abl.api\n     * @hidden\n     */\n    app.api.activity = {\n        /**\n         * @function get\n         * @memberOf abl-sdk-feathers.$abl.api.activity\n         */\n        get: function (query) {\n            return Rx.Observable\n                .fromPromise(activityService.find(\n                    query || {}\n                ))\n                .catch((response) => {\n                    console.log('$abl.api.GET ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    return response.list;\n                });\n        },\n        /**\n         * @function find\n         * @memberOf abl-sdk-feathers.$abl.api.activity\n         */\n        find: function (query) {\n            return Rx.Observable\n                .fromPromise(activitySearchService.find(\n                    query || {}\n                ))\n                .catch((response) => {\n                    console.log('$abl.api.activity.FIND ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    return response;\n                });\n        }\n    }\n\n\n    /**\n     * @class timeslots\n     * @memberOf abl-sdk-feathers.$abl.api\n     * @hidden\n     */\n    app.api.timeslots = {\n        /**\n         * @function getRange\n         * @memberOf abl-sdk-feathers.$abl.api.timeslots\n         */\n        getRange: function (d) {\n            return Rx.Observable\n                .fromPromise($http({\n                    method: 'GET',\n                    url: app.endpoint + '/timeslots?',\n                    data: d,\n                    headers: app.headers\n                }))\n                .catch((response) => {\n                    console.log('$abl.api.timeslots.GETRANGE ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    console.log('$abl.api.timeslots.GETRANGE SUCCESS', response);\n                    return response.data.list;\n                });\n        },\n        /**\n         * @function get\n         * @memberOf abl-sdk-feathers.$abl.api.timeslots\n         */\n        get: function (id) {\n            return Rx.Observable\n                .fromPromise($http({\n                    method: 'GET',\n                    url: app.endpoint + '/timeslots?id=' + id,\n                    headers: app.headers\n\n                }))\n                .catch((response) => {\n                    console.log('$abl.api.timeslots.GET ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    console.log('$abl.api.timeslots.GET SUCCESS', response);\n                    return response;\n                });\n        }\n    }\n\n\n    //Feathers REST endpoints\n    const activityService = app.service('activities');\n    const eventService = app.service('events');\n    const timeslotService = app.service('timeslots');\n\n    const activitySearchService = app.service('search');\n\n    // activitySearchService.find({\n    //     query: {\n    //         \"sort\": \"-updatedAt\"\n    //     }\n    // });\n\n    app.activitySearchInterval = function (t) {\n        return setInterval(() => {\n            activitySearchService.find({\n                query: {\n                    \"sort\": \"-updatedAt\"\n                }\n            });\n        }, t);\n    }\n\n\n    //Feathers localstorage cache service\n    /**\n     * @class cache\n     * @memberOf abl-sdk-feathers.$abl\n     * @description localstorage cache wrapped in a Feathers.js service.\n     * @example   <caption>Open or Create</caption>      \n     * $abl.cache.get('activities').then(function (res) {\n     *   console.log(res);\n     *}).catch(res => {\n     *    $abl.cache.create({\n     *       id: 'activities',\n     *      data: {},\n     *      map: []\n     *  });\n     *});\n     * @hidden\n     */\n    const cache = app.service('cache');\n    const max = 500;\n    let cacheQuery = {\n        page: 0,\n        pageSize: 20,\n        total: 0,\n        \"sort\": \"-updatedAt\"\n    }\n\n    cache.get('activities').then(function (res) {\n        console.log(res);\n    }).catch(res => {\n        cache.create({\n            id: 'activities',\n            data: {},\n            map: []\n        });\n    });\n\n    const updateCache = store => { // always wrap in a function so you can pass options and for consistency.\n        return hook => {\n            let modified = false;\n\n            cache.get('activities').then(function (activities) {\n                activities.updated = [];\n\n                const acs = Rx.Observable.fromArray(hook.result.data);\n                acs.map(res => res)\n                    .filter(res => activities.data[res._id] == undefined)\n                    .subscribe(function (x) {\n                        modified = true;\n                        activities.data[x._id] = x;\n                        activities.map.push(x._id);\n                        activities.updated.push(x._id);\n                        // console.log('creating activity', x);\n                    }, function (err) {\n                        return Promise.resolve(hook); // A good convention is to always return a promise.\n\n                    }, function () {\n                        if (modified) {\n                            console.log('updateCache', store, activities);\n                            if (activities.map.length > max) {\n                                for (var i = 0; i < activities.map.length - max; i++) {\n                                    delete activities.data[activities.map[i]];\n                                    console.log('deleting activity', activities.data[activities.map[0]]);\n\n                                }\n                                // activities.map.fill('', 0, activities.map.length - max);\n                            }\n                            activities.total = hook.result.total;\n                            cache.update('activities', activities).then(function () {\n                                console.log('updateCache', store, hook);\n\n                                return Promise.resolve(hook); // A good convention is to always return a promise.\n                            });\n                        }\n\n                    });\n\n            });\n        };\n    };\n\n    function getObjectIndex(id, arr) {\n        for (var i = 0; i < arr.length - 1; i++) {\n            if (arr[i].id == id)\n                return i;\n        }\n        return -1;\n    }\n\n    // Set up our after hook to cache new data\n    activitySearchService.after({\n        all: [], // run hooks for all service methods\n        find: [updateCache()] // run hook after a find. You can chain multiple hooks.\n    });\n\n\n    app.cache = cache;\n    return app;\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rest.js","    /**\n     * @function toUppercase\n     * @memberOf abl-sdk-feathers.directives\n     * @description Transforms input text to all uppercase characters.\n     * @example   <input type=\"text\" ng-model=\"name\" to-uppercase>\n     */\n    export default function toUppercase() {\n        return {\n            require: 'ngModel',\n            link: function (scope, element, attrs, modelCtrl) {\n                var capitalize = function (inputValue) {\n                    if (inputValue == undefined) inputValue = '';\n                    var capitalized = inputValue.toUpperCase();\n                    if (capitalized !== inputValue) {\n                        modelCtrl.$setViewValue(capitalized);\n                        modelCtrl.$render();\n                    }\n                    return capitalized;\n                }\n\n                modelCtrl.$parsers.push(capitalize);\n                capitalize(scope[attrs.ngModel]); // capitalize initial value\n            }\n        };\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/toUppercase.directive.js"," /**\n  * @class abl-sdk-feathers.directives\n  * @hidden\n  */\n\n /**\n  * @function formatPhone\n  * @memberOf abl-sdk-feathers.directives\n  * @description Formats a phone number nicely.\n  * @example <input type=\"text\" id=\"phonenumber\" ng-model=\"phonenumber\" format-phone>\n  */\n export default function formatPhone() {\n     return {\n         require: 'ngModel',\n         restrict: 'A',\n         link: function (scope, elem, attrs, ctrl, ngModel) {\n             elem.add(phonenumber).on('keyup', function () {\n                 var origVal = elem.val().replace(/[^\\w\\s]/gi, '');\n                 if (origVal.length === 10) {\n                     var str = origVal.replace(/(.{3})/g, \"$1-\");\n                     var phone = str.slice(0, -2) + str.slice(-1);\n                     jQuery(\"#phonenumber\").val(phone);\n                 }\n\n             });\n             console.log('format-phone', scope);\n         }\n     };\n }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/formatPhone.directive.js","    /**\n     * @function toUppercase\n     * @memberOf abl-sdk-feathers.directives\n     * @description Transforms input text to all uppercase characters.\n     * @example   <input type=\"text\" ng-model=\"name\" to-uppercase>\n     */\n    export default function focusParent() {\n        return {\n            require: 'ngModel',\n            link: function (scope, element, attrs, modelCtrl) {\n                console.log(element);\n                console.log(attrs);\n\n                let elem = $(element[0].parentElement);\n                element.on('focus', function () {\n                    console.log(elem);\n                    elem.addClass(attrs.onFocus);\n\n                });\n\n                element.on('blur', () => {\n                    elem.removeClass(attrs.onFocus);\n\n                })\n                //modelCtrl.$parsers.push(capitalize);\n                //capitalize(scope[attrs.ngModel]); // capitalize initial value\n            }\n        };\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/focusParent.directive.js","    export default function size() {\n        return {\n            link: function (scope, element, attrs, modelCtrl) {\n                console.log(element);\n                console.log(attrs);\n\n                if (attrs.size) {\n                    let elem = $(element[0].children[0]);\n                    elem.addClass(attrs.size);\n                }\n\n\n            }\n        };\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/size.directive.js","     /**\n      * @class abl-sdk-feathers.services\n      * @hidden\n      */\n\n\n     navigatorService.$inject = [\"$window\", \"$q\"];\n     /**\n      * @function navigatorService\n      * @memberOf abl-sdk-feathers.services\n      * @description Requests the user's geographic coordinates using the {@link https://developer.mozilla.org/en/docs/Web/API/Navigator | Navigator Web API}.\n      * @example    navigatorService.getCurrentPosition().then(function(position) {\n      *     console.log(position);\n      *   }).catch(function(e) {\n      * });\n      * @tutorial navigator\n      * @returns {Promise} A Promise object from the {@link https://developer.mozilla.org/en/docs/Web/API/Navigator | Navigator Web API}.\n      */\n     export default function navigatorService($window, $q) {\n\n         function getCurrentPosition() {\n             var deferred = $q.defer();\n\n             if (!$window.navigator.geolocation) {\n                 deferred.reject('Geolocation not supported.');\n             } else {\n                 $window.navigator.geolocation.getCurrentPosition(\n                     function (position) {\n                         deferred.resolve(position);\n                     },\n                     function (err) {\n                         deferred.reject();\n                     });\n             }\n\n             return deferred.promise;\n         }\n\n         return {\n             getCurrentPosition: getCurrentPosition\n         };\n\n     }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/services/navigator.service.js"," import colTemplate from './column.html';\n const col = {\n     bindings: {\n         pos: '@',\n         size: '@'\n     },\n     controller: function ($element, $scope) {\n         this.$onInit = function () {\n             //  console.log('col', this);\n             if (!this.pos)\n                 this.position = 'start center'\n             if (this.pos == 'right')\n                 this.position = 'end center';\n             else\n                 this.position = this.pos;\n\n         };\n\n         this.$onChanges = (changesObj) => {};\n         this.$postLink = function () {};\n     },\n     template: colTemplate,\n     transclude: true,\n     controllerAs: 'vm'\n };\n\n\n export default col;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/col.component.js","module.exports = \"<div layout=\\\"row\\\" layout-align=\\\"{{vm.position}}\\\" ng-transclude></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/column.html\n// module id = 93\n// module chunks = 0","import progressButtonTemplate from './progressButton.html';\nconst progressButton = {\n    bindings: {\n        loading: '<',\n        class: '@',\n        ngDisabled: '<',\n        spinner: '<',\n        stroke: '@',\n        fill: '@',\n        label: '@'\n    },\n    controller: function ($element, $scope) {\n        this.$onInit = function () {\n            if (this.loading)\n                console.log('progressButton:loading', this.loading);\n\n            console.log('progressButton disabled', this.ngDisabled);\n\n        };\n\n        this.$onChanges = (changesObj) => {\n            console.log('progressButton changes ', changesObj);\n            this.disabled = this.ngDisabled;\n        };\n\n        this.$postLink = function () {};\n    },\n    template: progressButtonTemplate,\n    transclude: true,\n    controllerAs: 'vm'\n};\n\n\nexport default progressButton;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/progressButton.component.js","module.exports = \"<md-button layout=\\\"row\\\" layout-align=\\\"center center\\\" class=\\\"{{vm.class}}\\\" ng-disabled=\\\"vm.loading || vm.disabled\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"center center\\\">\\n        <svg ng-show=\\\"vm.loading && vm.spinner == 1\\\" version=\\\"1.1\\\" id=\\\"loader-1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n            x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 50 50\\\" style=\\\"enable-background:new 0 0 50 50;\\\" xml:space=\\\"preserve\\\">\\n            <path fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" d=\\\"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"rotate\\\" from=\\\"0 25 25\\\" to=\\\"360 25 25\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n            </path>\\n        </svg>\\n\\n        <svg ng-show=\\\"vm.loading && vm.spinner == 2\\\" version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n            x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"24px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 24 30\\\" style=\\\"enable-background:new 0 0 50 50;\\\" xml:space=\\\"preserve\\\">\\n            <rect x=\\\"0\\\" y=\\\"0\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"translate\\\" values=\\\"0 0; 0 20; 0 0\\\" begin=\\\"0\\\" dur=\\\"0.6s\\\"\\n                    repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"10\\\" y=\\\"0\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"translate\\\" values=\\\"0 0; 0 20; 0 0\\\" begin=\\\"0.2s\\\" dur=\\\"0.6s\\\"\\n                    repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"20\\\" y=\\\"0\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"translate\\\" values=\\\"0 0; 0 20; 0 0\\\" begin=\\\"0.4s\\\" dur=\\\"0.6s\\\"\\n                    repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n        </svg>\\n\\n        <svg ng-show=\\\"vm.loading && vm.spinner == 3\\\" version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n            x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"24px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 24 30\\\" style=\\\"enable-background:new 0 0 50 50;\\\" xml:space=\\\"preserve\\\">\\n            <rect x=\\\"0\\\" y=\\\"10\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" opacity=\\\"0.2\\\">\\n                <animate attributeName=\\\"opacity\\\" attributeType=\\\"XML\\\" values=\\\"0.2; 1; .2\\\" begin=\\\"0s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n                <animate attributeName=\\\"height\\\" attributeType=\\\"XML\\\" values=\\\"10; 20; 10\\\" begin=\\\"0s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n                <animate attributeName=\\\"y\\\" attributeType=\\\"XML\\\" values=\\\"10; 5; 10\\\" begin=\\\"0s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"8\\\" y=\\\"10\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" opacity=\\\"0.2\\\">\\n                <animate attributeName=\\\"opacity\\\" attributeType=\\\"XML\\\" values=\\\"0.2; 1; .2\\\" begin=\\\"0.15s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"height\\\" attributeType=\\\"XML\\\" values=\\\"10; 20; 10\\\" begin=\\\"0.15s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"y\\\" attributeType=\\\"XML\\\" values=\\\"10; 5; 10\\\" begin=\\\"0.15s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"16\\\" y=\\\"10\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" opacity=\\\"0.2\\\">\\n                <animate attributeName=\\\"opacity\\\" attributeType=\\\"XML\\\" values=\\\"0.2; 1; .2\\\" begin=\\\"0.3s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"height\\\" attributeType=\\\"XML\\\" values=\\\"10; 20; 10\\\" begin=\\\"0.3s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"y\\\" attributeType=\\\"XML\\\" values=\\\"10; 5; 10\\\" begin=\\\"0.3s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n        </svg>\\n\\n\\n    </div>\\n    <span ng-show=\\\"!vm.loading\\\">{{vm.label}}</span>\\n</md-button>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/progressButton.html\n// module id = 95\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./progressButton.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./progressButton.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./progressButton.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/progressButton.css\n// module id = 96\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"progress-button {\\n    outline: none;\\n    margin: 0px 0px !important;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n\\nprogress-button md-button {\\n    pointer-events: auto;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/lib/components/progressButton.css\n// module id = 97\n// module chunks = 0"," import listItemTemplate from './listItem.html';\n const listItem = {\n     bindings: {\n         size: '@',\n     },\n     controller: function ($element, $scope) {\n         this.$onInit = function () {};\n\n         this.$onChanges = (changesObj) => {};\n         this.$postLink = function () {};\n     },\n     template: listItemTemplate,\n     transclude: true,\n     controllerAs: 'vm'\n };\n\n\n export default listItem;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItem.component.js","module.exports = \"<div layout=\\\"row\\\" class=\\\"listItem\\\" ng-class=\\\"[vm.size]\\\" flex=\\\"100\\\" ng-transclude>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItem.html\n// module id = 99\n// module chunks = 0","import template from './listItemNumericControl.html';\n// import controller from './goatListItem.controller'; import\n// './goatListItem.scss';\n/**\n * @function li-NumberControl\n * @memberOf abl-sdk-feathers.components\n * @description List item control with +/- buttons and input to modify the value.\n * @example  <list-item-numeric-control label=\"Attendee\" value=\"numValue\" min=\"1\" max=\"5\"></list-item-numeric-control>\n */\nconst listItemNumericControl = {\n    restrict: 'E',\n    bindings: {\n        value: '=',\n        label: '@',\n        price: '@',\n        max: '@',\n        min: '@ ',\n        size: '@'\n    },\n    template: template,\n    controller: function ($element) {\n        this.min = 0;\n\n        this.$onInit = function () {\n            this.elem = $($element[0].children[0]);\n            if (!this.value) \n                this.value = 0;\n\n            };\n        \n        this.$onChanges = (changesObj) => {};\n        this.$postLink = function () {};\n\n        this.increment = function () {\n            if (this.max == undefined || this.max > this.value) \n                this.value++;\n                // console.log('increment');\n            };\n        \n        this.decrement = function () {\n            if (this.value > this.min) \n                this.value--;\n            console.log('decrementer');\n        };\n\n        this.checkAdjustValue = () => {\n            if (this.value > this.max) {\n                this.value = this.max;\n            }\n            if (this.value < this.min) \n                this.value = this.min;\n            };\n    },\n    controllerAs: 'vm'\n};\n\nexport default listItemNumericControl;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItemNumericControl.component.js","module.exports = \"<div layout=\\\"row\\\" class=\\\"listItem\\\" ng-class=\\\"[vm.size]\\\" flex=\\\"100\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <div layout=\\\"column\\\" class=\\\"\\\">\\n            <span class=\\\"lineItemSubHeader\\\">{{vm.label}}</span>\\n            <div layout=\\\"row\\\">\\n                <span class=\\\"lineItemSubDetail\\\">${{vm.price / 100  | number:2}}</span>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n        <div layout=\\\"column\\\" class=\\\"addOnAdjusters\\\" layout-align=\\\"center end\\\" flex layout-grow>\\n            <ng-md-icon icon=\\\"add_circle_outline\\\" class=\\\"listIconSub\\\" md-colors=\\\"{'fill': 'primary-A200'}\\\" ng-click=\\\"vm.increment();\\\">\\n            </ng-md-icon>\\n            <ng-md-icon icon=\\\" remove_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.decrement();\\\"></ng-md-icon>\\n        </div>\\n        <div layout=\\\"column\\\" layout-align=\\\"end end\\\">\\n            <input class='addOnQuantityText' ng-model=\\\"vm.value\\\" ng-change=\\\"vm.checkAdjustValue();\\\" md-select-on-focus></input>\\n        </div>\\n    </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItemNumericControl.html\n// module id = 101\n// module chunks = 0"," /**\n  * @class abl-sdk-feathers.components\n  * @hidden\n  */\n\n\n\n /**\n  * @function li-AddCharge\n  * @memberOf abl-sdk-feathers.components\n  * @description List item to enter a new charge with value.\n  * @example  <list-item-add-charge group=\"vm.charges\"></list-item-add-charge>\n  */\n import template from './listItemAddCharge.html';\n // import controller from './goatListItem.controller';  \n import './listItem.css';\n\n const listItemAddCharge = {\n     bindings: {\n         add: '<',\n         group: '=',\n         buttonClass: '@'\n     },\n     template: template,\n     controller: function ($scope) {\n         this.price = 0;\n         this.$onInit = function () {};\n\n         this.$onChanges = (changesObj) => {};\n         this.$postLink = function () {};\n     },\n     controllerAs: 'vm'\n };\n\n\n export default listItemAddCharge;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItemAddCharge.component.js","module.exports = \"<md-list-item class=\\\"addOnListItem\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <md-input-container class=\\\"buttonInlineInput full-width \\\">\\n            <label>Name</label>\\n\\n            <input class='buttonInlineInput' ng-model=\\\"vm.label\\\"></input>\\n        </md-input-container>\\n\\n    </div>\\n\\n    <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"20\\\">\\n        <md-input-container class=\\\"buttonInlineInput full-width\\\">\\n            <label>Price</label>\\n\\n            <input class='full-width buttonInlineInput' md-select-on-focus ng-model=\\\"vm.price\\\" type=\\\"number\\\" min=\\\"0\\\" step=\\\"0.01\\\"></input>\\n        </md-input-container>\\n    </div>\\n    <div layout=\\\"row\\\">\\n        <md-button ng-disabled=\\\"!vm.label || !vm.price\\\" ng-class=\\\"[vm.buttonClass.length > 0 ? vm.buttonClass : 'md-raised']\\\" ng-click=\\\"vm.add(vm.label, vm.price)\\\">\\n            Add\\n        </md-button>\\n    </div>\\n\\n</md-list-item>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItemAddCharge.html\n// module id = 103\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./listItem.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./listItem.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./listItem.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItem.css\n// module id = 104\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".full-width {\\n    width: 100%;\\n}\\n\\n.text-align-left {\\n    text-align: left !important;\\n}\\n\\ncol-section {\\n    width: 100%;\\n}\\n\\nmd-checkbox.listItemCheckbox .md-label {\\n    margin-top: 26px;\\n    margin-left: 38px;\\n}\\n\\nlist-item,\\nlist-item-header,\\nlist-item-numeric-control {\\n    display: block;\\n    width: 100%;\\n}\\n\\n.listItem {\\n    height: 72px;\\n    padding: 0 16px;\\n    outline: none;\\n    border: none;\\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, .05)\\n}\\n\\n.listItem md-checkbox .md-container {\\n    height: 4px;\\n}\\n\\n.listItem.md {\\n    min-height: 56px;\\n    height: 56px;\\n    line-height: 56px;\\n    padding: 0 16px;\\n    outline: none;\\n    border: none;\\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, .05);\\n}\\n\\n.lg.slideDown.ng-hide {\\n    height: 0 !important;\\n    transition: height 0.35s ease;\\n    overflow: hidden;\\n    position: relative;\\n}\\n\\n.lg.slideDown {\\n    height: 72px;\\n    line-height: 72px;\\n    transition: height 0.35s ease;\\n    overflow: hidden;\\n    position: relative;\\n}\\n\\n.lg.slideDown.ng-hide-remove,\\n.lg.slideDown.ng-hide-add {\\n    /* remember, the .hg-hide class is added to element\\n    when the active class is added causing it to appear\\n    as hidden. Therefore set the styling to display=block\\n    so that the hide animation is visible */\\n    display: block!important;\\n}\\n\\n.lg.slideDown.ng-hide-add {\\n    animation-name: hide;\\n    -webkit-animation-name: hide;\\n    animation-duration: .5s;\\n    -webkit-animation-duration: .5s;\\n    animation-timing-function: ease-in;\\n    -webkit-animation-timing-function: ease-in;\\n}\\n\\n.lg.slideDown.ng-hide-remove {\\n    animation-name: show;\\n    -webkit-animation-name: show;\\n    animation-duration: .5s;\\n    -webkit-animation-duration: .5s;\\n    animation-timing-function: ease-out;\\n    -webkit-animation-timing-function: ease-out;\\n}\\n\\n.listItem.sm {\\n    min-height: 36px;\\n    height: 36px;\\n    line-height: 36px;\\n    min-height: 36px;\\n    padding: 0 16px;\\n    font-size: 12px;\\n    outline: none;\\n    border: none;\\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, .05);\\n}\\n\\n.listItem md-autocomplete input:not(.md-input) {\\n    height: 100% !important;\\n    line-height: 100% !important;\\n    padding: 0;\\n}\\n\\n.listItem md-autocomplete md-autocomplete-wrap {\\n    box-shadow: none !important;\\n    height: 100% !important;\\n}\\n\\n.listItem md-autocomplete {\\n    padding: 0 !important;\\n    width: 100% !important;\\n}\\n\\n.listItemAutoCompleteAfterContainer {\\n    margin-top: -20px !important;\\n}\\n\\n.listItemFocus {\\n    box-shadow: 0 1px 0 rgba(255, 152, 0, 0.4), 0 -1px 0 rgba(255, 152, 0, 0.4), inset 0px 1px 4px rgba(255, 152, 0, 0.2), inset 0px -1px 4px rgba(255, 152, 0, 0.2) !important;\\n    background: white;\\n}\\n\\ninput.buttonInlineInput {\\n    /* margin: 0px -16px;*/\\n    padding: 0 0 0 0;\\n    border-width: 0;\\n    -ms-flex-preferred-size: 36px;\\n    font-size: inherit;\\n    width: 100%;\\n    border: none;\\n    outline: none;\\n    box-sizing: border-box;\\n    float: left;\\n    background: transparent;\\n}\\n\\n.inputStatusIcon {\\n    height: 24px;\\n    width: 36px;\\n    margin-bottom: 42px !important;\\n    margin-right: 4px !important;\\n}\\n\\n.buttonInlineInput:focus {\\n    /* box-shadow: inset 0px 1px 3px rgba(33, 33, 33, 0.3), inset 0px -1px 3px rgba(33, 33, 33, 0.3); */\\n}\\n\\n.listItemGreyFocus {\\n    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.28), 0 -1px 0 rgba(0, 0, 0, 0.28), inset 0px 1px 4px rgba(0, 0, 0, 0.16), inset 1px -1px 4px rgba(0, 0, 0, 0.2) !important;\\n}\\n\\n.listItemGreyFocus input,\\ntextarea {\\n    color: rgb(63, 81, 181);\\n}\\n\\n.listItemGreyFocus ng-md-icon.listItemHeaderIcon {\\n    fill: rgb(63, 81, 181);\\n}\\n\\n.listItemFocusBottomBorder {\\n    box-shadow: 0px 2px 0 rgba(58, 171, 56, 0.92), inset 0 -1px 3px rgba(57, 73, 171, .2), inset 0 1px rgba(0, 0, 0, .1) !important;\\n}\\n\\n.listItemFocusBottomBorder input,\\ntextarea {\\n    color: rgb(0, 0, 0);\\n}\\n\\nmd-input-container.buttonInlineInput {\\n    display: inline-block;\\n    position: relative;\\n    height: 36px;\\n    padding: 5px;\\n    margin: 0;\\n    vertical-align: middle;\\n}\\n\\n.listItemPadding {\\n    padding: 0 16px;\\n}\\n\\n.listItem.listItemHeader {\\n    font-size: 16px;\\n    margin: auto;\\n    font-weight: 500;\\n    cursor: unset;\\n    line-height: 72px;\\n    font-weight: 500;\\n    cursor: unset;\\n    color: white;\\n}\\n\\n.listItem.listItemHeader.light {\\n    color: black;\\n    background: #fff;\\n    box-shadow: 2px 1px 2px rgba(0, 0, 0, 0.3), 1px -1px 1px rgba(0, 0, 0, .2);\\n}\\n\\n.listItem.listItemHeader.dark {\\n    color: white;\\n    box-shadow: inset 0 1px 0px rgba(255, 255, 255, 0.2);\\n    background: #424242;\\n}\\n\\n.listItem.sm.listItemHeader {\\n    font-size: 12px;\\n    margin: 0;\\n    font-weight: 500;\\n    cursor: unset;\\n    line-height: 36px;\\n}\\n\\n.listItem.md.listItemHeader {\\n    font-size: 16px;\\n    margin: 0;\\n    font-weight: 500;\\n    cursor: unset;\\n    line-height: 54px;\\n}\\n\\n.leftIcon {\\n    margin-right: 16px;\\n}\\n\\nng-md-icon.listItemHeaderIcon.lg,\\nng-md-icon.listItemHeaderIcon.lg svg {\\n    margin: auto 0 auto 0;\\n    height: 32px;\\n    width: 32px;\\n}\\n\\nng-md-icon.listItemHeaderIcon.md,\\nng-md-icon.listItemHeaderIcon.md svg {\\n    margin: auto 0 auto 0;\\n    height: 24px;\\n    width: 24px;\\n}\\n\\nng-md-icon.listItemHeaderIcon.sm,\\nng-md-icon.listItemHeaderIcon.sm svg {\\n    margin: auto 8px auto 0;\\n    height: 16px;\\n    width: 16px;\\n}\\n\\n.lineItemSubHeader {\\n    font-size: 14px;\\n    font-weight: 400;\\n    padding: 0 16px 0 0;\\n    line-height: 1.6em;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    color: rgba(0, 0, 0, 0.92) !important;\\n}\\n\\n.autocomplete-custom-template li {\\n    border-bottom: 1px solid #ccc;\\n    height: auto;\\n    padding-top: 8px;\\n    padding-bottom: 8px;\\n    white-space: normal;\\n}\\n\\n.autocomplete-custom-template li:last-child {\\n    border-bottom-width: 0;\\n}\\n\\n.autocomplete-custom-template .item-title {\\n    font-weight: 600;\\n}\\n\\n.autocomplete-custom-template .item-title,\\n.autocomplete-custom-template .item-metadata {\\n    display: block;\\n    line-height: 2;\\n}\\n\\n.autocomplete-custom-template .item-title md-icon {\\n    height: 18px;\\n    width: 18px;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/lib/components/listItem.css\n// module id = 105\n// module chunks = 0","import template from './listItemHeader.html';\n// import controller from './goatListItem.controller';\n\nconst listItemHeader = {\n    bindings: {\n        action: '@',\n        actionClick: '=',\n        expanded: '=',\n        title: '@',\n        icon: '@',\n        size: '@'\n    },\n    template: template,\n    controller: function () {\n\n        this.$onInit = function () {\n            if (!this.expanded) \n                this.expanded = false;\n\n            };\n        \n        this.$onChanges = (changesObj) => {};\n        this.$postLink = function () {};\n\n        this.click = function () {\n            console.log('click function');\n            if (this.action == 'expandable') {\n                this.expanded = !this.expanded;\n\n            }\n        }\n    },\n    controllerAs: 'vm'\n};\n\nexport default listItemHeader;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItemHeader.component.js","module.exports = \"<div class=\\\"listItem listItemHeader\\\" ng-class=\\\"[vm.size]\\\" ng-disabled=\\\"!vm.action\\\" ng-click=\\\"vm.click()\\\">\\n    <div layout=\\\"row\\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"80\\\">\\n            <ng-md-icon ng-if=\\\"vm.icon\\\" icon=\\\"{{vm.icon}}\\\" class=\\\"headerIcon listIcon\\\"></ng-md-icon>\\n            <div class=\\\"listItemHeaderText\\\">{{vm.title}}</div>\\n        </div>\\n\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"20\\\">\\n            <div layout=\\\"column\\\" layout-align=\\\"center end\\\" ng-if=\\\"vm.action == 'expandable'\\\" flex>\\n                <ng-md-icon icon=\\\"{{vm.expanded ? 'expand_less' : 'expand_more'}}\\\" options='{\\\"duration\\\": 500, \\\"rotation\\\": \\\"clock\\\", \\\"easing\\\":\\\"linear\\\"}'\\n                    class=\\\"listItemHeaderIcon\\\"></ng-md-icon>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItemHeader.html\n// module id = 107\n// module chunks = 0","import './activity-book.css';\n\nimport activityTotalTemplate from './activity-total.html';\nimport activityFormsTemplate from './activity-forms.html';\nimport activityBookingTemplate from './activity-book.html';\nimport activityBookValidators from './activity-book-validators';\n\nimport activityAdjustmentController from './activity.adjustment.controls.component.js'\n/**\n * @namespace activity-book\n */\nexport default angular\n    .module('activity-book', ['ngMaterial', 'rx'])\n    .run(function ($templateCache) {\n        $templateCache.put('activity-forms.html', activityFormsTemplate);\n        $templateCache.put('activity-book.html', activityBookingTemplate);\n        $templateCache.put('activity-total.html', activityTotalTemplate);\n    })\n    .controller('activityAdjustmentController', activityAdjustmentController)\n    .directive('ablActivityBook', [\n        '$rootScope',\n        '$sce',\n        '$compile',\n        '$mdMedia',\n        '$mdDialog',\n        '$mdToast',\n        '$log',\n        '$window',\n        '$timeout',\n        '$http',\n        'rx',\n        'observeOnScope',\n        '$stateParams',\n        '$state',\n        function ($rootScope, $sce, $compile, $mdMedia, $mdDialog, $mdToast, $log, $window, $timeout, $http, rx, observeOnScope, $stateParams, $state) {\n            return {\n                restrict: 'E',\n                scope: {\n                    book: '=',\n                    activity: '=',\n                    app: '='\n                },\n                template: activityBookingTemplate,\n                link: function ($scope, element, attrs) {\n                    // Digest on resize to recalculate $mdMedia window size\n                    function onResize() {\n                        $scope.$digest();\n                    };\n                    angular\n                        .element($window)\n                        .on('resize', onResize);\n                },\n                controllerAs: 'vm',\n                controller: function ($scope, $element, $attrs) {\n                    let vm = this;\n                    this.formWasBlocked = false;\n                    this.guestDetailsExpanded = true;\n                    this.attendeesExpanded = false;\n                    this.addonsExpanded = false;\n                    this.questionsExpanded = false;\n                    this.stripePaymentExpanded = false;\n                    this.stripeCardIsValid = false;\n                    this.paymentExpanded = false;\n                    this.showPaymentForm = false;\n                    this.paymentWasSent = false;\n                    this.waitingForResponse = false;\n                    this.validStepsForPayment = {\n                        'guest': false,\n                        'attendees': false\n                    };\n\n                    this.couponStatus = 'untouched';\n                    this.appliedCoupon = {};\n                    this.couponQuery = '';\n                    this.occupancyRemaining = 0;\n\n                    this.attendeeSubtotals = [];\n                    this.addonSubtotals = [];\n\n                vm.taxes = [];\n                vm.taxTotal = 0;\n                vm.addons = [];\n                vm.questions = [];\n                vm.goToPay = goToPay;\n                vm.submitNonCreditCardBooking = submitNonCreditCardBooking;\n\n                    $scope.sendConfirmationEmail = true;\n\n                    // Environment is configured differently across apps so get config from the\n                    // $rootScope for now\n                    const config = $rootScope.config;\n                    let headers = {};\n\n                    //Activity dash needs no headers\n                    if (!config.DASHBOARD) {\n                        headers = {\n                            'x-abl-access-key': $stateParams.merchant || 'tLVVsHUlBAweKP2ZOofhRBCFFP54hX9CfmQ9EsDlyLfN6DYHY5k8VzpuiUxjNO5L', //$stateParams.merchant || config.ABL_ACCESS_KEY,\n                            'x-abl-date': Date.parse(new Date().toISOString()),\n                            \"Content-Type\": \"application/json;charset=utf-8\"\n\n                        };\n                        //Require booking questions on consumer facing apps\n                        vm.validStepsForPayment['bookingQuestions'] = false;\n                    } else {\n                        $scope.dashboard = true;\n                    }\n\n                    $log.debug('abl-activity-book $scope', $scope);\n\n                    $scope.formatDate = function (date, format) {\n                        return window\n                            .moment(date)\n                            .format(format);\n                    }\n                    $scope.paymentResponse = '';\n                    $scope.paymentSuccessful = false;\n\n                    this.goToNextStep = function (currentStepName, form) {\n                        switch (currentStepName) {\n                            case 'guestDetailsStep': //goes to attendees\n                                vm.toggleGuestDetails();\n                                vm.toggleAttendees();\n                                break;\n                            case 'attendeesStep': //goes to addons || booking || pay\n                                //$log.debug('goToNextStep:attendeesStep', vm.attendeesAdded);\n                                if (vm.countAttendeesAdded() > 0) { //validate attendees\n                                    //$log.debug('attendeesStep', vm.addons.length, vm.questions);\n                                    if (vm.addons.length > 0) {\n                                        vm.attendeesExpanded = false; //close current\n                                        vm.addonsExpanded = true; //close current\n                                    } else if (vm.questions.length > 0) {\n                                        vm.attendeesExpanded = false; //close current\n                                        vm.questionsExpanded = true;\n                                    } else {\n                                        vm.attendeesExpanded = false; //close current\n                                        vm.stripePaymentExpanded = true;\n                                        if (!$scope.dashboard) {\n                                            $log.debug('no questions, goToPay');\n                                            vm.goToPay();\n                                        }\n                                    }\n                                }\n                                break;\n                            case 'addonsStep': //goes to addons || booking || pay\n                                if (vm.addons && vm.addons.length > 0) { //validate addons\n                                    if (vm.countAttendeesAdded()) { //if guests and attendees are valid\n                                        if (vm.questions.length > 0) { //go to questions if questions exist\n                                            vm.addonsExpanded = false;\n                                            vm.questionsExpanded = true;\n                                        } else { //got to pay if qustions doesn't exist\n                                            vm.addonsExpanded = false;\n                                            vm.stripePaymentExpanded = true;\n                                            if (!$scope.dashboard) {\n                                                $log.debug('no questions, goToPay');\n                                                vm.goToPay();\n                                            }\n                                        }\n                                    }\n                                }\n                                break;\n                            case 'paymentStep': //goes to addons || booking || pay\n                                $log.debug('goToNextStep:paymentStep', vm.isPaymentValid());\n                                if (vm.isPaymentValid()) { //if guests and attendees are valid\n                                    vm.guestDetailsExpanded = false;\n                                    vm.attendeesExpanded = false;\n                                    vm.addonsExpanded = false;\n                                    vm.questionsExpanded = false;\n                                    vm.stripePaymentExpanded = true;\n                                    if (!$scope.dashboard) {\n                                        vm.goToPay()\n                                    }\n                                }\n                                break;\n                        }\n                    }\n\n                    vm.guestDetailsFormValid = false;\n\n                    this.toggleGuestDetails = function () {\n                        //console.log('toggle guest details');\n                        this.guestDetailsExpanded = this.formWasBlocked\n                            ? false\n                            : !this.guestDetailsExpanded;\n                    }\n\n                    this.togglePayment = function () {\n                        //$log.debug('toggle payment');\n                        this.paymentExpanded = !this.paymentExpanded;\n                    }\n\n                    this.returnToMainPage = function () {\n\n                        if ($rootScope.config.DASHBOARD) {\n                            $mdDialog.hide();\n                            $state.reload();\n                        } else {\n                            $mdDialog.hide();\n                            $state.go('home', {merchant: $stateParams.merchant});\n                        }\n                    }\n                    this.pricing = {\n                        total: 0\n                    };\n                    this.taxTotal,\n                    this.addonTotal,\n                    this.attendeeTotal = 0;\n\n                    $scope.bookingSucceeded = false;\n                    $scope.$mdMedia = $mdMedia;\n                    $scope.screenIsBig = function () {\n                        var w = angular.element($window);\n                        return w[0].innerWidth > 742;\n                    }\n\n                    $scope.addBookingController = $scope.$parent;\n                    //$log.debug('addBookingController', $scope.addBookingController);\n\n                    this.toggleQuestions = function () {\n                        //$log.debug('toggle questions');\n                        this.questionsExpanded = this.formWasBlocked\n                            ? false\n                            : !this.questionsExpanded;\n                    }\n\n                    this.adjustAddon = function (i, mode) {\n                        if (mode == 'up') \n                            vm.addons[i].quantity++;\n                        if (mode == 'down' && vm.addons[i].quantity > 0) \n                            vm.addons[i].quantity--;\n                        \n                        $scope.safeApply()\n                        $log.debug('adjust addons', vm.addons);\n                        vm.getPricingQuote();\n                    }\n                    //$log.debug('adjustAddon:addons', vm.addons);\n\n                    this.toggleAddons = function () {\n                        //$log.debug('toggle addons');\n                        if (vm.addons.length < 1) \n                            this.questionsExpanded = this.formWasBlocked\n                                ? false\n                                : !this.questionsExpanded;\n                        else \n                            this.addonsExpanded = this.formWasBlocked\n                                ? false\n                                : !this.addonsExpanded;\n                        }\n                    \n                    this.toggleStripePay = function () {\n                        this.paymentExpanded = !this.paymentExpanded;\n                    }\n\n                    this.togglePay = function () {\n                        this.payButtonEnabled = !this.payButtonEnabled;\n                    }\n\n                    this.adjustAttendee = function (i, mode) {\n                        //Allow dashboard users to overbook\n                        if (mode == 'up' && (vm.countAttendees() > 0 || $scope.dashboard)) \n                            vm.attendees[i].quantity++;\n                        if (mode == 'down' && vm.attendees[i].quantity > 0) \n                            vm.attendees[i].quantity--;\n                        \n                        //$log.debug('adjust attendees', vm.attendees);\n                        vm.getPricingQuote();\n                        vm.countAttendees();\n                    }\n\n                    this.toggleAttendees = function () {\n                        //$log.debug('toggle attendees');\n                        this.attendeesExpanded = this.formWasBlocked\n                            ? false\n                            : !this.attendeesExpanded;\n                    }\n\n                    this.checkAdjustAttendee = function ($index) {\n                        if (!$scope.dashboard && vm.attendees[$index].quantity > vm.countAttendees()) {\n                            vm.attendees[$index].quantity = 0;\n                            vm.attendees[$index].quantity = vm.countAttendees();\n                        }\n                        if (vm.attendees[$index].quantity < 0) \n                            vm.attendees[$index].quantity = 0;\n                        \n                        vm.getPricingQuote();\n                        vm.countAttendees();\n                        $scope.safeApply();\n                        $log.debug('attendees added', vm.countAttendees(), vm.attendees[$index].quantity);\n                    }\n\n                    var data = {\n                        \"attendees\": {},\n                        \"addons\": {}\n                    }\n\n                    function buildQuery() {\n                        // Parse attendees\n                        angular\n                            .forEach(vm.attendees, function (e, i) {\n                                data[\"attendees\"][e._id] = [];\n                                if (e.quantity > 0) {\n                                    for (var i = 0; i < e.quantity; i++) {\n                                        data[\"attendees\"][e._id].push(null);\n                                    }\n                                }\n                            });\n                        // Parse addons\n                        angular.forEach(vm.addons, function (e, i) {\n                            data[\"addons\"][e._id] = [];\n                            if (e.quantity > 0) {\n                                for (var i = 0; i < e.quantity; i++) {\n                                    data[\"addons\"][e._id].push(null);\n                                }\n                            }\n                        });\n                        //$log.debug('pricing quote POST data', data);\n                        return data;\n                    }\n\n                    // Query for pricing data based on the data object used to make a booking\n                    // request\n                    vm.getPricingQuote = function () {\n                        var query = buildQuery();\n                        $http({\n                                method: 'POST',\n                                url: config.FEATHERS_URL + '/pricing-quotes',\n                                data: query,\n                                headers: headers\n                            }).then(function successCallback(response) {\n                            vm.pricing = response.data;\n                            vm.pricing.couponDeduction = vm\n                                .pricing\n                                .items\n                                .filter(function (item) {\n                                    return item.type == 'coupon';\n                                });\n\n                            var addonsFilter = response\n                                .data\n                                .items\n                                .filter(function (item) {\n                                    return item.type == 'addon';\n                                });\n                            vm.addonTotal = 0;\n                            vm.addonSubtotals = [];\n                            var addonsArray = {};\n                            angular.forEach(addonsFilter, function (addon, key) {\n                                var object = addon.type + addon\n                                    .name\n                                    .replace(' ', '');\n                                if (!addonsArray[object]) {\n                                    addonsArray[object] = {\n                                        addons: []\n                                    };\n                                }\n                                addonsArray[object]\n                                    .addons\n                                    .push(addon);\n                            });\n                            angular.forEach(addonsArray, function (addon, key) {\n                                var obj = {\n                                    name: addon.addons[0].name,\n                                    price: addon.addons[0].amount || addon.addons[0].price,\n                                    amount: (addon.addons[0].amount || addon.addons[0].price) * addon.addons[0].quantity,\n                                    quantity: addon.addons[0].quantity\n                                };\n                                vm.addonTotal += (addon.addons[0].amount || addon.addons[0].price) * addon.addons[0].quantity;\n                                vm\n                                    .addonSubtotals\n                                    .push(obj);\n                            });\n\n                            vm.attendeeTotal = response\n                                .data\n                                .items\n                                .filter(function (item) {\n                                    return item.type == \"aap\"\n                                })\n                                .reduce(function (result, att) {\n                                    return result + (att.amount || att.price) * att.quantity\n                                }, 0);\n\n                            var aapFilter = response\n                                .data\n                                .items\n                                .filter(function (item) {\n                                    return item.type == 'aap';\n                                });\n                            vm.attendeeSubtotals = [];\n                            var attendeesArray = {};\n                            angular.forEach(aapFilter, function (aap, key) {\n                                var object = aap.type + aap\n                                    .name\n                                    .replace(' ', '');\n                                if (!attendeesArray[object]) {\n                                    attendeesArray[object] = {\n                                        aaps: []\n                                    };\n                                }\n                                attendeesArray[object]\n                                    .aaps\n                                    .push(aap);\n                            });\n                            angular.forEach(attendeesArray, function (aap, key) {\n                                var obj = {\n                                    name: aap.aaps[0].name,\n                                    price: aap.aaps[0].amount || aap.aaps[0].price,\n                                    amount: aap.aaps[0].amount * aap.aaps[0].quantity,\n                                    quantity: aap.aaps[0].quantity\n                                };\n                                vm\n                                    .attendeeSubtotals\n                                    .push(obj);\n                            });\n\n                            vm.taxTotal = response\n                                .data\n                                .items\n                                .filter(function (item) {\n                                    return item.type == \"tax\" || item.type == \"fee\" || item.type == 'service'\n                                })\n                                .reduce(function (result, tax) {\n                                    return result + ((tax.amount || tax.price) * tax.quantity)\n                                }, 0);\n\n                            $log.debug('getPricingQuotes', response);\n                            $log.debug('attendeeSubtotal', vm.attendeeSubtotals);\n                            $log.debug('taxTotal', vm.taxTotal);\n                        }, function errorCallback(response) {\n                            vm.pricing = {};\n                            vm.taxTotal = 0;\n                            $mdToast.show($mdToast.simple().textContent(response.data.errors[0]).position('left bottom').hideDelay(3000));\n                            //$log.debug('getPricingQuotes error!', response, vm.pricing);\n                        });\n                    }\n\n                    //Query for possible coupons partially matching the vm.couponQuery search string\n                    vm.getPossibleCoupons = function () {\n                        $http({\n                                method: 'GET',\n                                url: config.FEATHERS_URL + '/coupons?bookingId=' + vm.couponQuery,\n                                headers: headers\n                            })\n                            .then(function successCallback(response) {\n                                vm.possibleCoupons = response.data;\n                                $log.debug('getPossibleCoupons success', response);\n                            }, function errorCallback(response) {\n                                vm.possibleCoupons = [];\n                                // vm.taxTotal = 0; $log.debug('getPossibleCoupons error!', response);\n                            });\n                    }\n\n                    vm.clients = [];\n                    observeOnScope($scope, 'vm.formData.fullName').map(function (data) {\n                        return data;\n                    })\n                        .subscribe(function (change) {\n                            $log.debug('clientSearchText ', change.newValue);\n                            if ($scope.dashboard) {\n                                vm.clients = $http({\n                                        method: 'GET',\n                                        url: config.FEATHERS_URL + '/clients?fullName=' + change.newValue,\n                                        headers: headers\n                                    }).then(function successCallback(response) {\n                                    $log.debug('clientSearch success', response);\n                                    return response.data.list;\n                                }, function errorCallback(response) {\n                                    $log.debug('clientSearch error!', response);\n                                    return [];\n                                });\n                            }\n                        });\n\n                    vm.selectedClientChange = function (client) {\n                        if (client) {\n                            vm.formData.fullName = client.primaryContact.fullName || '';\n                            vm.formData.mail = client.primaryContact.email || '';\n                            vm.formData.phoneNumber = client.primaryContact.phoneNumber || '';\n                            $log.debug('selectedClientChange', client);\n                        }\n                    }\n\n                    $scope.autocomplete = {};\n                    vm.couponStatus = 'untouched';\n\n                    $scope.autocomplete.searchTextChange = function searchTextChange(text) {\n                        $log.debug(\"SEARCH TEXT\", text);\n                    }\n                    $scope.autocomplete.selectedItemChange = function selectedItemChange(item) {\n                        $log.debug('applied coupon', item);\n\n                        if (item) {\n                            vm.appliedCoupon = item;\n                            data['couponId'] = item['couponId'];\n                            vm.validateCoupon(vm.appliedCoupon);\n                            vm.couponStatus = 'valid';\n                            vm.getPricingQuote();\n                            vm.checkingCoupon = false;\n                        } else {\n                            vm.appliedCoupon = undefined;\n                            vm.couponStatus = 'untouched';\n                            if (data['couponId']) \n                                delete data['couponId'];\n                            }\n                        }\n\n                    $scope.autocomplete.querySearch = function querySearch(text) {\n                        if ($scope.dashboard) {\n                            text = text.toUpperCase();\n                            return $http({\n                                    method: 'GET',\n                                    url: config.FEATHERS_URL + '/coupons?couponId=' + text,\n                                    headers: headers\n                                }).then(function successCallback(response) {\n                                return response.data.list;\n                                $log.debug('getPossibleCoupons success', response.data.list);\n                            }, function errorCallback(response) {\n                                return [];\n                                $log.debug('getPossibleCoupons error!', response);\n                            });\n                        }\n\n                    }\n\n                    // Check whether the vm.couponQuery search string exists as a coupon, if\n                    // successful, add the coupon id to the make booking request object as the\n                    // 'coupon' property\n                    vm.checkCoupon = function () {\n                        vm.checkingCoupon = true;\n                        //$log.debug('check coupon', vm.couponQuery);\n                        $http({\n                                method: 'GET',\n                                url: config.FEATHERS_URL + '/coupons/' + vm.couponQuery,\n                                headers: headers\n                            }).then(function successCallback(response) {\n                            $log.debug('checkCoupon success', response);\n                            data['couponId'] = response.data['couponId'];\n                            vm.appliedCoupon = response.data;\n                            $log.debug('applied coupon', vm.appliedCoupon);\n                            vm.validateCoupon(vm.appliedCoupon);\n                            vm.couponStatus = 'valid';\n                            vm.getPricingQuote();\n                            vm.checkingCoupon = false;\n\n                        }, function errorCallback(response) {\n                            delete data['couponId'];\n                            vm.couponStatus = 'invalid';\n                            vm.appliedCoupon = {};\n                            vm.checkingCoupon = false;\n\n                            //$log.debug('checkCoupon error!', response);\n                        });\n                    }\n\n                    vm.removeCoupon = function () {\n                        vm.couponQuery = '';\n                        delete data['couponId'];\n                        $scope.autocomplete.selectedItem = undefined;\n                        vm.couponStatus = 'untouched';\n                        vm.appliedCoupon = {};\n                        vm.getPricingQuote();\n                    }\n\n                    const moment = window.moment;\n\n                    vm.validateCoupon = function (coupon) {\n                        const today = moment();\n                        // $log.debug('coupon expires after today',\n                        // moment(coupon.endTime).isAfter(moment())); Coupon is not expired and is\n                        // infinitely redeemable\n                        if (moment(coupon.endTime).isAfter(moment()) && coupon.maxRedemptions == 0) \n                            return true;\n                        \n                        // Coupon is not expired and has been redeemed less than the maximum allowable\n                        // redemptions\n                        if (coupon.maxRedemptions > 0 && moment(coupon.endTime).isAfter(moment()) && coupon.maxRedemptions - coupon.redemptions >= 0) \n                            return true;\n                        \n                        //Coupon is expired or has been redeemed too many times\n                        vm.couponStatus = 'invalid';\n                        return false;\n                    }\n\n                    vm.bookingQuestionsCompleted = function () {\n                        var completed = 0;\n                        if (vm.bookingQuestions) {\n                            angular\n                                .forEach(vm.bookingQuestions, function (e, i) {\n                                    if (e.length > 0) \n                                        completed++;\n                                    }\n                                );\n                        } else {\n                            completed = 0;\n                        }\n                        //$log.debug('vm.bookingQuestions', vm.bookingQuestions, completed);\n                        return completed;\n                    }\n                    // Observe and debounce an object on the $scope, can be used on a search input\n                    // for example to wait before auto-sending the value\n                    observeOnScope($scope, 'vm.couponQuery')\n                        .debounce(500)\n                        .select(function (response) {\n                            return response;\n                        })\n                        .subscribe(function (change) {\n                            //$log.debug('search value', change);\n                            if (vm.couponQuery.length > 0) \n                                vm.checkCoupon();\n                            }\n                        );\n\n                    activityBookValidators(vm, rx, $http, $stateParams);\n\n                    $scope.$watch('addBookingController.activity', function (changes) {\n                        $log.debug('addBookingController.activity', changes);\n                        if (angular.isDefined($scope.addBookingController.activity)) {\n                            //Get booking questions\n                            vm.questions = $scope.addBookingController.activity.questions || [];\n                            if (!vm.questions) {\n                                delete vm.validStepsForPayment.bookingQuestions;\n                            }\n                            //$log.debug('booking questions', vm.questions);\n\n                            vm.addons = $scope\n                                .addBookingController\n                                .activity\n                                .charges\n                                .filter(function (charge) {\n                                    return charge.type == 'addon' && charge.status == 'active';\n                                });\n                            if (!vm.addons) {\n                                delete vm.validStepsForPayment.addons;\n                            }\n                            vm\n                                .addons\n                                .forEach(function (e, i) {\n                                    if (!angular.isDefined(e.quantity)) \n                                        e.quantity = 0;\n                                    }\n                                );\n\n                            vm.taxes = $scope\n                                .addBookingController\n                                .activity\n                                .charges\n                                .filter(function (charge) {\n                                    return charge.type == 'tax';\n                                });\n                            $scope.safeApply();\n                            //$log.debug('taxes', vm.taxes);\n\n                        }\n                    }, true);\n\n                $scope.$watch('addBookingController.timeslot', function(changes) {\n                    if (angular.isDefined($scope.addBookingController.timeslot) && angular.isDefined($scope.addBookingController.event)) {\n                        $log.debug('addBookingController.timeslot', $scope.addBookingController.timeslot);\n\n                        if (angular.isDefined($scope.addBookingController.timeslot.charges)) {\n                            vm.attendees = $scope.addBookingController.timeslot.charges.filter(function(charge) {\n                                return charge.type == 'aap' && charge.status == 'active';\n                            });\n                            vm.attendees.forEach(function(e, i) {\n                                if (!angular.isDefined(e.quantity))\n                                    e.quantity = 0;\n                            });\n                        }\n                        data['timeSlotId'] = $scope.addBookingController.timeslot._id;\n                        data['startTime'] = $scope.addBookingController.event.startTime;\n\n                        }\n                    }, true);\n\n                    vm.countAttendees = function () {\n                        console.log('addBookingController.event', $scope.addBookingController.event);\n                        var attendees = 0;\n                        if ($scope.addBookingController.event) {\n                            if (vm.attendees) {\n                                attendees = ($scope.addBookingController.event.maxOcc\n                                    ? $scope.addBookingController.event.maxOcc\n                                    : $scope.addBookingController.timeslot.maxOcc) - vm\n                                    .attendees\n                                    .map(function (att) {\n                                        return att.quantity;\n                                    })\n                                    .reduce((a, b) => a + b, 0) - $scope.addBookingController.event.attendees;\n                            } else {\n                                attendees = 0;\n                            }\n                        }\n                        return attendees;\n\n                    }\n\n                    vm.countAttendeesAdded = function () {\n                        var attendeesAdded = 0;\n                        if ($scope.addBookingController.event) {\n                            if (vm.attendees) {\n                                attendeesAdded = vm\n                                    .attendees\n                                    .map(function (att) {\n                                        return att.quantity;\n                                    })\n                                    .reduce((a, b) => a + b, 0);\n                            }\n                        }\n                        // $log.debug('countAttendeesAdded', attendeesAdded);\n                        return attendeesAdded;\n                    }\n\n                    vm.countAddonsAdded = function () {\n                        if ($scope.addBookingController.event) {\n                            if (vm.addons) {\n                                return vm\n                                    .addons\n                                    .map(function (add) {\n                                        return add.quantity;\n                                    })\n                                    .reduce((a, b) => a + b, 0);\n                            } else {\n                                return 0;\n                            }\n                        }\n                        return 0;\n                    }\n\n                    vm.addonsChanged = function () {\n                        $scope.safeApply();\n                        $log.debug('addonsChanged');\n                        $timeout(function () {\n                            vm.getPricingQuote();\n                        }, 0);\n                    }\n\n                    this.areGuestDetailsValid = function (form) {\n                        if (form) {\n                            vm.guestDetailsAreValid = form.$valid;\n                            vm.validStepsForPayment.guest = vm.guestDetailsAreValid;\n                        } else {\n                            vm.guestDetailsAreValid = false;\n                        }\n                        return vm.guestDetailsAreValid;\n                    }\n\n                    this.areAttendeesValid = function () {\n                        vm.validStepsForPayment.attendees = vm.countAttendeesAdded() === 0\n                            ? false\n                            : true;\n                        return vm.countAttendeesAdded() === 0\n                            ? false\n                            : true;\n                    }\n\n                    this.areAddonsValid = function () {\n                        if (vm.validStepsForPayment.addons != null) {\n                            vm.validStepsForPayment.addons = true;\n                        }\n                        return vm.countAddonsAdded() === 0\n                            ? false\n                            : true;\n                    }\n\n                    this.areBookingQuestionsValid = function () {\n                        if (vm.validStepsForPayment.bookingQuestions != null) {\n                            vm.validStepsForPayment.bookingQuestions = (vm.bookingQuestionsCompleted() === vm.questions.length\n                                ? true\n                                : false);\n                        }\n                        $log.debug('areBookingQuestionsValid ', vm.validStepsForPayment.bookingQuestions)\n\n                        return vm.validStepsForPayment.bookingQuestions;\n                    }\n\n                    this.isPaymentValid = function () {\n                        var isValid = [];\n                        angular.forEach(vm.validStepsForPayment, function (step, key) {\n                            if (!step) {\n                                isValid.push(step);\n                            }\n                        });\n                        return isValid.length > 0\n                            ? false\n                            : true;\n                    }\n\n                    this.isNextStepPayment = function (step) {\n                        if (step === 'attendees') {\n                            if (vm.addons || vm.questions) {\n                                return vm.addons || vm.questions\n                                    ? true\n                                    : false;\n                            } else {\n                                return false;\n                            }\n                        }\n                        if (step === 'addons') {\n                            if (vm.questions) {\n                                return vm.questions\n                                    ? true\n                                    : false;\n                            } else {\n                                return false;\n                            }\n                        }\n                        if (step === 'payment') {\n                            return true;\n                        }\n                    }\n\n                    vm.paymentMethod = 'credit';\n                    vm.bookingQuestions = [];\n                    vm.getBookingData = function () {\n                        const bookingData = angular.copy(data);\n                        if (vm.paymentMethod == 'reserved') \n                            bookingData['amount'] = 0;\n                        bookingData['eventInstanceId'] = $scope.addBookingController.event['eventInstanceId'] || $scope.addBookingController.event;\n                        bookingData['answers'] = {};\n\n                        bookingData['sendConfirmationEmail'] = $scope.sendConfirmationEmail;\n                        bookingData['skipConfirmation'] = !$scope.sendConfirmationEmail;\n\n                    bookingData['email'] = vm.formData['mail'];\n                    bookingData['phoneNumber'] = vm.formData['phoneNumber'];\n                    bookingData['fullName'] = vm.formData['fullName'];\n                    bookingData['notes'] = vm.formData['notes'];\n                    bookingData['skipConfirmation'] = false;\n                    bookingData['operator'] = $scope.addBookingController.event.operator || $scope.addBookingController.event.organizations[0] || $scope.addBookingController.activity.operator || $scope.addBookingController.activity.organizations[0];\n                    angular.forEach(vm.questions, function(e, i) {\n                        $log.debug('vm.questions', vm.questions);\n                        $log.debug('vm.bookingQuestions', vm.bookingQuestions);\n                        bookingData['answers'][e._id ? e._id : e] = vm.bookingQuestions[i];\n                    });\n\n                        if (vm.paymentMethod != 'reserved') \n                            bookingData['paymentMethod'] = vm.paymentMethod;\n                        else \n                            bookingData['paymentMethod'] = 'cash';\n                        \n                        if (vm.paymentMethod == 'reserved') {\n                            bookingData['amount'] = 0;\n                        }\n                        bookingData['currency'] = 'default';\n\n                        return bookingData;\n                    }\n\n                    vm.outputBookingData = function () {\n                        $log.debug(vm.getBookingData());\n                    }\n\n                    $scope.safeApply = function (fn) {\n                        var phase = this.$root.$$phase;\n                        if (phase == '$apply' || phase == '$digest') {\n                            if (fn && (typeof(fn) === 'function')) {\n                                fn();\n                            }\n                        } else {\n                            this.$apply(fn);\n                        }\n                    };\n\n                function goToPay() {\n                    $log.debug('goToPay');\n                    vm.guestDetailsExpanded = false;\n                    vm.attendeesExpanded = false;\n                    vm.addonsExpanded = false;\n                    vm.questionsExpanded = false;\n\n                    vm.showPaymentForm = true;\n                    vm.stripePaymentExpanded = true;\n\n                    vm.paymentWasSent = true;\n                    this.formWasBlocked = true;\n                    $scope.bookingSuccessResponse = 'processing';\n                    $scope.safeApply();\n                    $scope.makeBooking();\n                }\n\n                function submitNonCreditCardBooking() {\n                    var bookingData = vm.getBookingData();\n                    if (bookingData.stripeToken) delete bookingData.stripeToken;\n                    bookingData.location = {};\n                    bookingData.isMobile = false;\n                    vm.paymentWasSent = true;\n                    $scope.bookingSuccessResponse = 'processing';\n                    $http({\n                        method: 'POST',\n                        url: config.FEATHERS_URL + '/bookings',\n                        data: bookingData,\n                        headers: headers\n                    }).then(function successCallback(response) {\n                        $log.debug('submitNonCreditCardBooking success', response);\n                        $scope.bookingSuccessResponse = response;\n                        vm.waitingForResponse = false;\n                        $rootScope.$emit('paymentResponse');\n                        validatePayment(response);\n                    }, function errorCallback(response) {\n                        var errorElement = document.getElementById('card-errors');\n                        errorElement.textContent = response.data.errors[0];\n                        vm.paymentWasSent = false;\n                        $rootScope.$emit('paymentResponse');\n                        vm.waitingForResponse = false;\n                    });\n                }\n\n                function validatePayment(response) {\n                    if (response.status === 200) {\n                        $scope.paymentResponse = 'success'; //processing, failed\t\t\n                        $scope.paymentSuccessful = true;\n                        $scope.safeApply();\n                    }\n                    $scope.bookingSuccessResponse = response;\n\n                    $scope.$emit('paymentResponse', response);\n                    console.log('paymentResponse', response);\n                }\n\n                $scope.makeBooking = function(data) {\n                    vm.paymentExpanded = true;\n                    vm.loadingIframe = true;\n                    var bookingData = vm.getBookingData();\n                    $log.debug('$scope.makeBooking', data);\n                    $scope.bookingResponse = $http({\n                        method: 'POST',\n                        url: config.FEATHERS_URL + '/bookings',\n                        data: bookingData,\n                        headers: headers\n                        // headers: {\n                        //     \"Content-Type\": \"application/json;charset=utf-8\"\n                        // }\n                    }).then(function successCallback(response) {\n                        $log.debug('makeBooking success', response);\n                        vm.loadingIframe = false;\n                        $scope.paymentSuccessful = false;\n                        $scope.bookingSuccessResponse = response;\n                        var iframe = document.getElementById(\"paymentIframe\");\n                        iframe.style.display = 'block';\n                        var iframeDoc = iframe.contentWindow.document;\n                        iframeDoc.open();\n                        iframeDoc.write(response.data.iframeHtml);\n                        iframeDoc.close();\n                        $scope.bookingSucceeded = true;\n                    }, function errorCallback(response) {\n                        $mdDialog.hide();\n                        vm.loadingIframe = false;\n                        vm.paymentExpanded = false;\n                        $scope.bookingSucceeded = false;\n                        $mdToast.show(\n                            $mdToast.simple()\n                            .textContent(response.data.errors[0])\n                            .position('left bottom')\n                            .hideDelay(3000)\n                        );\n                        $log.debug('makeBooking error!', response);\n                    });\n                }\n\n                var lpad = function(numberStr, padString, length) {\n                    while (numberStr.length < length) {\n                        numberStr = padString + numberStr;\n                    }\n                    return numberStr;\n                };\n\n                    var paymentMessageHandler;\n                    paymentMessageHandler = function (event) {\n                        // if (event.origin == \"https://calendar.ablist.win\") { // TODO add to config\n                        // $log.debug(\"TRUSTED ORIGIN\", event.origin);\n                        $log.debug(\"DATA\", event.data);\n                        if (event.data == \"payment_complete\" || event.data.type == \"payment_success\") {\n                            $log.debug(\"PAYMENT COMPLETE\");\n                            $scope.paymentResponse = 'success'; //processing, failed\n                            //   $rootScope.showToast('Payment processed successfully.');\n                            $rootScope.$broadcast('paymentWithResponse', {response: event.data});\n\n                        window.removeEventListener(\"message\", paymentMessageHandler);\n                        $scope.paymentSuccessful = true;\n                        //   $scope.changeState('bookings'); //Go to bookings view if successful\n                        $scope.safeApply();\n                        //$mdDialog.hide();\n                    }\n                    else {\n                        $log.debug(\"DATA ERROR\", event);\n                        if (event.data.type === 'payment_error')\n                            //$rootScope.showToast(event.data.message, 'errorToast');\n                            //$rootScope.$broadcast('paymentWithResponse', { response: event.data });\n                            $scope.paymentSuccessful = false;\n                        $scope.paymentResponse = ''; //processing, failed\n                        vm.showPaymentForm = true;\n                        $scope.safeApply();\n                    }\n                };\n\n                    $log.debug(\"Adding Payment Message Event Listener\");\n                    window.addEventListener(\"message\", paymentMessageHandler);\n\n                    $scope.safeApply = function (fn) {\n                        var phase = this.$root.$$phase;\n                        if (phase == '$apply' || phase == '$digest') {\n                            if (fn && (typeof(fn) === 'function')) {\n                                fn();\n                            }\n                        } else {\n                            this.$apply(fn);\n                        }\n                    };\n\n                    var lpad = function (numberStr, padString, length) {\n                        while (numberStr.length < length) {\n                            numberStr = padString + numberStr;\n                        }\n                        return numberStr;\n                    };\n\n                //Merge identical items from an array into nested objects, \n                //summing their amount properties and keeping track of quantities\n                function mergeIdenticalArrayItemsIntoObject(data, oldObject) {\n                    var seen = oldObject;\n                    //$log.debug('mergeIdenticalArrayItemsIntoObject:data', data);\n                    angular.forEach(data, function(e, i) {\n                        // Have we seen this item before?\n                        //$log.debug('mergeIdenticalArrayItemsIntoObject', seen, e, seen.hasOwnProperty(e.name));\n                        if (seen.hasOwnProperty(e.name) && seen[e.name] === e.name) {\n                            seen[e['name']]['price'] = e['price']; //Sum their prices\n                            seen[e['name']]['quantity'] += 1; //Increment their quantity\n                            seen[e['name']]['amount'] = seen[e['name']]['amount'] * seen[e['name']]['quantity']; //Sum their prices\n                            //$log.debug('merged', seen[e['name']]);\n                        }\n                        else {\n                            seen[e['name']] = {};\n                            seen[e['name']]['name'] = e['name'];\n                            seen[e['name']]['price'] = e['price'];\n                            seen[e['name']]['quantity'] = 1;\n                            seen[e['name']]['amount'] = e['amount'];\n                        }\n                    });\n                    //$log.debug('mergeIdenticalArrayItems', seen);\n                    return seen;\n                }\n            }\n        };\n    }]);\n\n\n\n// WEBPACK FOOTER //\n// ./src/activity/activity-book.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./activity-book.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./activity-book.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./activity-book.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-book.css\n// module id = 109\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#paymentIframe {\\n    margin: 0;\\n    padding: 8px 8px;\\n    border: none;\\n    min-height: 330px;\\n    height: 100%;\\n    overflow-y: hidden;\\n    width: 100%;\\n    display: none;\\n}\\n\\nabl-activity-book md-card {\\n    box-shadow: none !important;\\n    border: none !important;\\n    background: transparent;\\n}\\n\\n.inputBottomMargin {\\n    margin-bottom: 42px !important;\\n}\\n\\n.transparent {\\n    background-color: transparent !important;\\n}\\n\\nlist-item {\\n    display: block !important;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/activity/activity-book.css\n// module id = 110\n// module chunks = 0","module.exports = \"<md-card class=\\\"paymentSummaryCard\\\" ng-show=\\\"paymentResponse != 'success'\\\">\\n  <md-list flex>\\n\\n    <md-list-item class=\\\"lineItemHeader \\\" ng-if=\\\"vm.base \\\" ng-click=\\\"null\\\">\\n      <div class=\\\"md-list-item-text  \\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row \\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <p class=\\\" \\\">Base Price </p>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <p class=\\\" \\\">{{vm.base() / 100}} CFP</p>\\n        </div>\\n      </div>\\n    </md-list-item>\\n\\n    <!--Coupons-->\\n\\n    <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" ng-disabled=\\\"detailsForm.$invalid\\\" ng-show=\\\"vm.couponStatus == 'valid'\\\">\\n      <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n          <!-- <ng-md-icon class=\\\"headerIcon\\\" icon=\\\"local_offer\\\" class=\\\"listIcon\\\" ng-if=\\\"vm.couponStatus !='valid'\\\"></ng-md-icon> -->\\n          <div layout=\\\"column\\\" layout-align=\\\"center start\\\">\\n            <ng-md-icon icon=\\\"clear\\\" class=\\\"listIcon remove-coupon\\\" ng-click=\\\"vm.removeCoupon();\\\" ng-if=\\\"vm.couponStatus =='valid'\\\"></ng-md-icon>\\n          </div>\\n          <span class=\\\"couponText total\\\" flex>{{vm.appliedCoupon.couponId}} - {{vm.appliedCoupon.percentage ? '' : '$'}}{{vm.appliedCoupon.percentage ? vm.appliedCoupon.amount : (vm.appliedCoupon.amount / 100)}}{{vm.appliedCoupon.percentage ? '%' : ''}} Off</span>\\n\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\">\\n          <span class=\\\"couponTextTotal\\\" ng-if=\\\"vm.pricing.couponDeduction[0]\\\">-${{(-1 * vm.pricing.couponDeduction[0].price / 100) | number : 2}}</span>\\n          <md-progress-circular md-mode=\\\"indeterminate\\\" ng-show=\\\"vm.checkingCoupon && vm.couponQuery.length > 0\\\" class=\\\"listItemCircularProgress easeIn\\\"\\n            md-diameter=\\\"24px\\\">\\n          </md-progress-circular>\\n        </div>\\n      </div>\\n    </md-list-item>\\n    <list-item size=\\\"lg\\\" class=\\\"listItemAutocomplete\\\" ng-show=\\\"vm.couponStatus == 'untouched' || vm.couponStatus =='invalid'\\\">\\n      <md-autocomplete md-selected-item=\\\"autocomplete.selectedItem\\\" md-search-text-change=\\\"autocomplete.searchTextChange(autocomplete.searchText)\\\"\\n        md-search-text=\\\"autocomplete.searchText\\\" md-no-cache=\\\"true\\\" md-selected-item-change=\\\"autocomplete.selectedItemChange(item)\\\"\\n        md-items=\\\"item in autocomplete.querySearch(autocomplete.searchText)\\\" md-item-text=\\\"item.couponId\\\" md-min-length=\\\"0\\\"\\n        placeholder=\\\"{{dashboard ? 'Search coupons..' : 'Enter a coupon..'}}\\\" class=\\\"listItem\\\" ng-if=\\\"dashboard\\\">\\n        <md-item-template>\\n          <span md-highlight-text=\\\"ctrl.searchText\\\" md-highlight-flags=\\\"^i\\\">{{item.couponId}}</span>\\n          <span>{{item.percentage ? \\\"\\\" : \\\"$\\\"}}{{item.percentage ? item.amount : (item.amount / 100)}}{{item.percentage ? \\\"%\\\" : \\\"\\\"}}</span>\\n        </md-item-template>\\n        <md-not-found>\\n          No coupons found{{autocomplete.searchText.length > 0 ? (' matching \\\"' + autocomplete.searchText + '\\\".') : '.'}}\\n        </md-not-found>\\n      </md-autocomplete>\\n      <span class=\\\"paymentSubTitle total\\\">\\n        <input id=\\\"#coupon\\\" ng-model=\\\"vm.couponQuery\\\" type=\\\"text\\\" class=\\\"couponInput\\\" ng-if=\\\"(vm.couponStatus =='untouched' || vm.couponStatus =='invalid') && !dashboard\\\" ng-change=\\\"vm.checkingCoupon = true\\\" placeholder=\\\"Enter coupon..\\\" to-uppercase/>\\n        </span>\\n    </list-item>\\n    <md-list-item ng-show=\\\"vm.couponStatus =='invalid' && vm.couponQuery.length > 0 && !vm.checkingCoupon\\\" class=\\\"paymentHeader md-2-line md-primary easeIn\\\"\\n      ng-if=\\\"!dashboard\\\">\\n      <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n          <ng-md-icon class=\\\"headerIcon\\\" icon=\\\"error_outline\\\" class=\\\"listIcon\\\" ng-if=\\\"vm.couponStatus !='valid'\\\" style=\\\"fill: rgba(255,87,87,0.8)\\\"></ng-md-icon>\\n          <span class=\\\"paymentSubTitle total\\\">\\n            Invalid Coupon\\n          </span>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n          <ng-md-icon icon=\\\"clear\\\" class=\\\"listIcon\\\" ng-click=\\\"vm.couponQuery = '';\\\"></ng-md-icon>\\n        </div>\\n      </div>\\n    </md-list-item>\\n\\n    <div ng-if=\\\"vm.attendeeTotal > 0\\\">\\n      <div class=\\\"md-list-item-text subtotalLineItem\\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"total\\\">Attendees </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"activityTotal\\\">${{vm.attendeeTotal / 100 | number:2}}</span>\\n        </div>\\n      </div>\\n\\n      <div ng-repeat=\\\"(key, value) in vm.attendeeSubtotals\\\" layout=\\\"row\\\" flex class=\\\"subtotalLineItem subtotalLineItemSmall\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\">\\n          {{value.quantity}} x {{value.name}} @ ${{value.price/100}} each\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"50\\\">\\n          ${{value.amount / 100 | number:2}}\\n        </div>\\n      </div>\\n    </div>\\n    <div ng-if=\\\"vm.addonTotal > 0\\\">\\n      <div class=\\\"md-list-item-text subtotalLineItem\\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"total\\\">Add-ons </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"activityTotal\\\">${{vm.addonTotal / 100 | number:2}}</span>\\n        </div>\\n      </div>\\n\\n      <div ng-repeat=\\\"addon in vm.addonSubtotals\\\" layout=\\\"row\\\" flex class=\\\"subtotalLineItem subtotalLineItemSmall\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\">\\n          {{addon.quantity}} x {{addon.name}} @ ${{addon.price/100}} each\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"50\\\">\\n          ${{addon.amount / 100 | number:2}}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div ng-if=\\\"vm.taxTotal > 0\\\">\\n      <div class=\\\"md-list-item-text subtotalLineItem\\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"total\\\">Taxes and Fees </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"activityTotal\\\">${{vm.taxTotal / 100 | number:2}}</span>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div>\\n      <div class=\\\"md-list-item-text subtotalLineItem bottomTotal\\\" layout=\\\"row \\\" layout-align=\\\"space-between center \\\" flex>\\n        <div layout=\\\"row \\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"\\\">Total </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"\\\">${{(vm.pricing.total || 0) / 100  | number:2}}</span>\\n        </div>\\n      </div>\\n    </div>\\n  </md-list>\\n</md-card>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-total.html\n// module id = 111\n// module chunks = 0","module.exports = \"<div ng-if=\\\"paymentResponse != 'success' || !vm.showPaymentForm\\\">\\n  <div class=\\\"activityPaymentSummaryCard\\\" layout=\\\"column\\\" after-render>\\n    <!-- Guest Details -->\\n    <list-item size=\\\"lg\\\" class=\\\"listItemHeader\\\" ng-click=\\\"vm.toggleGuestDetails()\\\" ng-disabled=\\\"!vm.guestDetailsAreValid\\\" layout=\\\"column\\\">\\n      <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <ng-md-icon icon=\\\"filter_1\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\"></ng-md-icon>\\n        <span class=\\\"paymentSubTitle\\\" flex>Guest Details</span>\\n      </div>\\n      <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center end\\\">\\n          <ng-md-icon icon=\\\"{{vm.guestDetailsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n        </div>\\n      </div>\\n    </list-item>\\n\\n    <div ng-show=\\\"vm.guestDetailsExpanded\\\" layout=\\\"column\\\">\\n      <list-item ng-if=\\\"dashboard\\\">\\n        <md-checkbox ng-model=\\\"sendConfirmationEmail\\\" class=\\\"listItemCheckbox\\\">Send confirmation e-mail to client</md-checkbox>\\n      </list-item>\\n      <form name=\\\"guestDetailsForm\\\" novalidate>\\n        <div>\\n          <md-input-container class=\\\"md-block listItemInputContainer inputBottomMargin\\\" ng-if=\\\"!dashboard\\\">\\n            <label>Full Name</label>\\n            <input name=\\\"fullName\\\" ng-model=\\\"vm.formData.fullName\\\" required type=\\\"text\\\" md-maxlength=\\\"100\\\" ng-minlength=\\\"3\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.fullName.$error\\\">\\n              <div ng-message=\\\"required\\\">This is required.</div>\\n              <div ng-message=\\\"minlength\\\">The name must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The name must be less than 100 characters long.</div>\\n            </div>\\n          </md-input-container>\\n\\n\\n          <md-autocomplete ng-if=\\\"dashboard\\\" required md-input-name=\\\"autocompleteField\\\" md-input-minlength=\\\"3\\\" md-input-maxlength=\\\"100\\\" md-no-cache=\\\"true\\\" md-delay=\\\"250\\\" md-selected-item=\\\"vm.clientSearchSelectedItem\\\" md-search-text=\\\"vm.formData.fullName\\\" md-items=\\\"item in vm.clients\\\"\\n            md-item-text=\\\"item.primaryContact.fullName\\\" md-floating-label=\\\"Full Name\\\" md-selected-item-change=\\\"vm.selectedClientChange(item)\\\" class=\\\"md-block listItemInputContainer\\\" md-menu-class=\\\"autocomplete-custom-template\\\" md-min-length=\\\"2\\\">\\n            <md-item-template>\\n              <span class=\\\"item-title\\\">\\n                  <ng-md-icon icon=\\\"person\\\" class=\\\"listItemHeaderIcon sm\\\"></ng-md-icon>\\n                  <span> {{item.primaryContact.fullName}} </span>\\n              </span>\\n              <span class=\\\"item-metadata\\\">\\n                  <span>\\n                      <ng-md-icon icon=\\\"email\\\" class=\\\"listItemHeaderIcon sm\\\" md-colors=\\\"{fill: 'blue-grey-A200'}\\\"></ng-md-icon>\\n                      \\n                    {{item.primaryContact.email}}\\n                  </span>\\n              <!-- <span>\\n                  <ng-md-icon icon=\\\"phone\\\" class=\\\"listItemHeaderIcon sm\\\" md-colors=\\\"{fill: 'blue-grey-A200'}\\\"></ng-md-icon>\\n                  \\n                    {{item.primaryContact.phoneNumber}}\\n                  </span> -->\\n              </span>\\n            </md-item-template>\\n            <div ng-messages=\\\"guestDetailsForm.autocompleteField.$error\\\" ng-if=\\\"guestDetailsForm.autocompleteField.$touched\\\">\\n              <div ng-message=\\\"required\\\">You <b>must</b> enter a client name.</div>\\n              <div ng-message=\\\"minlength\\\">The name must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The name must be less than 100 characters long.</div>\\n            </div>\\n          </md-autocomplete>\\n\\n\\n          <md-input-container class=\\\"md-block listItemInputContainer listItemAutoCompleteAfterContainer\\\" ng-if=\\\"!dashboard\\\">\\n            <label>E-mail</label>\\n            <input name=\\\"mail\\\" ng-model=\\\"vm.formData.mail\\\" required type=\\\"email\\\" md-maxlength=\\\"100\\\" ng-minlength=\\\"3\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.mail.$error\\\">\\n              <div ng-message=\\\"required\\\">This is required.</div>\\n              <div ng-message=\\\"email\\\">Please enter a valid e-mail address.</div>\\n              <div ng-message=\\\"minlength\\\">The e-mail must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The e-mail must be less than 100 characters long.</div>\\n            </div>\\n          </md-input-container>\\n          <md-input-container class=\\\"md-block listItemInputContainer\\\" ng-if=\\\"!dashboard\\\">\\n            <label>Phone</label>\\n            <input name=\\\"phone\\\" ng-model=\\\"vm.formData.phoneNumber\\\" required type=\\\"text\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.phone.$error\\\">\\n              <div ng-message=\\\"required\\\">This is required.</div>\\n            </div>\\n          </md-input-container>\\n\\n          <md-input-container class=\\\"md-block listItemInputContainer listItemAutoCompleteAfterContainer\\\" ng-if=\\\"dashboard\\\">\\n            <label>E-mail</label>\\n            <input name=\\\"mail\\\" ng-model=\\\"vm.formData.mail\\\" type=\\\"email\\\" md-maxlength=\\\"100\\\" ng-minlength=\\\"3\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.mail.$error\\\">\\n              <div ng-message=\\\"email\\\">Please enter a valid e-mail address.</div>\\n              <div ng-message=\\\"minlength\\\">The e-mail must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The e-mail must be less than 100 characters long.</div>\\n            </div>\\n          </md-input-container>\\n          <md-input-container class=\\\"md-block listItemInputContainer\\\" ng-if=\\\"dashboard\\\">\\n            <label>Phone</label>\\n            <input name=\\\"phone\\\" ng-model=\\\"vm.formData.phoneNumber\\\" type=\\\"text\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.phone.$error\\\">\\n            </div>\\n          </md-input-container>\\n\\n          <md-input-container class=\\\"md-block listItemInputContainer\\\">\\n            <label>Notes</label>\\n            <textarea ng-model=\\\"vm.formData.notes\\\" md-maxlength=\\\"300\\\" rows=\\\"1\\\"></textarea>\\n          </md-input-container>\\n\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n            <md-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!vm.areGuestDetailsValid(guestDetailsForm)\\\" ng-click=\\\"vm.goToNextStep('guestDetailsStep')\\\">Next</md-button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n    <md-divider class=\\\"no-margin\\\"></md-divider>\\n\\n    <!-- Attendees -->\\n    <list-item size=\\\"lg\\\" class=\\\"listItemHeader\\\" ng-click=\\\"vm.toggleAttendees()\\\" ng-disabled=\\\"!vm.guestDetailsAreValid\\\" layout=\\\"column\\\">\\n      <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <ng-md-icon icon=\\\"filter_2\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\"></ng-md-icon>\\n        <span class=\\\"paymentSubTitle\\\" ng-if=\\\"vm.countAttendees() >= 0\\\" flex>Attendees <span ng-show=\\\"vm.countAttendees() < 4\\\"> {{vm.countAttendees()}} spot{{vm.countAttendees() != 1 ? 's' : ''}} remaining</span></span>\\n        <span class=\\\"paymentSubTitle\\\" ng-if=\\\"vm.countAttendees() < 0 \\\" flex>Attendees <span class=\\\"red\\\"> <strong> {{vm.countAttendees() * -1}}</strong> spot{{((vm.countAttendees() * -1) > 1 || (vm.countAttendees() * -1) == 0) ? 's' : ''}} over maximum occupancy</span></span>\\n      </div>\\n      <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center end\\\">\\n          <ng-md-icon icon=\\\"{{vm.attendeesExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n        </div>\\n      </div>\\n    </list-item>\\n\\n    <div ng-show=\\\"vm.attendeesExpanded\\\" ng-class=\\\"vm.areAttendeesValid()\\\" layout=\\\"column\\\">\\n      <div ng-repeat=\\\"attendee in vm.attendees\\\">\\n        <list-item class=\\\"md-2-line addOnListItem\\\">\\n          <div layout=\\\"row\\\" class=\\\"list-item-text\\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n              <div layout=\\\"column\\\" class=\\\"\\\">\\n                <span class=\\\"lineItemSubHeader\\\">{{attendee.name}}</span>\\n\\n                <div layout=\\\"row\\\">\\n                  <span class=\\\"lineItemSubDetail\\\">${{attendee.amount/ 100  | number:2}}</span>\\n                </div>\\n\\n              </div>\\n            </div>\\n\\n            <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n              <div layout=\\\"column\\\" class=\\\"addOnAdjusters\\\" layout-align=\\\"center end\\\" flex layout-grow>\\n                <ng-md-icon icon=\\\"add_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAttendee($index,'up');\\\"> </ng-md-icon>\\n                <ng-md-icon icon=\\\" remove_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAttendee($index,'down');\\\"></ng-md-icon>\\n              </div>\\n\\n              <div layout=\\\"column\\\" layout-align=\\\"end end\\\">\\n                <input class='addOnQuantityText' ng-model=\\\"attendee.quantity\\\" ng-change=\\\"vm.checkAdjustAttendee($index);\\\" type=\\\"number\\\" min=\\\"0\\\"\\n                  md-select-on-focus></input>\\n              </div>\\n            </div>\\n          </div>\\n        </list-item>\\n      </div>\\n      <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n        <md-button ng-if=\\\"vm.isNextStepPayment('attendees')\\\" class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!vm.areAttendeesValid()\\\" ng-click=\\\"vm.goToNextStep('attendeesStep')\\\">Next</md-button>\\n      </div>\\n    </div>\\n\\n\\n    <md-divider class=\\\"no-margin\\\"></md-divider>\\n\\n    <!-- Add ons -->\\n    <div ng-if=\\\"vm.addons.length > 0\\\">\\n      <list-item class=\\\"paymentHeader md-2-line\\\" ng-disabled=\\\"vm.countAttendeesAdded() < 1 || guestDetailsForm.$invalid\\\" ng-click=\\\"vm.toggleAddons()\\\" layout=\\\"column\\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n          <ng-md-icon icon=\\\"filter_3\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\"></ng-md-icon>\\n          <span class=\\\"paymentSubTitle\\\">Add-ons</span>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n          <div layout=\\\"column\\\" layout-align=\\\"center end\\\">\\n            <ng-md-icon ng-show=\\\"vm.addOnsSelected == 1\\\" icon=\\\"check\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n            <ng-md-icon icon=\\\"{{vm.addonsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n          </div>\\n        </div>\\n      </list-item>\\n      <md-divider class=\\\"no-margin\\\"></md-divider>\\n      <div ng-show=\\\"vm.addonsExpanded\\\" ng-class=\\\"vm.areAddonsValid()\\\">\\n        <div ng-repeat=\\\"addon in vm.addons\\\">\\n          <list-item class=\\\"md-2-line addOnListItem\\\">\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n              <div layout=\\\"column\\\" class=\\\"\\\">\\n                <span class=\\\"lineItemSubHeader\\\">{{addon.name}}</span>\\n                <div layout=\\\"row\\\" class=\\\"\\\">\\n                  <span class=\\\"lineItemSubDetail\\\">${{addon.amount/ 100  | number:2}}</span>\\n                </div>\\n              </div>\\n            </div>\\n            <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n              <div layout=\\\"column\\\" class=\\\"addOnAdjusters\\\" layout-align=\\\"center end\\\">\\n                <ng-md-icon icon=\\\"add_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAddon($index,'up');\\\"> </ng-md-icon>\\n                <ng-md-icon icon=\\\" remove_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAddon($index,'down');\\\"></ng-md-icon>\\n              </div>\\n              <div layout=\\\"column\\\" layout-align=\\\"end end\\\">\\n                <input class='addOnQuantityText' ng-model=\\\"addon.quantity\\\" ng-change=\\\"vm.addonsChanged();\\\" md-select-on-focus type=\\\"number\\\"></input>\\n              </div>\\n            </div>\\n          </list-item>\\n        </div>\\n\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n          <md-button ng-if=\\\"vm.isNextStepPayment('addons')\\\" class=\\\"md-raised md-primary md-hue-2\\\" ng-click=\\\"vm.goToNextStep('addonsStep')\\\">Next</md-button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <!--Questions-->\\n    <div ng-if=\\\"vm.questions.length > 0\\\">\\n      <list-item class=\\\"paymentHeader md-2-line\\\" ng-disabled=\\\"guestDetailsForm.$invalid || vm.countAttendeesAdded() < 1\\\" ng-click=\\\"vm.toggleQuestions()\\\">\\n        <div layout=\\\"row\\\" class=\\\"list-item-text\\\" flex>\\n          <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n            <div layout=\\\"column\\\" class=\\\"\\\">\\n              <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n                <ng-md-icon icon=\\\"filter_4\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\" ng-if=\\\"vm.addons.length > 0\\\"></ng-md-icon>\\n                <ng-md-icon icon=\\\"filter_3\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\" ng-if=\\\"vm.addons.length == 0\\\"></ng-md-icon>\\n                <span class=\\\"paymentSubTitle\\\">Booking Questions <i class=\\\"fa fa-angle-right\\\" aria-hidden=\\\"true\\\"></i> {{vm.bookingQuestionsCompleted()}}/{{vm.questions.length}}</span>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n            <div layout=\\\"column\\\" layout-align=\\\"center end\\\" flex>\\n              <ng-md-icon icon=\\\"{{vm.questionsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n            </div>\\n          </div>\\n        </div>\\n      </list-item>\\n      <div ng-show=\\\"vm.questionsExpanded\\\" ng-class=\\\"!vm.areBookingQuestionsValid()\\\">\\n        <div class=\\\"questionForm slideDown\\\">\\n          <div ng-repeat=\\\"question in vm.questions\\\" class=\\\"listItemInputContainer\\\">\\n            <div layout=\\\"column\\\" layout-align=\\\"center stretch\\\" flex>\\n              <label class=\\\"small-label\\\">{{question.questionText}}</label>\\n              <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n                <ng-md-icon icon=\\\"{{vm.bookingQuestions[$index].length > 0 ? 'done' : 'priority_high'}}\\\" class=\\\"inputStatusIcon\\\"></ng-md-icon>\\n                <md-input-container class=\\\"md-block\\\" flex>\\n                  <textarea name=\\\"question\\\" ng-model=\\\"vm.bookingQuestions[$index]\\\" md-maxlength=\\\"300\\\" rows=\\\"1\\\"></textarea>\\n                </md-input-container>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n          <md-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!dashboard && !vm.areBookingQuestionsValid()\\\" ng-click=\\\"vm.goToNextStep('paymentStep')\\\">Next</md-button>\\n        </div>\\n      </div>\\n      <md-divider class=\\\"no-margin\\\"></md-divider>\\n    </div>\\n\\n    <!-- Payment Stripe -->\\n    <div>\\n      <list-item class=\\\"paymentHeader md-2-line\\\" ng-disabled=\\\"!vm.isPaymentValid()\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"80\\\">\\n          <ng-md-icon icon=\\\"filter_5\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\" ng-if=\\\"vm.addons.length > 0 && vm.questions.length > 0\\\"></ng-md-icon>\\n          <ng-md-icon icon=\\\"filter_4\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\" ng-if=\\\"vm.addons.length > 0 && vm.questions.length == 0 || vm.addons.length == 0 && vm.questions.length > 0\\\"></ng-md-icon>\\n          <ng-md-icon icon=\\\"filter_3\\\" class=\\\"listIcon listItemHeaderIcon leftIcon\\\" ng-if=\\\"vm.addons.length == 0 && vm.questions.length == 0\\\"></ng-md-icon>\\n          <span class=\\\"paymentSubTitle\\\">Payment Details</span>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"20\\\">\\n          <div layout=\\\"column\\\" layout-align=\\\"center end\\\" flex>\\n            <!--<ng-md-icon icon=\\\"{{vm.guestDetailsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n                <ng-md-icon ng-show=\\\"!guestDetailsHover && detailsForm.$valid\\\" icon=\\\"check\\\" class=\\\"listIcon\\\"></ng-md-icon>-->\\n          </div>\\n        </div>\\n      </list-item>\\n      <md-divider class=\\\"no-margin\\\"></md-divider>\\n      <!--<list-item class=\\\"activityCardForm\\\" ng-if=\\\"app == 'dashboard'\\\">\\n          Dashboard\\n        </list-item>-->\\n      <!-- <div ng-show=\\\"vm.stripePaymentExpanded\\\"> -->\\n      <div ng-show=\\\"vm.stripePaymentExpanded\\\">\\n        <div class=\\\"radioGroup listItemInputContainer\\\" ng-if=\\\"dashboard\\\">\\n          <md-radio-group ng-model=\\\"vm.paymentMethod\\\">\\n            <md-radio-button value=\\\"credit\\\"> Credit Card (Online)</md-radio-button>\\n            <md-radio-button value=\\\"cash\\\">Cash</md-radio-button>\\n            <md-radio-button value=\\\"debit\\\"> Office Point of Sale (POS) </md-radio-button>\\n            <md-radio-button value=\\\"gift\\\"> Gift Card </md-radio-button>\\n            <md-radio-button value=\\\"transfer\\\"> Bank Transfer </md-radio-button>\\n            <md-radio-button value=\\\"reserved\\\"> Reservation - Pay Later </md-radio-button>\\n          </md-radio-group>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin ng-if=\\\"vm.paymentMethod != 'credit'\\\">\\n          <progress-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"vm.countAttendeesAdded() < 1\\\" loading=\\\"bookingSuccessResponse == 'processing'\\\" ng-click=\\\"vm.submitNonCreditCardBooking()\\\" spinner=\\\"3\\\" label=\\\"{{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}\\\"></progress-button>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin ng-if=\\\"vm.paymentMethod == 'credit' && dashboard\\\">\\n          <progress-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"vm.countAttendeesAdded() < 1\\\" loading=\\\"bookingSuccessResponse == 'processing'\\\" ng-click=\\\"vm.goToPay()\\\" spinner=\\\"3\\\" label=\\\"{{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}\\\"></progress-button>\\n        </div>\\n      </div>\\n      <form method=\\\"post\\\" id=\\\"payment-form\\\" name=\\\"creditCardDetailsForm\\\" ng-show=\\\"false\\\">\\n        <div class=\\\"form-row\\\" style=\\\"padding:0 30px 20px 20px\\\">\\n          <div id=\\\"card-errors\\\"></div>\\n          <div id=\\\"card-element\\\">\\n          </div>\\n        </div>\\n        <div ng-if=\\\"vm.waitingForResponse\\\" layout=\\\"row\\\" layout-align=\\\"space-around center\\\" style=\\\"padding:20px\\\">\\n          <md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular>\\n        </div>\\n\\n\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n          <md-button type=\\\"submit\\\" class=\\\"md-raised md-primary md-hue-2\\\" ng-class=\\\"{'valid': vm.isPaymentValid() && vm.stripeCardIsValid && !vm.waitingForResponse}\\\" ng-disabled=\\\"!vm.isPaymentValid() || vm.paymentWasSent\\\" class=\\\"submitButton\\\"><i class=\\\"fa fa-credit-card\\\" aria-hidden=\\\"true\\\"></i> {{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}</md-button>\\n        </div>\\n      </form>\\n\\n      <div layout=\\\"row\\\" ng-if=\\\"false\\\">\\n        <md-button flex class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!vm.isPaymentValid() || vm.paymentWasSent\\\" ng-click=\\\"vm.goToPay()\\\"><i class=\\\"fa fa-credit-card\\\" aria-hidden=\\\"true\\\"></i> {{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}</md-button>\\n      </div>\\n\\n      <div ng-if=\\\"!dashboard\\\">\\n        <md-card class=\\\"transparent no-margin\\\" ng-show=\\\"vm.showPaymentForm && paymentResponse.length < 1\\\">\\n          <div ng-if=\\\"vm.loadingIframe\\\" layout=\\\"row\\\" layout-align=\\\"space-around center\\\" style=\\\"padding:20px\\\">\\n            <md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular>\\n          </div>\\n          <iframe id=\\\"paymentIframe\\\"></iframe>\\n        </md-card>\\n      </div>\\n\\n    </div>\\n  </div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-forms.html\n// module id = 112\n// module chunks = 0","module.exports = \"<!--<div layout=\\\"row\\\" class=\\\"activityPaymentSummaryCard\\\" ng-class=\\\"{'activityPaymentSummaryCardMobile' : !screenIsBig()}\\\" layout-align=\\\"center start\\\" flex=\\\"100\\\">-->\\n<div layout=\\\"{{screenIsBig() ? 'row' : 'column'}}\\\" layout-align=\\\"{{screenIsBig() ? 'start stretch' : 'center center'}}\\\" layout-fill\\n  class=\\\"columnFix\\\" ng-class=\\\"screenIsBig() ? 'activityBookDialogLarge' : 'activityBookDialogSmall'\\\" ng-show=\\\"(paymentResponse.length <= 0 && !vm.showPaymentForm) || (!dashboard && paymentResponse.length <= 0)\\\">\\n  <div class=\\\"paymentSummaryCardLarge leftCard \\\" ng-class=\\\"screenIsBig() ? 'leftCardLarge' : 'leftCardSmall'\\\" layout-align=\\\"start stretch\\\">\\n    <div ng-include=\\\"'activity-forms.html'\\\"></div>\\n  </div>\\n  <div class=\\\"paymentSummaryCardLarge rightCard\\\" ng-class=\\\"screenIsBig() ? 'rightCardLarge' : 'rightCardSmall'\\\" layout=\\\"column\\\"\\n    layout-align=\\\"center stretch\\\">\\n    <div class=\\\"activity-total-include\\\" ng-include=\\\"'activity-total.html'\\\"></div>\\n  </div>\\n</div>\\n\\n<div ng-if=\\\"dashboard\\\">\\n  <md-card class=\\\"paymentSummaryCard no-margin\\\" ng-show=\\\"vm.showPaymentForm && paymentResponse.length < 1\\\">\\n    <iframe id=\\\"paymentIframe\\\"></iframe>\\n  </md-card>\\n</div>\\n\\n<div class=\\\"paymentResponseContainer\\\">\\n  <md-card class=\\\"paymentSummaryCard no-margin\\\" ng-show=\\\"paymentResponse.length > 0\\\">\\n    <md-list>\\n      <div ng-show=\\\"paymentResponse == 'success'\\\" class=\\\"easeIn\\\">\\n        <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" ng-mouseleave=\\\"addOnsHover = 0\\\" ng-mouseenter=\\\"addOnsHover = 1\\\"\\n          ng-init=\\\"addOnsHover=0\\\">\\n          <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\" md-colors=\\\"{color: 'default-primary'}\\\">\\n              <ng-md-icon class=\\\"listItemHeaderIcon\\\" icon=\\\"payment\\\" class=\\\"listIcon \\\"></ng-md-icon>\\n              <span class=\\\"paymentSubTitle total\\\">{{bookingSuccessResponse.data.booking.status == 'unpaid' ? 'Booking' : 'Payment'}} Complete</span>\\n            </div>\\n            <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n              <span class=\\\"paymentSubTitle total\\\" ng-style=\\\"{color: 'green'}\\\"></span>\\n              <ng-md-icon icon=\\\"check\\\" class=\\\"listIcon \\\" ng-style=\\\"{fill: 'green'}\\\"></ng-md-icon>\\n            </div>\\n          </div>\\n        </md-list-item>\\n        <div layout=\\\"column\\\" layout-xs=\\\"column\\\" layout-padding layout-margin>\\n          <div flex=\\\"100\\\" flex-gt-sm=\\\"60\\\" class=\\\"confirmation\\\" layout=\\\"column\\\" layout-align=\\\"space-around center\\\" ng-if=\\\"dashboard\\\"\\n            layout-align=\\\"center center\\\">\\n            <h3>Congratulations!</h3>\\n            <div layout=\\\"row\\\">Your {{bookingSuccessResponse.data.booking.status == 'unpaid' ? 'reservation' : 'booking'}} is confirmed.</div>\\n            <div layout=\\\"row\\\" flex layout-wrap>\\n              {{vm.formData.fullName}} is attending {{bookingSuccessResponse.data.booking.title}}\\n              on {{formatDate(bookingSuccessResponse.data.booking.startTime, 'LL')}}\\n            </div>\\n            <div layout=\\\"row\\\" flex layout-wrap>\\n              A confirmation email will be sent to {{bookingSuccessResponse.data.booking.organizations[0].primaryContact.email}}\\n            </div>\\n            <div class=\\\"booking-id\\\">The reference ID is: {{bookingSuccessResponse.data.booking.bookingId}}</div>\\n            <div layout=\\\"row\\\" layout-align=\\\"center center\\\" flex>\\n              <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.returnToMainPage()\\\">Return</md-button>\\n            </div>\\n          </div>\\n          <div flex=\\\"100\\\" class=\\\"confirmation\\\" layout=\\\"column\\\" ng-if=\\\"!dashboard\\\">\\n            <h3>Congratulations!</h3>\\n            <p>Your booking is confirmed.</p>\\n            <p>You will receive a confirmation email at: <strong>{{vm.formData['mail']}}</strong></p>\\n            <p class=\\\"margin-top\\\">For questions about your booking, please contact:</p>\\n            <p><strong>{{bookingSuccessResponse.data.booking.organizations[0].companyName}} ({{bookingSuccessResponse.data.booking.organizations[0].primaryContact.phoneNumber}})</strong></p>\\n            <p><strong>{{bookingSuccessResponse.data.booking.organizations[0].primaryContact.email}}</strong></p>\\n            <div class=\\\"booking-id\\\">Booking ID: {{bookingSuccessResponse.data.booking.bookingId}}</div>\\n            <div style=\\\"margin-top:25px\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" flex>\\n              <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.returnToMainPage()\\\">Return</md-button>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div ng-show=\\\"paymentResponse == 'failed'\\\">\\n\\n        <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" md-colors=\\\"{color: 'default-primary'}\\\" ng-mouseleave=\\\"addOnsHover = 0\\\"\\n          ng-mouseenter=\\\"addOnsHover = 1\\\" ng-init=\\\"addOnsHover=0\\\">\\n          <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\" md-colors=\\\"{color: 'default-warn'}\\\">\\n              <ng-md-icon class=\\\"listItemHeaderIcon\\\" icon=\\\"payment\\\" class=\\\"listIcon \\\"></ng-md-icon>\\n\\n              <span class=\\\"paymentSubTitle total\\\">Payment Failed</span>\\n            </div>\\n            <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n              <span class=\\\"paymentSubTitle total\\\" md-colors=\\\"{color: 'default-warn'}\\\"></span>\\n\\n              <ng-md-icon icon=\\\"error\\\" class=\\\"listIcon \\\" md-colors=\\\"{fill: 'default-warn'}\\\"></ng-md-icon>\\n\\n            </div>\\n          </div>\\n        </md-list-item>\\n\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-wrap>\\n\\n            <p class=\\\"listMessage\\\">Your credit card has been declined. Please confirm the information you provided is correct and try again.</p>\\n          </div>\\n        </md-list-item>\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n            <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.payNow();\\\">Try Again</md-button>\\n\\n          </div>\\n        </md-list-item>\\n      </div>\\n\\n\\n      <div ng-show=\\\"paymentResponse == 'processing'\\\">\\n\\n        <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" md-colors=\\\"{color: 'default-primary'}\\\" ng-mouseleave=\\\"addOnsHover = 0\\\"\\n          ng-mouseenter=\\\"addOnsHover = 1\\\" ng-init=\\\"addOnsHover=0\\\">\\n\\n          <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex layout-grow md-colors=\\\"{color: 'default-primary'}\\\">\\n              <ng-md-icon class=\\\"listItemHeaderIcon\\\" icon=\\\"payment\\\" class=\\\"listIcon \\\"></ng-md-icon>\\n\\n              <span class=\\\"paymentSubTitle total\\\">Payment Processing</span>\\n            </div>\\n            <div layout=\\\"row \\\" layout-align=\\\"end center \\\">\\n              <span class=\\\"paymentSubTitle total\\\" ng-style=\\\"{color: 'green'}\\\"></span>\\n\\n              <ng-md-icon icon=\\\"watch_later\\\" class=\\\"listIcon \\\" ng-style=\\\"{fill: 'amber'}\\\"></ng-md-icon>\\n\\n            </div>\\n          </div>\\n        </md-list-item>\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-wrap>\\n\\n            <p class=\\\"listMessage\\\">Your booking payment is still processing. An e-mail will be sent to {{vm.formData.mail }} with details about\\n              your reservation.</p>\\n          </div>\\n\\n        </md-list-item>\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n            <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"goToState('home');\\\">Return</md-button>\\n          </div>\\n        </md-list-item>\\n      </div>\\n    </md-list>\\n  </md-card>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-book.html\n// module id = 113\n// module chunks = 0","export default function activityBookValidator(vm, $http, $stateParams) {\n\n\n    vm.searchClients = function (query) {\n        return Rx.Observable\n            .fromPromise($http({\n                method: 'GET',\n                url: vm.config.apiVersion + \"/clients?fullName=\" + text,\n                headers: {\n                    'x-abl-access-key': $stateParams.merchant,\n                    'x-abl-date': Date.parse(new Date().toISOString())\n                }\n            }))\n            .select(function (response) {\n                console.log(response);\n                return response;\n            });\n\n    }\n\n    return vm;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/activity/activity-book-validators.js","   /**\n    * @class abl-sdk-feathers.components\n    * @hidden\n    */\n\n   /**\n    * @function activity-AdjustmentControls\n    * @memberOf abl-sdk-feathers.components\n    * @description Parent component controller for shared activity adjustment functions.\n    * @example  <activity-adjustment-controls></activity-adjustment-controls>\n    */\n\n   function activityAdjustmentControls() {\n       var vm = this;\n\n       this.$onInit = function () {\n           console.log('activityAdjustmentControls', this);\n       };\n\n       this.$onChanges = (changesObj) => {};\n\n       this.$postLink = function () {};\n\n       vm.addCharge = function (label, price) {\n           console.log(label, price);\n       };\n   };\n\n\n   export default activityAdjustmentControls;\n\n\n// WEBPACK FOOTER //\n// ./src/activity/activity.adjustment.controls.component.js"],"sourceRoot":""}