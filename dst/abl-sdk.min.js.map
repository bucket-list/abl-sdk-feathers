{"version":3,"sources":["webpack:///./src/abl-sdk.js","webpack:///./src/utils.js","webpack:///./src/styles.css?f492","webpack:///./src/styles.css","webpack:///./src/lib/helper-styles.css?200c","webpack:///./src/lib/helper-styles.css","webpack:///./src/datePicker/picker.css?d59c","webpack:///./src/datePicker/picker.css","webpack:///./src/rest.js","webpack:///./src/lib/directives/toUppercase.directive.js","webpack:///./src/lib/directives/formatPhone.directive.js","webpack:///./src/lib/directives/focusParent.directive.js","webpack:///./src/lib/directives/size.directive.js","webpack:///./src/lib/services/navigator.service.js","webpack:///./src/lib/components/col.component.js","webpack:///./src/lib/components/column.html","webpack:///./src/lib/components/progressButton.component.js","webpack:///./src/lib/components/progressButton.html","webpack:///./src/lib/components/progressButton.css?4c0b","webpack:///./src/lib/components/progressButton.css","webpack:///./src/lib/components/listItem.component.js","webpack:///./src/lib/components/listItem.html","webpack:///./src/lib/components/listItemNumericControl.component.js","webpack:///./src/lib/components/listItemNumericControl.html","webpack:///./src/lib/components/listItemAddCharge.component.js","webpack:///./src/lib/components/listItemAddCharge.html","webpack:///./src/lib/components/listItem.css?7895","webpack:///./src/lib/components/listItem.css","webpack:///./src/lib/components/listItemHeader.component.js","webpack:///./src/lib/components/listItemHeader.html","webpack:///./src/activity/activity-book.js","webpack:///./src/activity/activity-book.css?9fca","webpack:///./src/activity/activity-book.css","webpack:///./src/activity/activity-total.html","webpack:///./src/activity/activity-forms.html","webpack:///./src/activity/activity-book.html","webpack:///./src/activity/activity-book-validators.js","webpack:///./src/activity/activity.adjustment.controls.component.js"],"names":["ablBook","require","jQuery","window","sdkProvider","settings","endpoint","apiKey","socketOpts","feathersAuth","useSocket","authStorage","localStorage","services","setAuthStorage","newAuthStorage","setSocketOpts","opts","socketEnabled","setEndpoint","newEndpoint","setApiKey","key","setFeathersAuth","isFeathersAuth","setServices","newServices","getSettings","$get","$injector","$timeout","$log","$mdToast","$http","$rootScope","get","that","app","configure","hooks","use","name","config","DASHBOARD","storage","headers","Date","parse","toISOString","console","log","socket","io","socketio","rest","jquery","ajaxSetup","url","loading","loadingTimeout","afterRender","current","total","cancel","$abl","feathersSdk","$feathersProvider","ablSdk","$ablProvider","angular","module","provider","filter","input","start","slice","service","directive","component","setupUtilityFunctions","showToast","msg","toastClass","delay","toast","simple","textContent","action","hideDelay","position","highlightAction","show","debug","randomInt","min","max","Math","floor","random","a","b","c","safeApply","fn","$root","phase","$$phase","$apply","Rx","moment","api","activity","query","Observable","fromPromise","activityService","find","catch","response","empty","select","list","activitySearchService","timeslots","getRange","d","method","data","id","eventService","timeslotService","activitySearchInterval","t","setInterval","cache","cacheQuery","page","pageSize","then","res","create","map","updateCache","modified","activities","updated","acs","fromArray","hook","result","_id","undefined","subscribe","x","push","err","Promise","resolve","store","length","i","update","getObjectIndex","arr","after","all","toUppercase","link","scope","element","attrs","modelCtrl","capitalize","inputValue","capitalized","toUpperCase","$setViewValue","$render","$parsers","ngModel","formatPhone","restrict","elem","ctrl","add","phonenumber","on","origVal","val","replace","str","phone","focusParent","$","parentElement","addClass","onFocus","removeClass","size","children","navigatorService","$inject","$window","$q","getCurrentPosition","deferred","defer","navigator","geolocation","reject","promise","col","bindings","pos","controller","$element","$scope","$onInit","$onChanges","changesObj","$postLink","template","transclude","controllerAs","progressButton","class","ngDisabled","spinner","stroke","fill","label","disabled","listItem","listItemNumericControl","value","price","increment","decrement","checkAdjustValue","listItemAddCharge","group","buttonClass","listItemHeader","collapsed","title","icon","run","$templateCache","put","$sce","$compile","$mdMedia","$mdDialog","rx","observeOnScope","$stateParams","$state","book","onResize","$digest","$attrs","vm","formWasBlocked","guestDetailsExpanded","attendeesExpanded","addonsExpanded","questionsExpanded","stripePaymentExpanded","stripeCardIsValid","paymentExpanded","showPaymentForm","paymentWasSent","waitingForResponse","validStepsForPayment","couponStatus","appliedCoupon","couponQuery","occupancyRemaining","attendeeSubtotals","addonSubtotals","taxes","taxTotal","addons","questions","sendConfirmationEmail","merchant","dashboard","formatDate","date","format","paymentResponse","paymentSuccessful","goToNextStep","currentStepName","form","toggleGuestDetails","toggleAttendees","countAttendeesAdded","goToPay","isPaymentValid","guestDetailsFormValid","togglePayment","returnToMainPage","hide","reload","go","pricing","addonTotal","attendeeTotal","bookingSucceeded","screenIsBig","w","innerWidth","addBookingController","$parent","toggleQuestions","adjustAddon","mode","quantity","getPricingQuote","toggleAddons","toggleStripePay","togglePay","payButtonEnabled","adjustAttendee","countAttendees","attendees","checkAdjustAttendee","$index","buildQuery","forEach","e","FEATHERS_URL","successCallback","couponDeduction","items","item","type","addonsFilter","addonsArray","addon","object","obj","amount","reduce","att","aapFilter","attendeesArray","aap","aaps","tax","errorCallback","errors","getPossibleCoupons","possibleCoupons","clients","change","newValue","selectedClientChange","client","formData","fullName","primaryContact","mail","email","phoneNumber","autocomplete","searchTextChange","text","selectedItemChange","validateCoupon","checkingCoupon","querySearch","checkCoupon","removeCoupon","selectedItem","coupon","today","endTime","isAfter","maxRedemptions","redemptions","bookingQuestionsCompleted","completed","bookingQuestions","debounce","$watch","changes","isDefined","charges","charge","status","timeslot","startTime","event","maxOcc","attendeesAdded","countAddonsAdded","addonsChanged","areGuestDetailsValid","guestDetailsAreValid","$valid","guest","areAttendeesValid","areAddonsValid","areBookingQuestionsValid","isValid","step","isNextStepPayment","paymentMethod","getBookingData","bookingData","copy","operator","organizations","outputBookingData","initStripe","publicKey","Stripe","stripe","elements","style","base","color","lineHeight","fontFamily","fontSmoothing","fontSize","invalid","iconColor","card","mount","stripeTokenHandler","token","errorElement","document","getElementById","idempotencyKey","toString","substring","stripeToken","location","isMobile","bookingSuccessResponse","$emit","validatePayment","submitNonCreditCardBooking","makeBooking","loadingIframe","bookingResponse","iframeDoc","contentWindow","open","write","iframeHtml","close","addEventListener","error","brand","preventDefault","createToken","message","makeStripeBooking","ABL_ACCESS_KEY","lpad","numberStr","padString","paymentMessageHandler","$broadcast","removeEventListener","showPayzenDialog","ev","mergeIdenticalArrayItemsIntoObject","oldObject","seen","hasOwnProperty","activityBookValidator","searchClients","apiVersion","activityAdjustmentControls","addCharge"],"mappings":"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","file":"abl-sdk.min.js","sourcesContent":["//Including independent module source code for packaging\nconst ablBook = require('./activity/activity-book.js');\nimport RxJS from 'rx';\n\nconst jQuery = window.jQuery;\n\nimport feathers from 'feathers-client';\nimport localstorage from 'feathers-localstorage';\nimport feathersRx from 'feathers-reactive';\n\nimport rxa from 'rx-angular/dist/rx.angular';\n\n// import feathersAuthentication from './auth';\nimport setupUtilFunctions from './utils';\n\nimport styles from './styles.css';\nimport helperStyles from './lib/helper-styles.css';\n\nimport pStyles from './datePicker/picker.css';\n\nimport rest from './rest';\n\nvar sdkProvider = function (settings) {\n\n\n  var endpoint = null\n  var apiKey = null\n  var socketOpts = null\n\n  var feathersAuth = false\n  var useSocket = true\n  var authStorage = window.localStorage\n  var services = [];\n  //Configuration\n  return {\n    setAuthStorage: function (newAuthStorage) {\n      authStorage = newAuthStorage\n    },\n    setSocketOpts: function (opts) {\n      socketOpts = opts\n    },\n    useSocket: function (socketEnabled) {\n      useSocket = !!socketEnabled\n    },\n    setEndpoint: function (newEndpoint) {\n      endpoint = newEndpoint\n    },\n    setApiKey: function (key) {\n      apiKey = key\n    },\n\n    setFeathersAuth: function (isFeathersAuth) {\n      feathersAuth = isFeathersAuth\n    },\n    setServices: function (newServices) {\n      services = newServices\n    },\n    getSettings: function () {\n      return endpoint;\n    },\n    $get: ['$injector', '$timeout', '$log', '$mdToast', '$http',\n      function ($injector, $timeout, $log, $mdToast, $http) {\n        var $rootScope = $injector.get('$rootScope');\n        var that = this;\n\n        if (!endpoint) {\n          this.app = {};\n          return this.app;\n        }\n\n        this.app = feathers()\n          .configure(feathersRx(RxJS)) //feathers-reactive\n          .configure(feathers.hooks())\n          .use('cache', localstorage({\n            name: 'abl' + ($rootScope.config.DASHBOARD ? '-dash' : ''),\n            storage: window.localStorage\n          }));\n\n        this.app.endpoint = endpoint;\n        this.app.apiKey = apiKey;\n\n        this.app.headers = {};\n        if (apiKey) {\n          this.app.headers = {\n            'X-ABL-Access-Key': apiKey,\n            'X-ABL-Date': Date.parse(new Date().toISOString())\n          }\n        }\n\n        if (useSocket) {\n          console.log('endpoint', endpoint)\n          this.socket = io(endpoint, socketOpts)\n          this.app.configure(feathers.socketio(this.socket))\n        } else {\n          this.app.configure(feathers.rest(endpoint).jquery(jQuery))\n          this.app.rest.ajaxSetup({\n            url: endpoint,\n            headers: {}\n          });\n        }\n\n        setupUtilFunctions(this.app, $mdToast, $rootScope);\n\n        rest(this.app, $http);\n\n        // if (feathersAuth) {\n        //   this.app = feathersAuthentication(this.app, that, authStorage, $rootScope);\n        // }\n\n        $rootScope.loading = true;\n        this.app.loadingTimeout = null;\n\n        this.app.loadingTimeout = $timeout(function () {\n          $rootScope.loading = false;\n        }, 1500);\n\n        //Add timeout\n        $rootScope.afterRender = function (current, total) {\n          $timeout.cancel(this.loadingTimeout);\n          this.loadingTimeout = $timeout(function () {\n            $rootScope.loading = false;\n          }, 1500);\n        };\n\n        console.log('$abl', this.app)\n        window.$abl = this.app;\n        return this.app\n      }\n    ]\n  }\n};\n\n\n//Old naming convention, left for backwards compatibility\nvar feathersSdk = [\n  function $feathersProvider() {\n    return sdkProvider('feathers');\n  }\n];\n\nvar ablSdk = [\n  function $ablProvider() {\n    return sdkProvider('abl');\n  }\n];\n\nimport toUppercase from './lib/directives/toUppercase.directive';\nimport formatPhone from './lib/directives/formatPhone.directive';\nimport onFocus from './lib/directives/focusParent.directive';\nimport size from './lib/directives/size.directive';\n\n\nimport navigatorService from './lib/services/navigator.service';\n\nimport col from './lib/components/col.component';\n\nimport progressButton from './lib/components/progressButton.component';\nimport progressButtonStyles from './lib/components/progressButton.css';\n\nimport listItem from './lib/components/listItem.component';\nimport listItemNumericControl from './lib/components/listItemNumericControl.component';\nimport listItemAddCharge from './lib/components/listItemAddCharge.component';\nimport listItemHeader from './lib/components/listItemHeader.component';\n\n/**\n * @namespace abl-sdk-feathers\n * @requires feathers\n * @requires RxJS\n * @requires rx-angular\n * @requires socket.io-client\n\n */\nexport default angular.module('abl-sdk-feathers', [\n    'ngMaterial',\n    'rx'\n  ])\n  /**\n   * @class abl-sdk-feathers.$abl\n   */\n  .provider('$abl', ablSdk)\n  .provider('$feathers', feathersSdk)\n  .filter('startFrom', function () {\n    return function (input, start) {\n      start = +start; //parse to int\n      return input.slice(start);\n    }\n  })\n  .service('navigatorService', navigatorService)\n  .directive('toUppercase', toUppercase)\n  .directive('formatPhone', formatPhone)\n  .directive('onFocus', onFocus)\n  // .directive('size', size)\n\n  .directive('formatPhone', formatPhone)\n  .component('colSection', col)\n  .component('progressButton', progressButton)\n\n  .component('listItem', listItem)\n  .component('listItemNumericControl', listItemNumericControl)\n  .component('listItemAddCharge', listItemAddCharge)\n  .component('listItemHeader', listItemHeader);\n\n\n// WEBPACK FOOTER //\n// ./src/abl-sdk.js","export default function setupUtilityFunctions(app, $mdToast, $rootScope) {\n\n    /**\n     * @name $abl.showToast\n     * @function showToast\n     * @memberOf abl-sdk-feathers.$abl\n     * @description Show an Angular Material toast.\n     * @param {string} message - The message to display.\n     * @param {string} [class] - The CSS class to apply to the toast.\n     * @param {number} [timeout=3000] - The length of time (ms) for the toast to remain visible. \n     */\n    app.showToast = function (msg, toastClass, delay) {\n        if (!toastClass)\n            var toastClass = '';\n        if (!delay)\n            var delay = 3000;\n\n        var toast = $mdToast.simple()\n            .toastClass(toastClass)\n            .textContent(msg)\n            .action('Hide')\n            .hideDelay(delay)\n            .position('bottom left')\n            .highlightAction(false);\n        $mdToast.show(toast);\n        console.debug('showToast ', toastClass, msg);\n    };\n\n\n    /**\n     * @name $abl.randomInt\n     * @function randomInt\n     * @memberOf abl-sdk-feathers.$abl\n     * @description Returns random integer between min and max.\n     * @param {number} min - The upper bound of the random calculation.\n     * @param {number} max - The lower bound of the random calculation.\n     * @returns {number} between min and max.\n     */\n    //\n    app.randomInt = function (min, max) {\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n\n\n    /**\n     * @class abl-sdk-feathers.$rootScope\n     * @hidden\n     */\n\n    /**\n     * @name $rootScope.showToast\n     * @function showToast\n     * @memberOf abl-sdk-feathers.$rootScope\n     * @description Show an Angular Material toast.\n     * @param {string} message - The message to display.\n     * @param {string} [class] - The CSS class to apply to the toast.\n     * @param {number} [timeout=3000] - The length of time (ms) for the toast to remain visible. \n     */\n    $rootScope.showToast = function (a, b, c) {\n        app.showToast(a, b, c); //Legacy support\n    };\n\n    /**\n     * @name $rootScope.safeApply\n     * @function safeApply\n     * @memberOf abl-sdk-feathers.$rootScope\n     * @description App-wide safeApply function for usage in app controllers as a safer alternative to $apply().\n     */\n    $rootScope.safeApply = function (fn) {\n        if (this.$root) {\n            var phase = this.$root.$$phase;\n            if (phase === '$apply' || phase === '$digest') {\n                if (fn && (typeof (fn) === 'function')) {\n                    fn();\n                }\n            } else {\n                this.$apply(fn);\n            }\n        } else {\n            this.$apply(fn);\n        }\n    };\n\n\n    return app;\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!./styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles.css\n// module id = 79\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"    md-list {\\n        display: block;\\n        padding: 0px 0px 0px 0px;\\n    }\\n\\n    .list-item-48 {\\n        height: 36px;\\n        min-height: 36px;\\n        font-size: 14px;\\n        font-weight: 300;\\n    }\\n\\n    .red {\\n        color: rgb(221, 44, 0);\\n    }\\n\\n    .paymentResponseContainer {\\n        display: block;\\n        height: 100%;\\n    }\\n\\n    .activityPaymentSummaryCard {\\n        margin-bottom: 8px;\\n        margin-top: 8px;\\n        margin-right: 0;\\n        margin-left: 0;\\n        background: none;\\n        box-shadow: none;\\n        position: relative;\\n    }\\n\\n    .activityPaymentSummaryCardMobile {}\\n\\n    .paymentSummaryCard {\\n        min-width: 100%;\\n        margin-bottom: 8px;\\n        margin-right: 16px;\\n        margin-top: 0;\\n        background: none;\\n        box-shadow: none;\\n        height: 100%;\\n    }\\n\\n    .paymentSummaryCardLarge {\\n        /*min-width: 370px;*/\\n        width: 100%;\\n        margin-bottom: 0;\\n        margin-top: 0;\\n        padding-right: 0;\\n        padding-left: 0;\\n    }\\n\\n    .paymentHeader p {\\n        color: rgba(0, 0, 0, .8) !important;\\n        font-weight: 500;\\n        letter-spacing: 0.012em;\\n        margin: 0 0 0 0;\\n        line-height: 1.6em;\\n    }\\n\\n    .paymentTitle {\\n        font-size: 20px !important;\\n    }\\n\\n    .paymentSubTitle {\\n        font-size: 14px !important;\\n        font-weight: 400;\\n    }\\n\\n    .lineItemIcon {\\n        width: 32px;\\n        height: 32px;\\n        margin: 4px 4px 4px -6px;\\n        background: url('https://s3.amazonaws.com/assets.ablsolution.com/icons/stopwatch-2.svg') no-repeat;\\n        background-position: center;\\n        background-size: 28px 28px;\\n    }\\n\\n    .headerIcon {\\n        vertical-align: middle;\\n        height: 36px;\\n        width: 40px;\\n        padding-right: 16px;\\n    }\\n\\n    .headerIconRight {\\n        padding-left: 16px;\\n    }\\n\\n    .headerIcon svg {\\n        position: absolute;\\n        top: 24px;\\n        bottom: 24px;\\n        height: 24px;\\n        width: 24px;\\n    }\\n\\n    .lineItemText {\\n        font-size: 14px;\\n        font-weight: 500;\\n        letter-spacing: 0.010em;\\n        margin: 0 0 0 0;\\n        line-height: 1.6em;\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n        color: rgba(0, 0, 0, 0.54) !important;\\n    }\\n\\n    .lineItemDetail {\\n        background: rgba(255, 255, 255, .1);\\n    }\\n\\n    .lineItemDetail p {\\n        font-size: 12px;\\n        color: rgba(0, 0, 0, .77);\\n        font-weight: 400;\\n    }\\n\\n    .lineItemHeader p {\\n        font-size: 16px;\\n        font-weight: 400;\\n        letter-spacing: 0.010em;\\n        margin: 0 0 0 0;\\n        line-height: 50px;\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n        color: rgba(0, 0, 0, 0.82) !important;\\n    }\\n\\n    .lineItemSubHeader {\\n        font-size: 16px;\\n        font-weight: 400;\\n        margin: 0 0 0 0;\\n        line-height: 1.6em;\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n        color: rgba(0, 0, 0, 0.82) !important;\\n    }\\n\\n    .lineItemSubDetail {\\n        font-size: 12px;\\n        font-weight: 500;\\n        margin: 0 0 0 0;\\n        line-height: 1.6em;\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n        color: rgba(0, 0, 0, .6);\\n    }\\n\\n    .lineItemHeader {\\n        background: rgba(0, 0, 0, 0);\\n        color: rgba(0, 0, 0, .7) !important;\\n    }\\n\\n    .addOnAdjusters {\\n        width: 36px;\\n        margin-right: 0;\\n    }\\n\\n    .addOnQuantityText {\\n        border: none;\\n        width: 40px;\\n        font-weight: 500;\\n        text-align: center;\\n        font-size: 16px;\\n        outline: none;\\n    }\\n\\n    .guestIcon {\\n        width: 32px;\\n        height: 32px;\\n        margin: 4px 4px 4px -6px;\\n        background: url('https://s3.amazonaws.com/assets.ablsolution.com/icons/user-3.svg') no-repeat;\\n        background-position: center;\\n        background-size: 28px 28px;\\n    }\\n\\n    .lineItemIconRight {\\n        width: 40px;\\n        height: 40px;\\n        margin: 4px -6px 4px 4px;\\n        background: url('https://s3.amazonaws.com/assets.ablsolution.com/icons/calendar.svg') no-repeat;\\n        background-position: center;\\n        background-size: 28px 28px;\\n    }\\n\\n    .locationHeader {\\n        font-size: 14px !important;\\n        letter-spacing: 0.010em;\\n        line-height: 20px;\\n        color: rgba(0, 0, 0, 0.66) !important;\\n    }\\n\\n    .total {\\n        font-size: 16px;\\n        letter-spacing: 0.01em;\\n        color: rgba(0, 0, 0, 0.8);\\n    }\\n\\n    .activityTotal {\\n        font-size: 16px;\\n        letter-spacing: 0.01em;\\n        color: rgba(0, 0, 0, 0.8);\\n    }\\n\\n    .spacer {\\n        margin: 4px;\\n        width: 8px;\\n    }\\n\\n    .darkerDivider {\\n        border-top-color: rgba(0, 0, 0, 0.12);\\n    }\\n\\n    .totalDivider {\\n        display: block;\\n        border-top-width: 1px;\\n    }\\n\\n    .lineItemDetailDivider {\\n        border-top-color: rgba(0, 0, 0, 0.0);\\n    }\\n\\n    .paymentSummaryImage {\\n        height: 120px;\\n        margin: 24px 12px 0 12px;\\n        background-position: center center;\\n        background-repeat: no-repeat;\\n        border-radius: 2px;\\n    }\\n\\n    .paymentSummaryImageBig {\\n        height: 244px;\\n        margin: 24px 12px 0 12px;\\n        background-position: center center;\\n        background-repeat: no-repeat;\\n        border-radius: 2px;\\n        /*box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .6);*/\\n    }\\n\\n    .mobileList {\\n        height: 100%;\\n    }\\n\\n    .mobileBottomBar {\\n        position: fixed;\\n        bottom: 0;\\n        left: 0;\\n        right: 0;\\n    }\\n\\n    .cardForm {\\n        margin: 16px 16px 16px 16px;\\n    }\\n\\n    .addonForm {\\n        padding-left: 16px;\\n        padding-right: 16px;\\n    }\\n\\n    .activityCardForm {\\n        margin: 0 16px 0 16px;\\n    }\\n\\n    .paymentHeader._md-button-wrap>div.md-button:first-child {\\n        font-size: 22px;\\n        /*box-shadow: 0 1px rgba(0, 0, 0, .12);*/\\n    }\\n\\n    .listIcon {\\n        padding: 0 0px 0 0;\\n    }\\n\\n    .listIconSub {\\n        height: 20px;\\n        width: 20px;\\n        color: rgba(0, 0, 0, .5);\\n        fill: rgba(0, 0, 0, .5);\\n        outline: none;\\n    }\\n\\n    .listIconSub svg {\\n        height: 20px;\\n        width: 20px;\\n    }\\n\\n    .listIconSub:hover {\\n        height: 20px;\\n        width: 20px;\\n        color: rgba(0, 0, 0, .86);\\n        fill: rgba(0, 0, 0, .86);\\n        outline: none;\\n    }\\n\\n    .formButton {\\n        margin-right: 0;\\n    }\\n\\n    .stepStatusRow ng-md-icon svg {\\n        height: 16px;\\n        margin-top: 1px;\\n        vertical-align: top;\\n    }\\n    /*md-list-item:disabled .md-list-item-text,\\nmd-list-item[disabled=disabled] .md-list-item-text{\\n    color: #ccc;\\n}*/\\n\\n    md-list-item.addOnListItem {\\n        margin-right: -24px;\\n        padding-left: 0;\\n    }\\n\\n    md-list-item.listItemNotButton {\\n        padding: 0 8px !important;\\n    }\\n\\n    .totalListItem {\\n        margin-bottom: 12px;\\n    }\\n\\n    .listMessage {\\n        font-size: 16px;\\n        line-height: 1.6em;\\n        padding: 0 4px;\\n    }\\n\\n    .slideDown.ng-hide {\\n        height: 0;\\n        transition: height 0.35s ease;\\n        overflow: hidden;\\n        position: relative;\\n    }\\n\\n    .slideDown {\\n        transition: height 0.35s ease;\\n        overflow: hidden;\\n        position: relative;\\n    }\\n\\n    .slideDown.ng-hide-remove,\\n    .slideDown.ng-hide-add {\\n        /* remember, the .hg-hide class is added to element\\n  when the active class is added causing it to appear\\n  as hidden. Therefore set the styling to display=block\\n  so that the hide animation is visible */\\n        display: block!important;\\n    }\\n\\n    .slideDown.ng-hide-add {\\n        animation-name: hide;\\n        -webkit-animation-name: hide;\\n        animation-duration: .5s;\\n        -webkit-animation-duration: .5s;\\n        animation-timing-function: ease-in;\\n        -webkit-animation-timing-function: ease-in;\\n    }\\n\\n    .slideDown.ng-hide-remove {\\n        animation-name: show;\\n        -webkit-animation-name: show;\\n        animation-duration: .5s;\\n        -webkit-animation-duration: .5s;\\n        animation-timing-function: ease-out;\\n        -webkit-animation-timing-function: ease-out;\\n    }\\n\\n    .couponInput {\\n        width: 100%;\\n        border: none;\\n        /* background-color: rgba(0, 0, 0, .08); */\\n        /* border-radius: 3px; */\\n        padding: 12px;\\n        /* width: 100%; */\\n        box-shadow: none;\\n        margin-left: -12px;\\n        line-height: 36px;\\n        outline: none;\\n    }\\n\\n    .remove-coupon {\\n        cursor: pointer;\\n    }\\n\\n    .toUppercase {\\n        text-transform: uppercase;\\n    }\\n\\n    .listItemCircularProgress {\\n        /*margin-right: -6px;*/\\n    }\\n\\n    md-list-item:hover {\\n        background: transparent;\\n    }\\n\\n    md-list-item.md-button.md-default-theme:not([disabled]):hover,\\n    .md-button:not([disabled]):hover {\\n        background-color: transparent;\\n    }\\n\\n    .easeIn.ng-hide-add,\\n    .easeIn.ng-hide-remove {\\n        -webkit-transition: 0.5s ease-in-out opacity;\\n        -moz-transition: 0.5s ease-in-out opacity;\\n        -ms-transition: 0.5s ease-in-out opacity;\\n        -o-transition: 0.5s ease-in-out opacity;\\n        transition: 0.5s ease-in-out opacity;\\n        opacity: 1;\\n    }\\n\\n    .easeIn.ng-hide {\\n        -webkit-transition: 0s ease-in-out opacity;\\n        -moz-transition: 0s ease-in-out opacity;\\n        -ms-transition: 0s ease-in-out opacity;\\n        -o-transition: 0s ease-in-out opacity;\\n        transition: 0s ease-in-out opacity;\\n        opacity: 0;\\n    }\\n\\n    .couponText {\\n        margin-left: 16px;\\n    }\\n\\n    .md-button[disabled] {\\n        pointer-events: none;\\n    }\\n\\n    .subtotalLineItem {\\n        padding: 8px 32px 8px 16px;\\n    }\\n\\n    .subtotalLineItemSmall {\\n        font-size: 12px;\\n    }\\n\\n    .bottomTotal {\\n        font-size: 16px;\\n        margin-top: 8px;\\n        margin-bottom: 16px;\\n        font-weight: 600;\\n    }\\n\\n    .payzenIframe {\\n        border: none;\\n        outline: none;\\n        width: 100%;\\n    }\\n\\n    .small-label {\\n        font-size: 12px;\\n        padding-left: 4px;\\n    }\\n\\n    .confirmation {\\n        padding: 20px 0;\\n        text-align: center;\\n    }\\n\\n    .confirmation h3 {\\n        text-align: center;\\n        margin-bottom: 20px;\\n    }\\n\\n    .confirmation .margin-top {\\n        margin-top: 8px;\\n    }\\n\\n    .confirmation .booking-id {\\n        padding: 15px;\\n        margin: 0 auto;\\n        width: 260px;\\n        opacity: 0.8;\\n        font-weight: bold;\\n    }\\n\\n    body[md-theme=blue] .confirmation .booking-id {\\n        background: #3F51B5;\\n    }\\n\\n    body[md-theme=blue] .confirmation .booking-id {\\n        background: #009688;\\n    }\\n\\n    body[md-theme=green] .confirmation .booking-id {\\n        background: #4CAF50;\\n    }\\n\\n    body[md-theme=grey] .confirmation .booking-id {\\n        background: #9E9E9E;\\n    }\\n\\n    body[md-theme=blue_grey] .confirmation .booking-id {\\n        background: #607D8B;\\n    }\\n\\n    body[md-theme=yellow] .confirmation .booking-id {\\n        background: #FFEB3B;\\n    }\\n\\n    body[md-theme=indigo] .confirmation .booking-id {\\n        background: #3F51B5;\\n    }\\n\\n    body[md-theme=red] .confirmation .booking-id {\\n        background: #F44336;\\n    }\\n\\n    body[md-theme=black] .confirmation .booking-id {\\n        background: #000000;\\n    }\\n\\n    @media(max-width: 600px) {\\n        .confirmation {\\n            padding: 20px;\\n            font-size: 13px;\\n        }\\n    }\\n\\n    .no-margin {\\n        margin: 0 !important;\\n    }\\n\\n    .picker-container {\\n        border-radius: 2px;\\n        background: white;\\n    }\\n\\n    .bigDateToolbar {\\n        background: white !important;\\n        color: black !important;\\n    }\\n\\n    .activity-dialog-container {\\n        display: -ms-flexbox;\\n        display: flex;\\n        -ms-flex-pack: center;\\n        justify-content: center;\\n        -ms-flex-align: center;\\n        align-items: center;\\n        position: fixed;\\n        top: 0;\\n        left: 0;\\n        width: 100%;\\n        height: 100%;\\n        z-index: 80;\\n        overflow: hidden;\\n    }\\n\\n    .activity-dialog,\\n    md-dialog.activity-dialog {\\n        max-height: 80%;\\n        max-width: 90%;\\n        position: relative;\\n        overflow: auto;\\n        box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 13px 19px 2px rgba(0, 0, 0, 0.14), 0px 5px 24px 4px rgba(0, 0, 0, 0.12);\\n        display: -ms-flexbox;\\n        display: flex;\\n        overflow-x: hidden;\\n        overflow-y: hidden;\\n        -ms-flex-direction: column;\\n        flex-direction: column;\\n    }\\n\\n    .activity-dialog,\\n    md-dialog md-dialog-content {\\n        padding: 0;\\n        overflow-x: hidden;\\n    }\\n\\n    .no-margin {\\n        margin: 0 !important;\\n    }\\n\\n    .leftCard {\\n        background: rgba(0, 0, 0, .025);\\n    }\\n\\n    .activityBookDialogLarge {\\n        width: 840px;\\n        min-height: 600px;\\n        height: 100%;\\n    }\\n\\n    .leftCardLarge {\\n        border-right: 1px solid #e4e4e4 !important;\\n        box-shadow: 1px 0 5px 1px rgba(0, 0, 0, 0.12) !important;\\n        min-height: 100%;\\n        min-width: 420px;\\n        width: 50%;\\n        height: 100%;\\n    }\\n\\n    .leftCardSmall {\\n        border-bottom: 1px solid #e4e4e4 !important;\\n        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.08) !important;\\n    }\\n\\n    .rightCardLarge {\\n        position: absolute;\\n        right: 0;\\n        padding-right: 24px;\\n        min-width: 420px;\\n        width: 50%;\\n        display: block;\\n        height: 100%;\\n    }\\n\\n    .activity-total-include {\\n        height: 100%;\\n    }\\n\\n    .couponText {\\n        font-size: 16px;\\n    }\\n\\n    .couponTextTotal {\\n        font-size: 16px;\\n        padding-right: 12px;\\n    }\\n\\n    .listItemAutocomplete {\\n        padding-left: 0 !important;\\n    }\\n\\n    .addOnQuantityText {\\n        border: none;\\n        width: 40px;\\n        font-weight: 500;\\n        text-align: center;\\n        font-size: 16px;\\n        margin-right: -8px;\\n        outline: none;\\n        background: transparent;\\n    }\\n\\n    .activityPaymentSummaryCard {\\n        margin-bottom: 0 !important;\\n        margin-top: 0 !important;\\n        margin-right: 0;\\n        margin-left: 0;\\n        background: none;\\n        box-shadow: none;\\n        position: relative;\\n        height: 100%;\\n    }\\n\\n    .activityCardForm {\\n        margin: 0 16px 0 16px;\\n    }\\n\\n    .detailsForm {\\n        padding-left: 16px;\\n        padding-right: 16px;\\n    }\\n\\n    .listItemInputContainer {\\n        margin: 24px 16px !important;\\n    }\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/styles.css\n// module id = 80\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./helper-styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./helper-styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./helper-styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/helper-styles.css\n// module id = 84\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".no-margin-top {\\n    margin-top: 0 !important;\\n}\\n\\n.no-margin-bottom {\\n    margin-bottom: 0 !important;\\n}\\n\\n.no-margin-right {\\n    margin-right: 0 !important;\\n}\\n\\n.no-margin-left {\\n    margin-left: 0 !important;\\n}\\n\\n.margin-right-30 {\\n    margin-right: 30px;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/lib/helper-styles.css\n// module id = 85\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./picker.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./picker.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./picker.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/datePicker/picker.css\n// module id = 86\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".abl-input-container {\\n    min-height: 36px;\\n    border-color: transparent;\\n    outline: none;\\n}\\n\\n.sm-calender-pane {\\n    display: block;\\n    position: fixed;\\n    z-index: 81;\\n    overflow: hidden;\\n    border-radius: 2px;\\n}\\n\\n.sm-calender-pane.hide-animate {\\n    -webkit-transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    -moz-transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    -o-transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    max-height: 0px;\\n    max-width: 0px;\\n}\\n\\n.sm-calender-pane.show {\\n    -webkit-transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    -moz-transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    -o-transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    transition: all 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    max-height: 500px;\\n    max-width: 450px;\\n}\\n\\n.sm-calender-pane .action {\\n    height: 30px;\\n    margin-bottom: 0;\\n    position: absolute;\\n    bottom: 0;\\n    width: 100%;\\n}\\n\\n@media only screen and (min-device-width: 0px) and (max-device-width: 960px) {\\n    .sm-calender-pane {\\n        overflow: hidden;\\n    }\\n    .sm-calender-pane.hide {\\n        -webkit-animation: scaleDownCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n        -moz-animation: scaleDownCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n        -o-animation: scaleDownCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n        animation: scaleDownCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    }\\n    .sm-calender-pane.show {\\n        -webkit-animation: scaleUpCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n        -moz-animation: scaleUpCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n        -o-animation: scaleUpCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n        animation: scaleUpCal 1s cubic-bezier(0.04, 1.01, 0.13, 1.02);\\n    }\\n    .action {\\n        height: 30px;\\n        margin-bottom: 0;\\n        position: absolute;\\n        bottom: 0;\\n        width: 100%;\\n    }\\n}\\n\\n\\n/* \\n\\tInput container and button postion css\\n */\\n\\n.sm-input-container .sm-picker-icon {\\n    position: absolute;\\n    top: 0%;\\n    left: 93%;\\n}\\n\\n.picker-container {\\n    border-radius: 2px;\\n}\\n\\n.picker-container .container {\\n    border-radius: 2px;\\n    overflow: hidden;\\n}\\n\\n.picker-container .container md-toolbar {\\n    word-wrap: break-word;\\n}\\n\\n.picker-container .container md-toolbar.md-height {\\n    padding: 20px 0 10px 0;\\n}\\n\\n.picker-container .container md-toolbar.md-height.landscape {\\n    width: 130px;\\n}\\n\\n.picker-container .container md-toolbar.md-height.landscape .year-header {\\n    margin: 10px;\\n    font-size: 16px;\\n}\\n\\n.picker-container .container md-toolbar.md-height.landscape .date-time-header {\\n    font-size: 28px;\\n    font-weight: bold;\\n    text-align: left;\\n    margin: 0px 0 15px 10px;\\n}\\n\\n.picker-container .container md-toolbar.md-height {\\n    padding: 5px 10px;\\n}\\n\\n.picker-container .container md-toolbar.md-height.portrait {\\n    height: 85px;\\n}\\n\\n.picker-container .container md-toolbar.md-height.portrait .year-header {\\n    margin: 10px 0;\\n    font-size: 16px;\\n}\\n\\n.picker-container .container md-toolbar.md-height.portrait .date-time-header {\\n    font-size: 32px;\\n    font-weight: bold;\\n    text-align: left;\\n}\\n\\n.date-picker {\\n    width: 300px;\\n    height: 270px;\\n}\\n\\n.date-picker .cal-link {\\n    font-size: 0.7em;\\n    text-align: center;\\n    margin-bottom: 10px;\\n}\\n\\n.date-picker .year-container {\\n    width: 300px;\\n    animation: slideInDown 1s cubic-bezier(0.06, 0.61, 0.04, 1.03);\\n    margin-top: 20px;\\n}\\n\\n.date-picker .year-container .year-md-repeat {\\n    height: 245px;\\n}\\n\\n.date-picker .year-container .year-md-repeat .md-virtual-repeat-container {\\n    width: 240px;\\n    height: 239px;\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item {\\n    box-sizing: border-box;\\n    height: 70px;\\n    margin: 0 10px;\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item .year {\\n    margin: 0 10px;\\n    display: flex;\\n    height: 70px;\\n    width: 30px;\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item .year .year-num {\\n    outline: none;\\n    width: 30px;\\n    height: 30px;\\n    text-align: center;\\n    line-height: 30px;\\n    margin: 3px;\\n    cursor: pointer;\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item .year .year-num.disabled {\\n    pointer-events: none;\\n    color: rgba(0, 0, 0, 0.38);\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item .year .month-list .month-row {\\n    display: flex;\\n    height: 35px;\\n    float: right;\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item .year .month-list .month-row .month {\\n    outline: none;\\n    width: 30px;\\n    height: 30px;\\n    border-radius: 50%;\\n    text-align: center;\\n    line-height: 30px;\\n    margin: 3px;\\n    font-size: 12px;\\n    cursor: pointer;\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item .year .month-list .month-row .month:hover {\\n    background-color: #E0E0E0;\\n}\\n\\n.date-picker .year-container .year-md-repeat .repeated-item .selected-year {\\n    font-size: 18px;\\n    color: blue;\\n}\\n\\n.date-picker .date-container .navigation {\\n    height: 40px;\\n}\\n\\n.date-picker .date-container .navigation .md-button {\\n    text-transform: capitalize;\\n    font-weight: bold;\\n}\\n\\n.date-picker .date-container>.date-cell-header {\\n    cursor: default;\\n}\\n\\n.date-picker .date-container>.date-cell-header>.md-button.md-icon-button {\\n    opacity: 1;\\n    margin: 2px 0 2px 2px;\\n}\\n\\n.date-picker .date-container .date-cell-row .md-button.md-icon-button {\\n    height: 30px;\\n    width: 30px;\\n    min-height: 30px;\\n    padding: 0px;\\n    font-size: 13px;\\n}\\n\\n.date-picker .date-container .date-cell-row .md-button.md-icon-button[disabled] {\\n    cursor: default;\\n    background-color: transparent;\\n}\\n\\n.date-picker .date-container .date-cell-row .md-button.md-icon-button:hover:not(.disabled):not(.selected) {\\n    background-color: #E0E0E0;\\n}\\n\\n.time-picker {\\n    width: 300px;\\n}\\n\\n.time-picker .navigation {\\n    height: 25px;\\n}\\n\\n.time-picker .navigation .md-button {\\n    text-transform: capitalize;\\n    font-weight: bold;\\n    margin: 0;\\n}\\n\\n.time-picker .time-md-repeat {\\n    width: 70px;\\n    height: 239px;\\n}\\n\\n.time-picker .time-md-repeat .repeated-item {\\n    width: 34px;\\n    margin: 0 auto;\\n}\\n\\n.time-picker .time-md-repeat .repeated-item>.md-button {\\n    margin: 2px;\\n}\\n\\n.time-picker .time-md-repeat .repeated-item>.md-button.md-icon-button {\\n    height: 30px;\\n    width: 30px;\\n    min-height: 30px;\\n    padding: 0px;\\n    font-size: 13px;\\n}\\n\\n.md-virtual-repeat-container .md-virtual-repeat-scroller {\\n    right: -21px;\\n    padding-right: 20px;\\n}\\n\\n.slideLeft {\\n    animation: slideInLeft 500ms cubic-bezier(0.06, 0.61, 0.04, 1.03);\\n}\\n\\n.slideRight {\\n    animation: slideInRight 500ms cubic-bezier(0.06, 0.61, 0.04, 1.03);\\n}\\n\\n.range-picker {\\n    width: 310px;\\n    overflow-x: hidden;\\n    background-color: #fff;\\n}\\n\\n.range-picker .md-toolbar-tools {\\n    font-size: calc(13px + 2);\\n}\\n\\n.range-picker .md-toolbar-tools .date-display {\\n    width: 130px;\\n    padding: 2px;\\n    text-align: center;\\n}\\n\\n.range-picker .md-toolbar-tools .divider-display {\\n    width: 20px;\\n    font-size: 13px;\\n    padding: 2px;\\n}\\n\\n.range-picker .pre-select {\\n    height: 307px;\\n}\\n\\n.range-picker .pre-select .md-button {\\n    padding: 3px;\\n    margin: 0;\\n}\\n\\n.range-picker .custom-select.show-calender>.tab-head {\\n    height: 43px;\\n    text-align: center;\\n    line-height: 35px;\\n}\\n\\n.range-picker .custom-select.show-calender>.tab-head .start-btn {\\n    width: 50%;\\n    text-decoration: inherit;\\n    color: inherit;\\n}\\n\\n.range-picker .custom-select.show-calender>.tab-head .start-btn>span {\\n    color: inherit;\\n}\\n\\n.range-picker .custom-select.show-calender>.tab-head span {\\n    color: #ccc1c1;\\n    width: 50%;\\n}\\n\\n.range-picker .custom-select.show-calender>.tab-head span.active {\\n    animation-property: border-bottom;\\n    color: inherit;\\n    border-bottom: 2px solid #FF5252;\\n}\\n\\n.range-picker .custom-select.show-calender>.tab-head span.active.moveLeft {\\n    animation: slideInLeft 1s cubic-bezier(0.06, 0.61, 0.04, 1.03);\\n}\\n\\n.range-picker .custom-select.show-calender>.tab-head span.active.moveRight {\\n    animation: slideInRight 1s cubic-bezier(0.06, 0.61, 0.04, 1.03);\\n}\\n\\n@keyframes slideInLeft {\\n    from {\\n        transform: translate3d(-100%, 0, 0);\\n        visibility: visible;\\n    }\\n    100% {\\n        transform: translate3d(0, 0, 0);\\n    }\\n}\\n\\n.slideInLeft {\\n    animation-name: slideInLeft;\\n}\\n\\n@keyframes slideInRight {\\n    from {\\n        transform: translate3d(100%, 0, 0);\\n        visibility: visible;\\n    }\\n    100% {\\n        transform: translate3d(0, 0, 0);\\n    }\\n}\\n\\n.slideInRight {\\n    animation-name: slideInRight;\\n}\\n\\n@keyframes slideInUp {\\n    from {\\n        transform: translate3d(0, 100%, 0);\\n        visibility: visible;\\n    }\\n    100% {\\n        transform: translate3d(0, 0, 0);\\n    }\\n}\\n\\n.slideInUp {\\n    animation-name: slideInUp;\\n}\\n\\n@keyframes slideInDown {\\n    from {\\n        transform: translate3d(0, -100%, 0);\\n        visibility: visible;\\n    }\\n    100% {\\n        transform: translate3d(0, 0, 0);\\n    }\\n}\\n\\n.slideInDown {\\n    animation-name: slideInDown;\\n}\\n\\n@-webkit-keyframes scaleUpCal {\\n    0% {\\n        -ms-transform: scale(0.5, 0.5);\\n        /* IE 9 */\\n        -webkit-transform: scale(0.5, 0.5);\\n        /* Safari */\\n        transform: scale(0.5, 0.5);\\n    }\\n    100% {\\n        -ms-transform: scale(1, 1);\\n        /* IE 9 */\\n        -webkit-transform: scale(1, 1);\\n        /* Safari */\\n        transform: scale(1, 1);\\n    }\\n}\\n\\n\\n/* Standard syntax */\\n\\n@keyframes scaleUpCal {\\n    0% {\\n        -ms-transform: scale(0.5, 0.5);\\n        /* IE 9 */\\n        -webkit-transform: scale(0.5, 0.5);\\n        /* Safari */\\n        transform: scale(0.5, 0.5);\\n    }\\n    100% {\\n        -ms-transform: scale(1, 1);\\n        /* IE 9 */\\n        -webkit-transform: scale(1, 1);\\n        /* Safari */\\n        transform: scale(1, 1);\\n    }\\n}\\n\\n@-webkit-keyframes scaleDownCal {\\n    0% {\\n        -ms-transform: scale(1, 1);\\n        /* IE 9 */\\n        -webkit-transform: scale(1, 1);\\n        /* Safari */\\n        transform: scale(1, 1);\\n    }\\n    100% {\\n        -ms-transform: scale(0.5, 0.5);\\n        /* IE 9 */\\n        -webkit-transform: scale(0.5, 0.5);\\n        /* Safari */\\n        transform: scale(0.5, 0.5);\\n    }\\n}\\n\\n\\n/* Standard syntax */\\n\\n@keyframes scaleDownCal {\\n    0% {\\n        -ms-transform: scale(1, 1);\\n        /* IE 9 */\\n        -webkit-transform: scale(1, 1);\\n        /* Safari */\\n        transform: scale(1, 1);\\n    }\\n    100% {\\n        -ms-transform: scale(0.5, 0.5);\\n        /* IE 9 */\\n        -webkit-transform: scale(0.5, 0.5);\\n        /* Safari */\\n        transform: scale(0.5, 0.5);\\n    }\\n}\\n\\n@-webkit-keyframes moveUp {\\n    0% {\\n        -ms-transform: top;\\n        /* IE 9 */\\n        -webkit-transform: top;\\n        /* Safari */\\n        transform: top;\\n    }\\n    100% {\\n        -ms-transform: top;\\n        /* IE 9 */\\n        -webkit-transform: top;\\n        /* Safari */\\n        transform: top;\\n    }\\n}\\n\\n\\n/* Standard syntax */\\n\\n@keyframes moveUp {\\n    0% {\\n        -ms-transform: top;\\n        /* IE 9 */\\n        -webkit-transform: top;\\n        /* Safari */\\n        transform: top;\\n    }\\n    100% {\\n        -ms-transform: top;\\n        /* IE 9 */\\n        -webkit-transform: top;\\n        /* Safari */\\n        transform: top;\\n    }\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/datePicker/picker.css\n// module id = 87\n// module chunks = 0","// Use RxJS in a Service\n\n// What about in a situation where you have a Service that's holding state for example. How could I push changes to that Service, and other random components on the page be aware of such a change? Been struggling with tackling this problem lately\n// Build a service with RxJS Extensions for Angular.\n\n// <script src=\"//unpkg.com/angular/angular.js\"></script>\n// <script src=\"//unpkg.com/rx/dist/rx.all.js\"></script>\n// <script src=\"//unpkg.com/rx-angular/dist/rx.angular.js\"></script>\n// var app = angular.module('myApp', ['rx']);\n\n// app.factory(\"DataService\", function(rx) {\n//   var subject = new rx.Subject(); \n//   var data = \"Initial\";\n\n//   return {\n//       set: function set(d){\n//         data = d;\n//         subject.onNext(d);\n//       },\n//       get: function get() {\n//         return data;\n//       },\n//       subscribe: function (o) {\n//          return subject.subscribe(o);\n//       }\n//   };\n// });\n// Then simply subscribe to the changes.\n\n// app.controller('displayCtrl', function(DataService) {\n//   var $ctrl = this;\n\n//   $ctrl.data = DataService.get();\n//   var subscription = DataService.subscribe(function onNext(d) {\n//       $ctrl.data = d;\n//   });\n\n//   this.$onDestroy = function() {\n//       subscription.dispose();\n//   };\n// });\n\n/**\n * \n * \n * @class api\n * @memberOf abl-sdk-feathers.$abl\n * @hidden\n */\nexport default function rest(app, $http) {\n    const that = {};\n    const Rx = window.Rx;\n    const moment = window.moment;\n\n    app.api = {};\n    /**\n     * @class activity\n     * @memberOf abl-sdk-feathers.$abl.api\n     * @hidden\n     */\n    app.api.activity = {\n        /**\n         * @function get\n         * @memberOf abl-sdk-feathers.$abl.api.activity\n         */\n        get: function (query) {\n            return Rx.Observable\n                .fromPromise(activityService.find(\n                    query || {}\n                ))\n                .catch((response) => {\n                    console.log('$abl.api.GET ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    return response.list;\n                });\n        },\n        /**\n         * @function find\n         * @memberOf abl-sdk-feathers.$abl.api.activity\n         */\n        find: function (query) {\n            return Rx.Observable\n                .fromPromise(activitySearchService.find(\n                    query || {}\n                ))\n                .catch((response) => {\n                    console.log('$abl.api.activity.FIND ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    return response;\n                });\n        }\n    }\n\n\n    /**\n     * @class timeslots\n     * @memberOf abl-sdk-feathers.$abl.api\n     * @hidden\n     */\n    app.api.timeslots = {\n        /**\n         * @function getRange\n         * @memberOf abl-sdk-feathers.$abl.api.timeslots\n         */\n        getRange: function (d) {\n            return Rx.Observable\n                .fromPromise($http({\n                    method: 'GET',\n                    url: app.endpoint + '/timeslots?',\n                    data: d,\n                    headers: app.headers\n                }))\n                .catch((response) => {\n                    console.log('$abl.api.timeslots.GETRANGE ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    console.log('$abl.api.timeslots.GETRANGE SUCCESS', response);\n                    return response.data.list;\n                });\n        },\n        /**\n         * @function get\n         * @memberOf abl-sdk-feathers.$abl.api.timeslots\n         */\n        get: function (id) {\n            return Rx.Observable\n                .fromPromise($http({\n                    method: 'GET',\n                    url: app.endpoint + '/timeslots?id=' + id,\n                    headers: app.headers\n\n                }))\n                .catch((response) => {\n                    console.log('$abl.api.timeslots.GET ERROR', response);\n                    return Rx.Observable.empty();\n                })\n                .select(function (response) {\n                    console.log('$abl.api.timeslots.GET SUCCESS', response);\n                    return response;\n                });\n        }\n    }\n\n\n    //Feathers REST endpoints\n    const activityService = app.service('activities');\n    const eventService = app.service('events');\n    const timeslotService = app.service('timeslots');\n\n    const activitySearchService = app.service('search');\n\n    // activitySearchService.find({\n    //     query: {\n    //         \"sort\": \"-updatedAt\"\n    //     }\n    // });\n\n    app.activitySearchInterval = function (t) {\n        return setInterval(() => {\n            activitySearchService.find({\n                query: {\n                    \"sort\": \"-updatedAt\"\n                }\n            });\n        }, t);\n    }\n\n\n    //Feathers localstorage cache service\n    /**\n     * @class cache\n     * @memberOf abl-sdk-feathers.$abl\n     * @description localstorage cache wrapped in a Feathers.js service.\n     * @example   <caption>Open or Create</caption>      \n     * $abl.cache.get('activities').then(function (res) {\n     *   console.log(res);\n     *}).catch(res => {\n     *    $abl.cache.create({\n     *       id: 'activities',\n     *      data: {},\n     *      map: []\n     *  });\n     *});\n     * @hidden\n     */\n    const cache = app.service('cache');\n    const max = 500;\n    let cacheQuery = {\n        page: 0,\n        pageSize: 20,\n        total: 0,\n        \"sort\": \"-updatedAt\"\n    }\n\n    cache.get('activities').then(function (res) {\n        console.log(res);\n    }).catch(res => {\n        cache.create({\n            id: 'activities',\n            data: {},\n            map: []\n        });\n    });\n\n    const updateCache = store => { // always wrap in a function so you can pass options and for consistency.\n        return hook => {\n            let modified = false;\n\n            cache.get('activities').then(function (activities) {\n                activities.updated = [];\n\n                const acs = Rx.Observable.fromArray(hook.result.data);\n                acs.map(res => res)\n                    .filter(res => activities.data[res._id] == undefined)\n                    .subscribe(function (x) {\n                        modified = true;\n                        activities.data[x._id] = x;\n                        activities.map.push(x._id);\n                        activities.updated.push(x._id);\n                        // console.log('creating activity', x);\n                    }, function (err) {\n                        return Promise.resolve(hook); // A good convention is to always return a promise.\n\n                    }, function () {\n                        if (modified) {\n                            console.log('updateCache', store, activities);\n                            if (activities.map.length > max) {\n                                for (var i = 0; i < activities.map.length - max; i++) {\n                                    delete activities.data[activities.map[i]];\n                                    console.log('deleting activity', activities.data[activities.map[0]]);\n\n                                }\n                                // activities.map.fill('', 0, activities.map.length - max);\n                            }\n                            activities.total = hook.result.total;\n                            cache.update('activities', activities).then(function () {\n                                console.log('updateCache', store, hook);\n\n                                return Promise.resolve(hook); // A good convention is to always return a promise.\n                            });\n                        }\n\n                    });\n\n            });\n        };\n    };\n\n    function getObjectIndex(id, arr) {\n        for (var i = 0; i < arr.length - 1; i++) {\n            if (arr[i].id == id)\n                return i;\n        }\n        return -1;\n    }\n\n    // Set up our after hook to cache new data\n    activitySearchService.after({\n        all: [], // run hooks for all service methods\n        find: [updateCache()] // run hook after a find. You can chain multiple hooks.\n    });\n\n\n    app.cache = cache;\n    return app;\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rest.js","    /**\n     * @function toUppercase\n     * @memberOf abl-sdk-feathers.directives\n     * @description Transforms input text to all uppercase characters.\n     * @example   <input type=\"text\" ng-model=\"name\" to-uppercase>\n     */\n    export default function toUppercase() {\n        return {\n            require: 'ngModel',\n            link: function (scope, element, attrs, modelCtrl) {\n                var capitalize = function (inputValue) {\n                    if (inputValue == undefined) inputValue = '';\n                    var capitalized = inputValue.toUpperCase();\n                    if (capitalized !== inputValue) {\n                        modelCtrl.$setViewValue(capitalized);\n                        modelCtrl.$render();\n                    }\n                    return capitalized;\n                }\n\n                modelCtrl.$parsers.push(capitalize);\n                capitalize(scope[attrs.ngModel]); // capitalize initial value\n            }\n        };\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/toUppercase.directive.js"," /**\n  * @class abl-sdk-feathers.directives\n  * @hidden\n  */\n\n /**\n  * @function formatPhone\n  * @memberOf abl-sdk-feathers.directives\n  * @description Formats a phone number nicely.\n  * @example <input type=\"text\" id=\"phonenumber\" ng-model=\"phonenumber\" format-phone>\n  */\n export default function formatPhone() {\n     return {\n         require: 'ngModel',\n         restrict: 'A',\n         link: function (scope, elem, attrs, ctrl, ngModel) {\n             elem.add(phonenumber).on('keyup', function () {\n                 var origVal = elem.val().replace(/[^\\w\\s]/gi, '');\n                 if (origVal.length === 10) {\n                     var str = origVal.replace(/(.{3})/g, \"$1-\");\n                     var phone = str.slice(0, -2) + str.slice(-1);\n                     jQuery(\"#phonenumber\").val(phone);\n                 }\n\n             });\n             console.log('format-phone', scope);\n         }\n     };\n }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/formatPhone.directive.js","    /**\n     * @function toUppercase\n     * @memberOf abl-sdk-feathers.directives\n     * @description Transforms input text to all uppercase characters.\n     * @example   <input type=\"text\" ng-model=\"name\" to-uppercase>\n     */\n    export default function focusParent() {\n        return {\n            require: 'ngModel',\n            link: function (scope, element, attrs, modelCtrl) {\n                console.log(element);\n                console.log(attrs);\n\n                let elem = $(element[0].parentElement);\n                element.on('focus', function () {\n                    console.log(elem);\n                    elem.addClass(attrs.onFocus);\n\n                });\n\n                element.on('blur', () => {\n                    elem.removeClass(attrs.onFocus);\n\n                })\n                //modelCtrl.$parsers.push(capitalize);\n                //capitalize(scope[attrs.ngModel]); // capitalize initial value\n            }\n        };\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/focusParent.directive.js","    export default function size() {\n        return {\n            link: function (scope, element, attrs, modelCtrl) {\n                console.log(element);\n                console.log(attrs);\n\n                if (attrs.size) {\n                    let elem = $(element[0].children[0]);\n                    elem.addClass(attrs.size);\n                }\n\n\n            }\n        };\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/directives/size.directive.js","     /**\n      * @class abl-sdk-feathers.services\n      * @hidden\n      */\n\n\n     navigatorService.$inject = [\"$window\", \"$q\"];\n     /**\n      * @function navigatorService\n      * @memberOf abl-sdk-feathers.services\n      * @description Requests the user's geographic coordinates using the {@link https://developer.mozilla.org/en/docs/Web/API/Navigator | Navigator Web API}.\n      * @example    navigatorService.getCurrentPosition().then(function(position) {\n      *     console.log(position);\n      *   }).catch(function(e) {\n      * });\n      * @tutorial navigator\n      * @returns {Promise} A Promise object from the {@link https://developer.mozilla.org/en/docs/Web/API/Navigator | Navigator Web API}.\n      */\n     export default function navigatorService($window, $q) {\n\n         function getCurrentPosition() {\n             var deferred = $q.defer();\n\n             if (!$window.navigator.geolocation) {\n                 deferred.reject('Geolocation not supported.');\n             } else {\n                 $window.navigator.geolocation.getCurrentPosition(\n                     function (position) {\n                         deferred.resolve(position);\n                     },\n                     function (err) {\n                         deferred.reject();\n                     });\n             }\n\n             return deferred.promise;\n         }\n\n         return {\n             getCurrentPosition: getCurrentPosition\n         };\n\n     }\n\n\n// WEBPACK FOOTER //\n// ./src/lib/services/navigator.service.js"," import colTemplate from './column.html';\n const col = {\n     bindings: {\n         pos: '@',\n         size: '@'\n     },\n     controller: function ($element, $scope) {\n         this.$onInit = function () {\n             //  console.log('col', this);\n             if (!this.pos)\n                 this.position = 'start center'\n             if (this.pos == 'right')\n                 this.position = 'end center';\n             else\n                 this.position = this.pos;\n\n         };\n\n         this.$onChanges = (changesObj) => {};\n         this.$postLink = function () {};\n     },\n     template: colTemplate,\n     transclude: true,\n     controllerAs: 'vm'\n };\n\n\n export default col;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/col.component.js","module.exports = \"<div layout=\\\"row\\\" layout-align=\\\"{{vm.position}}\\\" ng-transclude></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/column.html\n// module id = 95\n// module chunks = 0","import progressButtonTemplate from './progressButton.html';\nconst progressButton = {\n    bindings: {\n        loading: '<',\n        class: '@',\n        ngDisabled: '<',\n        spinner: '<',\n        stroke: '@',\n        fill: '@',\n        label: '@'\n    },\n    controller: function ($element, $scope) {\n        this.$onInit = function () {\n            if (this.loading)\n                console.log('progressButton:loading', this.loading);\n\n            console.log('progressButton disabled', this.ngDisabled);\n\n        };\n\n        this.$onChanges = (changesObj) => {\n            console.log('progressButton changes ', changesObj);\n            this.disabled = this.ngDisabled;\n        };\n\n        this.$postLink = function () {};\n    },\n    template: progressButtonTemplate,\n    transclude: true,\n    controllerAs: 'vm'\n};\n\n\nexport default progressButton;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/progressButton.component.js","module.exports = \"<md-button layout=\\\"row\\\" layout-align=\\\"center center\\\" class=\\\"{{vm.class}}\\\" ng-disabled=\\\"vm.loading || vm.disabled\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"center center\\\">\\n        <svg ng-show=\\\"vm.loading && vm.spinner == 1\\\" version=\\\"1.1\\\" id=\\\"loader-1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n            x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 50 50\\\" style=\\\"enable-background:new 0 0 50 50;\\\" xml:space=\\\"preserve\\\">\\n            <path fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" d=\\\"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"rotate\\\" from=\\\"0 25 25\\\" to=\\\"360 25 25\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n            </path>\\n        </svg>\\n\\n        <svg ng-show=\\\"vm.loading && vm.spinner == 2\\\" version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n            x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"24px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 24 30\\\" style=\\\"enable-background:new 0 0 50 50;\\\" xml:space=\\\"preserve\\\">\\n            <rect x=\\\"0\\\" y=\\\"0\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"translate\\\" values=\\\"0 0; 0 20; 0 0\\\" begin=\\\"0\\\" dur=\\\"0.6s\\\"\\n                    repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"10\\\" y=\\\"0\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"translate\\\" values=\\\"0 0; 0 20; 0 0\\\" begin=\\\"0.2s\\\" dur=\\\"0.6s\\\"\\n                    repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"20\\\" y=\\\"0\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\">\\n                <animateTransform attributeType=\\\"xml\\\" attributeName=\\\"transform\\\" type=\\\"translate\\\" values=\\\"0 0; 0 20; 0 0\\\" begin=\\\"0.4s\\\" dur=\\\"0.6s\\\"\\n                    repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n        </svg>\\n\\n        <svg ng-show=\\\"vm.loading && vm.spinner == 3\\\" version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n            x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"24px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 24 30\\\" style=\\\"enable-background:new 0 0 50 50;\\\" xml:space=\\\"preserve\\\">\\n            <rect x=\\\"0\\\" y=\\\"10\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" opacity=\\\"0.2\\\">\\n                <animate attributeName=\\\"opacity\\\" attributeType=\\\"XML\\\" values=\\\"0.2; 1; .2\\\" begin=\\\"0s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n                <animate attributeName=\\\"height\\\" attributeType=\\\"XML\\\" values=\\\"10; 20; 10\\\" begin=\\\"0s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n                <animate attributeName=\\\"y\\\" attributeType=\\\"XML\\\" values=\\\"10; 5; 10\\\" begin=\\\"0s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"8\\\" y=\\\"10\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" opacity=\\\"0.2\\\">\\n                <animate attributeName=\\\"opacity\\\" attributeType=\\\"XML\\\" values=\\\"0.2; 1; .2\\\" begin=\\\"0.15s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"height\\\" attributeType=\\\"XML\\\" values=\\\"10; 20; 10\\\" begin=\\\"0.15s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"y\\\" attributeType=\\\"XML\\\" values=\\\"10; 5; 10\\\" begin=\\\"0.15s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n            <rect x=\\\"16\\\" y=\\\"10\\\" width=\\\"4\\\" height=\\\"10\\\" fill=\\\"{{vm.fill || '#fff'}}\\\" stroke=\\\"{{vm.stroke || ''}}\\\" opacity=\\\"0.2\\\">\\n                <animate attributeName=\\\"opacity\\\" attributeType=\\\"XML\\\" values=\\\"0.2; 1; .2\\\" begin=\\\"0.3s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"height\\\" attributeType=\\\"XML\\\" values=\\\"10; 20; 10\\\" begin=\\\"0.3s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\"\\n                />\\n                <animate attributeName=\\\"y\\\" attributeType=\\\"XML\\\" values=\\\"10; 5; 10\\\" begin=\\\"0.3s\\\" dur=\\\"0.6s\\\" repeatCount=\\\"indefinite\\\" />\\n            </rect>\\n        </svg>\\n\\n\\n    </div>\\n    <span ng-show=\\\"!vm.loading\\\">{{vm.label}}</span>\\n</md-button>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/progressButton.html\n// module id = 97\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./progressButton.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./progressButton.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./progressButton.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/progressButton.css\n// module id = 98\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"progress-button {\\n    outline: none;\\n    margin: 0px 0px !important;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n\\nprogress-button md-button {\\n    pointer-events: auto;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/lib/components/progressButton.css\n// module id = 99\n// module chunks = 0"," import listItemTemplate from './listItem.html';\n const listItem = {\n     bindings: {\n         size: '@',\n     },\n     controller: function ($element, $scope) {\n         this.$onInit = function () {};\n\n         this.$onChanges = (changesObj) => {};\n         this.$postLink = function () {};\n     },\n     template: listItemTemplate,\n     transclude: true,\n     controllerAs: 'vm'\n };\n\n\n export default listItem;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItem.component.js","module.exports = \"<div layout=\\\"row\\\" class=\\\"listItem\\\" ng-class=\\\"[vm.size]\\\" flex=\\\"100\\\" ng-transclude>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItem.html\n// module id = 101\n// module chunks = 0","import template from './listItemNumericControl.html';\n// import controller from './goatListItem.controller';  \n// import './goatListItem.scss';\n/**\n * @function li-NumberControl\n * @memberOf abl-sdk-feathers.components\n * @description List item control with +/- buttons and input to modify the value.\n * @example  <list-item-numeric-control label=\"Attendee\" value=\"numValue\" min=\"1\" max=\"5\"></list-item-numeric-control>\n */\nconst listItemNumericControl = {\n    restrict: 'E',\n    bindings: {\n        value: '=',\n        label: '@',\n        price: '@',\n        max: '@',\n        min: '@ ',\n        size: '@'\n    },\n    template: template,\n    controller: function ($element) {\n        this.min = 0;\n\n        this.$onInit = function () {\n            this.elem = $($element[0].children[0]);\n\n            // console.log('listItemNumericController!', this);\n\n        };\n\n        this.$onChanges = (changesObj) => {};\n        this.$postLink = function () {\n\n        };\n\n        this.increment = function () {\n            if (this.max == undefined || this.max > this.value)\n                this.value++;\n            // console.log('increment');\n        };\n\n        this.decrement = function () {\n            if (this.value > this.min)\n                this.value--;\n            console.log('decrementer');\n        };\n\n        this.checkAdjustValue = () => {\n            if (this.value > this.max) {\n                this.value = this.max;\n            }\n            if (this.value < this.min)\n                this.value = this.min;\n        };\n    },\n    controllerAs: 'vm'\n};\n\n\nexport default listItemNumericControl;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItemNumericControl.component.js","module.exports = \"<div layout=\\\"row\\\" class=\\\"listItem\\\" ng-class=\\\"[vm.size]\\\" flex=\\\"100\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <div layout=\\\"column\\\" class=\\\"\\\">\\n            <span class=\\\"lineItemSubHeader\\\">{{vm.label}}</span>\\n            <div layout=\\\"row\\\">\\n                <span class=\\\"lineItemSubDetail\\\">${{vm.price / 100  | number:2}}</span>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n        <div layout=\\\"column\\\" class=\\\"addOnAdjusters\\\" layout-align=\\\"center end\\\" flex layout-grow>\\n            <ng-md-icon icon=\\\"add_circle_outline\\\" class=\\\"listIconSub\\\" md-colors=\\\"{'fill': 'primary-A200'}\\\" ng-click=\\\"vm.increment();\\\">\\n            </ng-md-icon>\\n            <ng-md-icon icon=\\\" remove_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.decrement();\\\"></ng-md-icon>\\n        </div>\\n        <div layout=\\\"column\\\" layout-align=\\\"end end\\\">\\n            <input class='addOnQuantityText' ng-model=\\\"vm.value\\\" ng-change=\\\"vm.checkAdjustValue();\\\" md-select-on-focus></input>\\n        </div>\\n    </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItemNumericControl.html\n// module id = 103\n// module chunks = 0"," /**\n  * @class abl-sdk-feathers.components\n  * @hidden\n  */\n\n\n\n /**\n  * @function li-AddCharge\n  * @memberOf abl-sdk-feathers.components\n  * @description List item to enter a new charge with value.\n  * @example  <list-item-add-charge group=\"vm.charges\"></list-item-add-charge>\n  */\n import template from './listItemAddCharge.html';\n // import controller from './goatListItem.controller';  \n import './listItem.css';\n\n const listItemAddCharge = {\n     bindings: {\n         add: '<',\n         group: '=',\n         buttonClass: '@'\n     },\n     template: template,\n     controller: function ($scope) {\n         this.price = 0;\n         this.$onInit = function () {};\n\n         this.$onChanges = (changesObj) => {};\n         this.$postLink = function () {};\n     },\n     controllerAs: 'vm'\n };\n\n\n export default listItemAddCharge;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItemAddCharge.component.js","module.exports = \"<md-list-item class=\\\"addOnListItem\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <md-input-container class=\\\"buttonInlineInput full-width \\\">\\n            <label>Name</label>\\n\\n            <input class='buttonInlineInput' ng-model=\\\"vm.label\\\"></input>\\n        </md-input-container>\\n\\n    </div>\\n\\n    <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"20\\\">\\n        <md-input-container class=\\\"buttonInlineInput full-width\\\">\\n            <label>Price</label>\\n\\n            <input class='full-width buttonInlineInput' md-select-on-focus ng-model=\\\"vm.price\\\" type=\\\"number\\\" min=\\\"0\\\" step=\\\"0.01\\\"></input>\\n        </md-input-container>\\n    </div>\\n    <div layout=\\\"row\\\">\\n        <md-button ng-disabled=\\\"!vm.label || !vm.price\\\" ng-class=\\\"[vm.buttonClass.length > 0 ? vm.buttonClass : 'md-raised']\\\" ng-click=\\\"vm.add(vm.label, vm.price)\\\">\\n            Add\\n        </md-button>\\n    </div>\\n\\n</md-list-item>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItemAddCharge.html\n// module id = 105\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./listItem.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./listItem.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./listItem.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItem.css\n// module id = 106\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".full-width {\\n    width: 100%;\\n}\\n\\n.text-align-left {\\n    text-align: left !important;\\n}\\n\\ncol-section {\\n    width: 100%;\\n}\\n\\nmd-checkbox.listItemCheckbox .md-label {\\n    margin-top: 26px;\\n    margin-left: 38px;\\n}\\n\\n.listItem {\\n    height: 72px;\\n    padding: 0 16px;\\n    outline: none;\\n    border: none;\\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, .05)\\n}\\n\\n.listItem md-checkbox .md-container {\\n    height: 4px;\\n}\\n\\n.listItem.md {\\n    height: 56px;\\n    padding: 0 16px;\\n    outline: none;\\n    border: none;\\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, .05);\\n}\\n\\n.listItem.sm {\\n    height: 36px;\\n    min-height: 36px;\\n    padding: 0 16px;\\n    font-size: 12px;\\n    outline: none;\\n    border: none;\\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, .05);\\n}\\n\\n.listItem md-autocomplete input:not(.md-input) {\\n    height: 100% !important;\\n    line-height: 100% !important;\\n    padding: 0;\\n}\\n\\n.listItem md-autocomplete md-autocomplete-wrap {\\n    box-shadow: none !important;\\n    height: 100% !important;\\n}\\n\\n.listItem md-autocomplete {\\n    padding: 0 !important;\\n    width: 100% !important;\\n}\\n\\n.listItemAutoCompleteAfterContainer {\\n    margin-top: -20px !important;\\n}\\n\\n.listItemFocus {\\n    box-shadow: 0 1px 0 rgba(255, 152, 0, 0.4), 0 -1px 0 rgba(255, 152, 0, 0.4), inset 0px 1px 4px rgba(255, 152, 0, 0.2), inset 0px -1px 4px rgba(255, 152, 0, 0.2) !important;\\n    background: white;\\n}\\n\\ninput.buttonInlineInput {\\n    /* margin: 0px -16px;*/\\n    padding: 0 0 0 0;\\n    border-width: 0;\\n    -ms-flex-preferred-size: 36px;\\n    font-size: inherit;\\n    width: 100%;\\n    border: none;\\n    outline: none;\\n    box-sizing: border-box;\\n    float: left;\\n    background: transparent;\\n}\\n\\n.inputStatusIcon {\\n    height: 24px;\\n    width: 36px;\\n    margin-bottom: 42px !important;\\n    margin-right: 4px !important;\\n}\\n\\nng-md-icon.listItemHeaderIcon {\\n    margin: 0 16px 0 0;\\n}\\n\\nng-md-icon.listItemHeaderIcon.md,\\nng-md-icon.listItemHeaderIcon.md svg {\\n    margin: auto 12px auto 0;\\n    height: 20px;\\n    width: 20px;\\n}\\n\\nng-md-icon.listItemHeaderIcon.sm,\\nng-md-icon.listItemHeaderIcon.sm svg {\\n    margin: auto 8px auto 0;\\n    height: 16px;\\n    width: 16px;\\n}\\n\\n.buttonInlineInput:focus {\\n    /* box-shadow: inset 0px 1px 3px rgba(33, 33, 33, 0.3), inset 0px -1px 3px rgba(33, 33, 33, 0.3); */\\n}\\n\\n.listItemGreyFocus {\\n    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.28), 0 -1px 0 rgba(0, 0, 0, 0.28), inset 0px 1px 4px rgba(0, 0, 0, 0.16), inset 1px -1px 4px rgba(0, 0, 0, 0.2) !important;\\n}\\n\\n.listItemGreyFocus input,\\ntextarea {\\n    color: rgb(63, 81, 181);\\n}\\n\\n.listItemGreyFocus ng-md-icon.listItemHeaderIcon {\\n    fill: rgb(63, 81, 181);\\n}\\n\\n.listItemFocusBottomBorder {\\n    box-shadow: 0px 2px 0 rgba(57, 73, 171, .92), inset 0 -1px 3px rgba(57, 73, 171, .2), inset 0 1px rgba(0, 0, 0, .1) !important;\\n}\\n\\n.listItemFocusBottomBorder input,\\ntextarea {\\n    color: rgb(63, 81, 181);\\n}\\n\\nmd-input-container.buttonInlineInput {\\n    display: inline-block;\\n    position: relative;\\n    height: 36px;\\n    padding: 5px;\\n    margin: 0;\\n    vertical-align: middle;\\n}\\n\\n.listItemPadding {\\n    padding: 0 16px;\\n}\\n\\n.listItem.listItemHeader {\\n    font-size: 16px;\\n    margin: 0;\\n    font-weight: 500;\\n    cursor: unset;\\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.33), 0 1px 0px rgba(0, 0, 0, 0.16), 0 -1px 0px rgba(0, 0, 0, 0.16);\\n    background-color: #f3f3f3;\\n}\\n\\n.listItem.sm.listItemHeader {\\n    font-size: 12px;\\n    margin: 0;\\n    font-weight: 500;\\n    cursor: unset;\\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.16), 0 1px 0px rgba(0, 0, 0, 0.16), 0 -1px 0px rgba(0, 0, 0, 0.16);\\n    background-color: #f3f3f3;\\n}\\n\\n.lineItemSubHeader {\\n    font-size: 14px;\\n    font-weight: 400;\\n    padding: 0 16px 0 0;\\n    line-height: 1.6em;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    color: rgba(0, 0, 0, 0.92) !important;\\n}\\n\\n.listItemHeaderIcon {\\n    margin-right: 16px;\\n}\\n\\n.autocomplete-custom-template li {\\n    border-bottom: 1px solid #ccc;\\n    height: auto;\\n    padding-top: 8px;\\n    padding-bottom: 8px;\\n    white-space: normal;\\n}\\n\\n.autocomplete-custom-template li:last-child {\\n    border-bottom-width: 0;\\n}\\n\\n.autocomplete-custom-template .item-title {\\n    font-weight: 600;\\n}\\n\\n.autocomplete-custom-template .item-title,\\n.autocomplete-custom-template .item-metadata {\\n    display: block;\\n    line-height: 2;\\n}\\n\\n.autocomplete-custom-template .item-title md-icon {\\n    height: 18px;\\n    width: 18px;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/lib/components/listItem.css\n// module id = 107\n// module chunks = 0"," import template from './listItemHeader.html';\n // import controller from './goatListItem.controller';  \n\n const listItemHeader = {\n     bindings: {\n         collapsed: '<',\n         title: '@',\n         icon: '@',\n         size: '@'\n     },\n     template: template,\n     controller: function () {\n\n         this.$onInit = function () {\n             if (!this.collapsed) this.collapsed = false;\n\n         };\n\n         this.$onChanges = (changesObj) => {};\n         this.$postLink = function () {};\n     },\n     controllerAs: 'vm'\n };\n\n\n export default listItemHeader;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/components/listItemHeader.component.js","module.exports = \"<div class=\\\"listItem listItemHeader\\\" ng-class=\\\"[vm.size]\\\" ng-disabled=\\\"!vm.expanded.length\\\" ng-click=\\\"vm.toggle()\\\">\\n    <div layout=\\\"row\\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"80\\\">\\n            <div layout=\\\"column\\\">\\n                <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\">\\n                    <ng-md-icon ng-if=\\\"vm.icon\\\" class=\\\"headerIcon\\\" icon=\\\"{{vm.icon}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n                    <span class=\\\"listItemHeader\\\">{{vm.title}}</span>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"20\\\">\\n            <div layout=\\\"column\\\" layout-align=\\\"center end\\\" ng-if=\\\"vm.collapsed.length\\\" flex>\\n                <ng-md-icon icon=\\\"{{vm.expanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/components/listItemHeader.html\n// module id = 109\n// module chunks = 0","import './activity-book.css';\n\nimport activityTotalTemplate from './activity-total.html';\nimport activityFormsTemplate from './activity-forms.html';\nimport activityBookingTemplate from './activity-book.html';\nimport activityBookValidators from './activity-book-validators';\n\nimport activityAdjustmentController from './activity.adjustment.controls.component.js'\n/**\n * @namespace activity-book\n */\nexport default angular.module('activity-book', ['ngMaterial', 'rx'])\n    .run(function($templateCache) {\n        $templateCache.put('activity-forms.html', activityFormsTemplate);\n        $templateCache.put('activity-book.html', activityBookingTemplate);\n        $templateCache.put('activity-total.html', activityTotalTemplate);\n    })\n    .controller('activityAdjustmentController', activityAdjustmentController)\n    .directive('ablActivityBook', ['$rootScope', '$sce', '$compile', '$mdMedia', '$mdDialog', '$mdToast', '$log', '$window', '$timeout', '$http', 'rx', 'observeOnScope', '$stateParams', '$state', function ($rootScope, $sce, $compile, $mdMedia, $mdDialog, $mdToast, $log, $window, $timeout, $http, rx, observeOnScope, $stateParams, $state) {\n        return {\n            restrict: 'E',\n            scope: {\n                book: '=',\n                activity: '=',\n                app: '='\n            },\n            template: activityBookingTemplate,\n            link: function ($scope, element, attrs) {\n                // Digest on resize to recalculate $mdMedia window size\n                function onResize() {\n                    $scope.$digest();\n                };\n                angular.element($window).on('resize', onResize);\n            },\n            controllerAs: 'vm',\n            controller: function ($scope, $element, $attrs) {\n                let vm = this;\n                this.formWasBlocked = false;\n                this.guestDetailsExpanded = true;\n                this.attendeesExpanded = false;\n                this.addonsExpanded = false;\n                this.questionsExpanded = false;\n                this.stripePaymentExpanded = false;\n                this.stripeCardIsValid = false;\n                this.paymentExpanded = false;\n                this.showPaymentForm = false;\n                this.paymentWasSent = false;\n                this.waitingForResponse = false;\n                this.validStepsForPayment = {\n                    'guest': false,\n                    'attendees': false\n                };\n\n                this.couponStatus = 'untouched';\n                this.appliedCoupon = {};\n                this.couponQuery = '';\n                this.occupancyRemaining = 0;\n\n                this.attendeeSubtotals = [];\n                this.addonSubtotals = [];\n\n                vm.taxes = [];\n                vm.taxTotal = 0;\n                vm.addons = [];\n                vm.questions = [];\n\n\n                $scope.sendConfirmationEmail = true;\n\n                //Environment is configured differently across apps so get config from the $rootScope for now\n                const config = $rootScope.config;\n                let headers = {};\n\n                //Activity dash needs no headers\n                if (!config.DASHBOARD) {\n                    headers = {\n                        'x-abl-access-key': $stateParams.merchant || 'tLVVsHUlBAweKP2ZOofhRBCFFP54hX9CfmQ9EsDlyLfN6DYHY5k8VzpuiUxjNO5L', //$stateParams.merchant || config.ABL_ACCESS_KEY,\n                        'x-abl-date': Date.parse(new Date().toISOString()),\n                        \"Content-Type\": \"application/json;charset=utf-8\"\n\n                    };\n                    //Require booking questions on consumer facing apps\n                    vm.validStepsForPayment['bookingQuestions'] = false;\n                } else {\n                    $scope.dashboard = true;\n                }\n\n\n                $log.debug('abl-activity-book $scope', $scope);\n\n\n                $scope.formatDate = function (date, format) {\n                    return window.moment(date).format(format);\n                }\n                $scope.paymentResponse = '';\n                $scope.paymentSuccessful = false;\n\n                this.goToNextStep = function(currentStepName, form) {\n                    switch (currentStepName) {\n                        case 'guestDetailsStep': //goes to attendees\n                            vm.toggleGuestDetails();\n                            vm.toggleAttendees();\n                            break;\n                        case 'attendeesStep': //goes to addons || booking || pay\n                            //$log.debug('goToNextStep:attendeesStep', vm.attendeesAdded);\n                            if (vm.countAttendeesAdded() > 0) { //validate attendees\n                                //$log.debug('attendeesStep', vm.addons.length, vm.questions);\n                                if (vm.addons.length > 0) {\n                                    vm.attendeesExpanded = false; //close current\n                                    vm.addonsExpanded = true; //close current\n                                }\n                                else if (vm.questions.length > 0) {\n                                    vm.attendeesExpanded = false; //close current\n                                    vm.questionsExpanded = true;\n                                }\n                                else {\n                                    vm.attendeesExpanded = false; //close current                                    \n                                    vm.stripePaymentExpanded = true;\n                                    if (!$scope.dashboard) {\n                                        $log.debug('no questions, goToPay');\n                                        vm.goToPay();\n                                    }\n                                }\n                            }\n                            break;\n                        case 'addonsStep': //goes to addons || booking || pay\n                            if (vm.addons && vm.addons.length > 0) { //validate addons\n                                if (vm.countAttendeesAdded()) { //if guests and attendees are valid\n                                    if (vm.questions.length > 0) { //go to questions if questions exist\n                                        vm.addonsExpanded = false;\n                                        vm.questionsExpanded = true;\n                                    }\n                                    else { //got to pay if qustions doesn't exist\n                                        vm.addonsExpanded = false;\n                                        vm.stripePaymentExpanded = true;\n                                        if (!$scope.dashboard) {\n                                            $log.debug('no questions, goToPay');\n                                            vm.goToPay();\n                                        }\n                                    }\n                                }\n                            }\n                            break;\n                        case 'paymentStep': //goes to addons || booking || pay\n                            $log.debug('goToNextStep:paymentStep', vm.isPaymentValid());\n                            if (vm.isPaymentValid()) { //if guests and attendees are valid\n                                vm.guestDetailsExpanded = false;\n                                vm.attendeesExpanded = false;\n                                vm.addonsExpanded = false;\n                                vm.questionsExpanded = false;\n                                vm.stripePaymentExpanded = true;\n                                if (!$scope.dashboard) {\n                                    vm.goToPay()\n                                }\n                            }\n                            break;\n                    }\n                }\n\n                vm.guestDetailsFormValid = false;\n\n                this.toggleGuestDetails = function () {\n                    //console.log('toggle guest details');\n                    this.guestDetailsExpanded = this.formWasBlocked ? false : !this.guestDetailsExpanded;\n                }\n\n                this.togglePayment = function() {\n                    //$log.debug('toggle payment');\n                    this.paymentExpanded = !this.paymentExpanded;\n                }\n\n                this.returnToMainPage = function() {\n\n                    if ($rootScope.config.DASHBOARD) {\n                        $mdDialog.hide();\n                        $state.reload();\n                    }\n                    else {\n                        $mdDialog.hide();\n                        $state.go('home', {\n                            merchant: $stateParams.merchant\n                        });\n                    }\n                }\n                this.pricing = {\n                    total: 0\n                };\n                this.taxTotal, this.addonTotal, this.attendeeTotal = 0;\n\n\n                $scope.bookingSucceeded = false;\n                $scope.$mdMedia = $mdMedia;\n                $scope.screenIsBig = function() {\n                    var w = angular.element($window);\n                    return w[0].innerWidth > 742;\n                }\n\n                $scope.addBookingController = $scope.$parent;\n                //$log.debug('addBookingController', $scope.addBookingController);\n\n                this.toggleQuestions = function() {\n                    //$log.debug('toggle questions');\n                    this.questionsExpanded = this.formWasBlocked ? false : !this.questionsExpanded;\n                }\n\n                this.adjustAddon = function(i, mode) {\n                    if (mode == 'up')\n                        vm.addons[i].quantity++;\n                    if (mode == 'down' && vm.addons[i].quantity > 0)\n                        vm.addons[i].quantity--;\n\n                    $scope.safeApply()\n                    $log.debug('adjust addons', vm.addons);\n                    vm.getPricingQuote();\n                }\n                //$log.debug('adjustAddon:addons', vm.addons);\n\n                this.toggleAddons = function() {\n                    //$log.debug('toggle addons');\n                    if (vm.addons.length < 1)\n                        this.questionsExpanded = this.formWasBlocked ? false : !this.questionsExpanded;\n                    else\n                        this.addonsExpanded = this.formWasBlocked ? false : !this.addonsExpanded;\n                }\n\n                this.toggleStripePay = function() {\n                    this.paymentExpanded = !this.paymentExpanded;\n                }\n\n                this.togglePay = function() {\n                    this.payButtonEnabled = !this.payButtonEnabled;\n                }\n\n                this.adjustAttendee = function(i, mode) {\n                    //Allow dashboard users to overbook\n                    if (mode == 'up' && (vm.countAttendees() > 0 || $scope.dashboard))\n                        vm.attendees[i].quantity++;\n                    if (mode == 'down' && vm.attendees[i].quantity > 0)\n                        vm.attendees[i].quantity--;\n\n                    //$log.debug('adjust attendees', vm.attendees);\n                    vm.getPricingQuote();\n                    vm.countAttendees();\n                }\n\n                this.toggleAttendees = function() {\n                    //$log.debug('toggle attendees');\n                    this.attendeesExpanded = this.formWasBlocked ? false : !this.attendeesExpanded;\n                }\n\n                this.checkAdjustAttendee = function($index) {\n                    if (!$scope.dashboard && vm.attendees[$index].quantity > vm.countAttendees()) {\n                        vm.attendees[$index].quantity = 0;\n                        vm.attendees[$index].quantity = vm.countAttendees();\n                    }\n                    if (vm.attendees[$index].quantity < 0)\n                        vm.attendees[$index].quantity = 0;\n\n                    vm.getPricingQuote();\n                    vm.countAttendees();\n                    $scope.safeApply();\n                    $log.debug('attendees added', vm.countAttendees(), vm.attendees[$index].quantity);\n                }\n\n                var data = {\n                    \"attendees\": {},\n                    \"addons\": {}\n                }\n\n                function buildQuery() {\n                    // Parse attendees\n                    angular.forEach(vm.attendees, function(e, i) {\n                        data[\"attendees\"][e._id] = [];\n                        if (e.quantity > 0) {\n                            for (var i = 0; i < e.quantity; i++) {\n                                data[\"attendees\"][e._id].push(null);\n                            }\n                        }\n                    });\n                    // Parse addons\n                    angular.forEach(vm.addons, function(e, i) {\n                        data[\"addons\"][e._id] = [];\n                        if (e.quantity > 0) {\n                            for (var i = 0; i < e.quantity; i++) {\n                                data[\"addons\"][e._id].push(null);\n                            }\n                        }\n                    });\n                    //$log.debug('pricing quote POST data', data);\n                    return data;\n                }\n\n                // Query for pricing data based on the data object used to make a booking request\n                vm.getPricingQuote = function() {\n                    var query = buildQuery();\n                    $http({\n                        method: 'POST',\n                        url: config.FEATHERS_URL + '/pricing-quotes',\n                        data: query,\n                        headers: headers\n                    }).then(function successCallback(response) {\n                        vm.pricing = response.data;\n                        vm.pricing.couponDeduction = vm.pricing.items.filter(function(item) {\n                            return item.type == 'coupon';\n                        });\n\n                        var addonsFilter = response.data.items.filter(function(item) {\n                            return item.type == 'addon';\n                        });\n                        vm.addonTotal = 0;\n                        vm.addonSubtotals = [];\n                        var addonsArray = {};\n                        angular.forEach(addonsFilter, function(addon, key) {\n                            var object = addon.type + addon.name.replace(' ', '');\n                            if (!addonsArray[object]) {\n                                addonsArray[object] = {\n                                    addons: []\n                                };\n                            }\n                            addonsArray[object].addons.push(addon);\n                        });\n                        angular.forEach(addonsArray, function(addon, key) {\n                            var obj = {\n                                name: addon.addons[0].name,\n                                price: addon.addons[0].amount || addon.addons[0].price,\n                                amount: (addon.addons[0].amount || addon.addons[0].price) * addon.addons[0].quantity,\n                                quantity: addon.addons[0].quantity\n                            };\n                            vm.addonTotal += (addon.addons[0].amount || addon.addons[0].price) * addon.addons[0].quantity;\n                            vm.addonSubtotals.push(obj);\n                        });\n\n\n                        vm.attendeeTotal = response.data.items.filter(function(item) {\n                            return item.type == \"aap\"\n                        }).reduce(function(result, att) {\n                            return result + (att.amount || att.price) * att.quantity\n                        }, 0);\n\n\n                        var aapFilter = response.data.items.filter(function(item) {\n                            return item.type == 'aap';\n                        });\n                        vm.attendeeSubtotals = [];\n                        var attendeesArray = {};\n                        angular.forEach(aapFilter, function(aap, key) {\n                            var object = aap.type + aap.name.replace(' ', '');\n                            if (!attendeesArray[object]) {\n                                attendeesArray[object] = {\n                                    aaps: []\n                                };\n                            }\n                            attendeesArray[object].aaps.push(aap);\n                        });\n                        angular.forEach(attendeesArray, function(aap, key) {\n                            var obj = {\n                                name: aap.aaps[0].name,\n                                price: aap.aaps[0].amount || aap.aaps[0].price,\n                                amount: aap.aaps[0].amount * aap.aaps[0].quantity,\n                                quantity: aap.aaps[0].quantity\n                            };\n                            vm.attendeeSubtotals.push(obj);\n                        });\n\n                        vm.taxTotal = response.data.items.filter(function(item) {\n                            return item.type == \"tax\" || item.type == \"fee\" || item.type == 'service'\n                        }).reduce(function(result, tax) {\n                            return result + ((tax.amount || tax.price) * tax.quantity)\n                        }, 0);\n\n                        $log.debug('getPricingQuotes', response);\n                        $log.debug('attendeeSubtotal', vm.attendeeSubtotals);\n                        $log.debug('taxTotal', vm.taxTotal);\n                    }, function errorCallback(response) {\n                        vm.pricing = {};\n                        vm.taxTotal = 0;\n                        $mdToast.show(\n                            $mdToast.simple()\n                            .textContent(response.data.errors[0])\n                            .position('left bottom')\n                            .hideDelay(3000)\n                        );\n                        //$log.debug('getPricingQuotes error!', response, vm.pricing);\n                    });\n                }\n\n                //Query for possible coupons partially matching the vm.couponQuery search string\n                vm.getPossibleCoupons = function() {\n                    $http({\n                        method: 'GET',\n                        url: config.FEATHERS_URL + '/coupons?bookingId=' + vm.couponQuery,\n                        headers: headers\n                    }).then(function successCallback(response) {\n                        vm.possibleCoupons = response.data;\n                        $log.debug('getPossibleCoupons success', response);\n                    }, function errorCallback(response) {\n                        vm.possibleCoupons = [];\n                        // vm.taxTotal = 0;\n                        //$log.debug('getPossibleCoupons error!', response);\n                    });\n                }\n\n                vm.clients = [];\n                observeOnScope($scope, 'vm.formData.fullName')\n                    .map(function(data) {\n                        return data;\n                    })\n                    .subscribe(function(change) {\n                        $log.debug('clientSearchText ', change.newValue);\n                        if ($scope.dashboard) {\n                            vm.clients = $http({\n                                method: 'GET',\n                                url: config.FEATHERS_URL + '/clients?fullName=' + change.newValue,\n                                headers: headers\n                            }).then(function successCallback(response) {\n                                $log.debug('clientSearch success', response);\n                                return response.data.list;\n                            }, function errorCallback(response) {\n                                $log.debug('clientSearch error!', response);\n                                return [];\n                            });\n                        }\n                    });\n\n                vm.selectedClientChange = function(client) {\n                    if (client) {\n                        vm.formData.fullName = client.primaryContact.fullName || '';\n                        vm.formData.mail = client.primaryContact.email || '';\n                        vm.formData.phoneNumber = client.primaryContact.phoneNumber || '';\n                        $log.debug('selectedClientChange', client);\n                    }\n                }\n\n                $scope.autocomplete = {};\n                vm.couponStatus = 'untouched';\n\n                $scope.autocomplete.searchTextChange = function searchTextChange(text) {\n                    $log.debug(\"SEARCH TEXT\", text);\n                }\n                $scope.autocomplete.selectedItemChange = function selectedItemChange(item) {\n                    $log.debug('applied coupon', item);\n\n                    if (item) {\n                        vm.appliedCoupon = item;\n                        data['couponId'] = item['couponId'];\n                        vm.validateCoupon(vm.appliedCoupon);\n                        vm.couponStatus = 'valid';\n                        vm.getPricingQuote();\n                        vm.checkingCoupon = false;\n                    }\n                    else {\n                        vm.appliedCoupon = undefined;\n                        vm.couponStatus = 'untouched';\n                        if (data['couponId'])\n                            delete data['couponId'];\n                    }\n                }\n\n                $scope.autocomplete.querySearch = function querySearch(text) {\n                    if ($scope.dashboard) {\n                        text = text.toUpperCase();\n                        return $http({\n                            method: 'GET',\n                            url: config.FEATHERS_URL + '/coupons?couponId=' + text,\n                            headers: headers\n                        }).then(function successCallback(response) {\n                            return response.data.list;\n                            $log.debug('getPossibleCoupons success', response.data.list);\n                        }, function errorCallback(response) {\n                            return [];\n                            $log.debug('getPossibleCoupons error!', response);\n                        });\n                    }\n\n                }\n\n                // Check whether the vm.couponQuery search string exists as a coupon, if successful,\n                // add the coupon id to the make booking request object as the 'coupon' property\n                vm.checkCoupon = function() {\n                    vm.checkingCoupon = true;\n                    //$log.debug('check coupon', vm.couponQuery);\n                    $http({\n                        method: 'GET',\n                        url: config.FEATHERS_URL + '/coupons/' + vm.couponQuery,\n                        headers: headers\n                    }).then(function successCallback(response) {\n                        $log.debug('checkCoupon success', response);\n                        data['couponId'] = response.data['couponId'];\n                        vm.appliedCoupon = response.data;\n                        $log.debug('applied coupon', vm.appliedCoupon);\n                        vm.validateCoupon(vm.appliedCoupon);\n                        vm.couponStatus = 'valid';\n                        vm.getPricingQuote();\n                        vm.checkingCoupon = false;\n\n                    }, function errorCallback(response) {\n                        delete data['couponId'];\n                        vm.couponStatus = 'invalid';\n                        vm.appliedCoupon = {};\n                        vm.checkingCoupon = false;\n\n                        //$log.debug('checkCoupon error!', response);\n                    });\n                }\n\n                vm.removeCoupon = function() {\n                    vm.couponQuery = '';\n                    delete data['couponId'];\n                    $scope.autocomplete.selectedItem = undefined;\n                    vm.couponStatus = 'untouched';\n                    vm.appliedCoupon = {};\n                    vm.getPricingQuote();\n                }\n\n                const moment = window.moment;\n\n                vm.validateCoupon = function(coupon) {\n                    const today = moment();\n                    //$log.debug('coupon expires after today', moment(coupon.endTime).isAfter(moment()));\n                    //Coupon is not expired and is infinitely redeemable\n                    if (moment(coupon.endTime).isAfter(moment()) && coupon.maxRedemptions == 0)\n                        return true;\n                    //Coupon is not expired and has been redeemed less than the maximum allowable redemptions\n                    if (coupon.maxRedemptions > 0 && moment(coupon.endTime).isAfter(moment()) && coupon.maxRedemptions - coupon.redemptions >= 0)\n                        return true;\n                    //Coupon is expired or has been redeemed too many times \n                    vm.couponStatus = 'invalid';\n                    return false;\n                }\n\n                vm.bookingQuestionsCompleted = function() {\n                    var completed = 0;\n                    if (vm.bookingQuestions) {\n                        angular.forEach(vm.bookingQuestions, function(e, i) {\n                            if (e.length > 0)\n                                completed++;\n                        });\n                    }\n                    else {\n                        completed = 0;\n                    }\n                    //$log.debug('vm.bookingQuestions', vm.bookingQuestions, completed);\n                    return completed;\n                }\n                //Observe and debounce an object on the $scope, can be used on \n                //a search input for example to wait before auto-sending the value\n                observeOnScope($scope, 'vm.couponQuery')\n                    .debounce(500)\n                    .select(function(response) {\n                        return response;\n                    })\n                    .subscribe(function(change) {\n                        //$log.debug('search value', change);\n                        if (vm.couponQuery.length > 0)\n                            vm.checkCoupon();\n                    });\n\n                activityBookValidators(vm, rx, $http, $stateParams);\n\n                $scope.$watch('addBookingController.activity', function(changes) {\n                    $log.debug('addBookingController.activity', changes);\n                    if (angular.isDefined($scope.addBookingController.activity)) {\n                        //Get booking questions\n                        vm.questions = $scope.addBookingController.activity.questions || [];\n                        if (!vm.questions) {\n                            delete vm.validStepsForPayment.bookingQuestions;\n                        }\n                        //$log.debug('booking questions', vm.questions);\n\n                        vm.addons = $scope.addBookingController.activity.charges.filter(function(charge) {\n                            return charge.type == 'addon' && charge.status == 'active';\n                        });\n                        if (!vm.addons) {\n                            delete vm.validStepsForPayment.addons;\n                        }\n                        vm.addons.forEach(function(e, i) {\n                            if (!angular.isDefined(e.quantity))\n                                e.quantity = 0;\n                        });\n\n                        vm.taxes = $scope.addBookingController.activity.charges.filter(function(charge) {\n                            return charge.type == 'tax';\n                        });\n                        $scope.safeApply();\n                        //$log.debug('taxes', vm.taxes);\n\n                    }\n                }, true);\n\n                $scope.$watch('addBookingController.timeslot', function(changes) {\n                    if (angular.isDefined($scope.addBookingController.timeslot)) {\n                        $log.debug('addBookingController.timeslot', $scope.addBookingController.timeslot);\n\n                        if (angular.isDefined($scope.addBookingController.timeslot.charges)) {\n                            vm.attendees = $scope.addBookingController.timeslot.charges.filter(function(charge) {\n                                return charge.type == 'aap' && charge.status == 'active';\n                            });\n                            vm.attendees.forEach(function(e, i) {\n                                if (!angular.isDefined(e.quantity))\n                                    e.quantity = 0;\n                            });\n                        }\n                        data['timeSlotId'] = $scope.addBookingController.timeslot._id;\n                        data['startTime'] = $scope.addBookingController.timeslot.startTime;\n\n                    }\n                }, true);\n\n                vm.countAttendees = function() {\n                    // $log.debug('count attendees', $scope.addBookingController.event.maxOcc, attendeesAdded);\n                    if ($scope.addBookingController.event) {\n                        $log.debug('addBookingController.event', $scope.addBookingController.event);\n                        if (vm.attendees) {\n                            return ($scope.addBookingController.event.maxOcc ? $scope.addBookingController.event.maxOcc : $scope.addBookingController.timeslot.maxOcc) - vm.attendees.map(function(att) {\n                                return att.quantity;\n                            }).reduce((a, b) => a + b, 0) - $scope.addBookingController.event.attendees;\n                        }\n                        else {\n                            return 0;\n                        }\n                    }\n                    return 0;\n\n                }\n\n                vm.countAttendeesAdded = function() {\n                    var attendeesAdded = 0;\n                    if ($scope.addBookingController.event) {\n                        if (vm.attendees) {\n                            attendeesAdded = vm.attendees.map(function(att) {\n                                return att.quantity;\n                            }).reduce((a, b) => a + b, 0);\n                        }\n                    }\n                    // $log.debug('countAttendeesAdded', attendeesAdded);\n                    return attendeesAdded;\n                }\n\n                vm.countAddonsAdded = function() {\n                    if ($scope.addBookingController.event) {\n                        if (vm.addons) {\n                            return vm.addons.map(function(add) {\n                                return add.quantity;\n                            }).reduce((a, b) => a + b, 0);\n                        }\n                        else {\n                            return 0;\n                        }\n                    }\n                    return 0;\n                }\n\n                vm.addonsChanged = function() {\n                    $scope.safeApply();\n                    $log.debug('addonsChanged');\n                    $timeout(function() {\n                        vm.getPricingQuote();\n                    }, 0);\n                }\n\n                this.areGuestDetailsValid = function(form) {\n                    if (form) {\n                        vm.guestDetailsAreValid = form.$valid;\n                        vm.validStepsForPayment.guest = vm.guestDetailsAreValid;\n                    }\n                    else {\n                        vm.guestDetailsAreValid = false;\n                    }\n                    return vm.guestDetailsAreValid;\n                }\n\n                this.areAttendeesValid = function() {\n                    vm.validStepsForPayment.attendees = vm.countAttendeesAdded() === 0 ? false : true;\n                    return vm.countAttendeesAdded() === 0 ? false : true;\n                }\n\n                this.areAddonsValid = function() {\n                    if (vm.validStepsForPayment.addons != null) {\n                        vm.validStepsForPayment.addons = true;\n                    }\n                    return vm.countAddonsAdded() === 0 ? false : true;\n                }\n\n                this.areBookingQuestionsValid = function() {\n                    if (vm.validStepsForPayment.bookingQuestions != null) {\n                        vm.validStepsForPayment.bookingQuestions = (vm.bookingQuestionsCompleted() === vm.questions.length ? true : false);\n                    }\n                    $log.debug('areBookingQuestionsValid ', vm.validStepsForPayment.bookingQuestions)\n\n                    return vm.validStepsForPayment.bookingQuestions;\n                }\n\n                this.isPaymentValid = function() {\n                    var isValid = [];\n                    angular.forEach(vm.validStepsForPayment, function(step, key) {\n                        if (!step) {\n                            isValid.push(step);\n                        }\n                    });\n                    return isValid.length > 0 ? false : true;\n                }\n\n                this.isNextStepPayment = function(step) {\n                    if (step === 'attendees') {\n                        if (vm.addons || vm.questions) {\n                            return vm.addons || vm.questions ? true : false;\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                    if (step === 'addons') {\n                        if (vm.questions) {\n                            return vm.questions ? true : false;\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                    if (step === 'payment') {\n                        return true;\n                    }\n                }\n\n                vm.paymentMethod = 'credit';\n                vm.bookingQuestions = [];\n                vm.getBookingData = function() {\n                    const bookingData = angular.copy(data);\n                    if (vm.paymentMethod == 'reserved')\n                        bookingData['amount'] = 0;\n                    bookingData['eventInstanceId'] = $scope.addBookingController.event['eventInstanceId'] || $scope.addBookingController.event;\n                    bookingData['answers'] = {};\n\n                    bookingData['sendConfirmationEmail'] = $scope.sendConfirmationEmail;\n                    bookingData['skipConfirmation'] = !$scope.sendConfirmationEmail;\n\n                    bookingData['email'] = vm.formData['mail'];\n                    bookingData['phoneNumber'] = vm.formData['phoneNumber'];\n                    bookingData['fullName'] = vm.formData['fullName'];\n                    bookingData['notes'] = vm.formData['notes'];\n                    bookingData['skipConfirmation'] = false;\n                    bookingData['operator'] = $scope.addBookingController.event.operator || $scope.addBookingController.event.organizations[0] || $scope.addBookingController.activity.operator || $scope.addBookingController.activity.organizations[0];\n                    angular.forEach(vm.questions, function (e, i) {\n                        $log.debug('vm.questions', vm.questions);\n                        $log.debug('vm.bookingQuestions', vm.bookingQuestions);\n                        bookingData['answers'][e._id ? e._id : e] = vm.bookingQuestions[i];\n                    });\n\n                    if (vm.paymentMethod != 'reserved')\n                        bookingData['paymentMethod'] = vm.paymentMethod;\n                    else\n                        bookingData['paymentMethod'] = 'cash';\n\n                    if (vm.paymentMethod == 'reserved') {\n                        bookingData['amount'] = 0;\n                    }\n                    bookingData['currency'] = 'default';\n\n                    return bookingData;\n                }\n\n                vm.outputBookingData = function() {\n                    $log.debug(vm.getBookingData());\n                }\n\n                $scope.safeApply = function(fn) {\n                    var phase = this.$root.$$phase;\n                    if (phase == '$apply' || phase == '$digest') {\n                        if (fn && (typeof(fn) === 'function')) {\n                            fn();\n                        }\n                    }\n                    else {\n                        this.$apply(fn);\n                    }\n                };\n\n                //Must use stripe v3 <script src=\"https://js.stripe.com/v3/\"></script>\n                function initStripe(publicKey) {\n                    // Create a Stripe client\n                    var Stripe = window.Stripe;\n                    var stripe = Stripe(publicKey);\n                    $log.debug(publicKey);\n                    // Create an instance of Elements\n                    var elements = stripe.elements();\n                    // Custom styling can be passed to options when creating an Element.\n                    // (Note that this demo uses a wider set of styles than the guide below.)\n                    var style = {\n                        base: {\n                            color: '#32325d',\n                            lineHeight: '24px',\n                            fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n                            fontSmoothing: 'antialiased',\n                            fontSize: '12px',\n                            '::placeholder': {\n                                color: '#88929c'\n                            }\n                        },\n                        invalid: {\n                            color: '#fa755a',\n                            iconColor: '#fa755a'\n                        }\n                    };\n                    // Create an instance of the card Element\n                    var card = elements.create('card', {\n                        style: style\n                    });\n                    // Add an instance of the card Element into the `card-element` <div>\n                    card.mount('#card-element');\n\n                    var stripeTokenHandler = function(token) {\n                        var errorElement = document.getElementById('card-errors');\n                        errorElement.textContent = '';\n                        var idempotencyKey = (Math.random() + 1).toString(36).substring(7);\n                        var bookingData = vm.getBookingData();\n                        bookingData.stripeToken = token.id;\n                        bookingData.idempotencyKey = idempotencyKey;\n                        bookingData.location = {};\n                        bookingData.isMobile = false;\n                        vm.paymentWasSent = true;\n                        $http({\n                            method: 'POST',\n                            url: config.FEATHERS_URL + '/bookings',\n                            data: bookingData,\n                            headers: headers\n                        }).then(function successCallback(response) {\n                            $log.debug('stripeTokenHandler booking success', response);\n                            $scope.bookingSuccessResponse = response;\n                            vm.waitingForResponse = false;\n                            $rootScope.$emit('paymentResponse');\n                            validatePayment(response);\n                        }, function errorCallback(response) {\n                            var errorElement = document.getElementById('card-errors');\n                            errorElement.textContent = response.data.errors[0];\n                            vm.paymentWasSent = false;\n                            vm.waitingForResponse = false;\n                            $rootScope.$emit('paymentResponse');\n                        });\n                    }\n\n\n\n                    vm.submitNonCreditCardBooking = function () {\n                        var bookingData = vm.getBookingData();\n                        if (bookingData.stripeToken) delete bookingData.stripeToken;\n                        bookingData.location = {};\n                        bookingData.isMobile = false;\n                        vm.paymentWasSent = true;\n                        $scope.bookingSuccessResponse = 'processing';\n                        // $scope.makeBooking(bookingData)\n                        $http({\n                            method: 'POST',\n                            url: config.FEATHERS_URL + '/bookings',\n                            data: bookingData,\n                            headers: headers\n                        }).then(function successCallback(response) {\n                            $log.debug('submitNonCreditCardBooking success', response);\n                            $scope.bookingSuccessResponse = response;\n                            vm.waitingForResponse = false;\n                            $rootScope.$emit('paymentResponse');\n                            validatePayment(response);\n                        }, function errorCallback(response) {\n                            var errorElement = document.getElementById('card-errors');\n                            errorElement.textContent = response.data.errors[0];\n                            vm.paymentWasSent = false;\n                            $rootScope.$emit('paymentResponse');\n                            vm.waitingForResponse = false;\n                        });\n                    }\n\n\n                    vm.goToPay = function () {\n                        vm.guestDetailsExpanded = false;\n                        vm.attendeesExpanded = false;\n                        vm.addonsExpanded = false;\n                        vm.questionsExpanded = false;\n\n                        vm.showPaymentForm = true;\n                        vm.stripePaymentExpanded = true;\n\n                        vm.paymentWasSent = true;\n                        this.formWasBlocked = true;\n                        $scope.bookingSuccessResponse = 'processing';\n                        $scope.safeApply();\n                        $scope.makeBooking();\n                    }\n\n                    $scope.makeBooking = function(data) {\n                        vm.paymentExpanded = true;\n                        vm.loadingIframe = true;\n\n                        var bookingData = vm.getBookingData();\n\n\n                        $scope.bookingResponse = $http({\n                            method: 'POST',\n                            url: config.FEATHERS_URL + '/bookings',\n                            data: bookingData,\n                            headers: headers\n                            // headers: {\n                            //     \"Content-Type\": \"application/json;charset=utf-8\"\n                            // }\n                        }).then(function successCallback(response) {\n                            $log.debug('makeBooking success', response);\n                            vm.loadingIframe = false;\n                            $scope.paymentSuccessful = false;\n                            $scope.bookingSuccessResponse = response;\n                            var iframeDoc = document.getElementById(\"paymentIframe\").contentWindow.document;\n                            iframeDoc.open();\n                            iframeDoc.write(response.data.iframeHtml);\n                            iframeDoc.close();\n                            $scope.bookingSucceeded = true;\n\n\n\n                        }, function errorCallback(response) {\n                            $mdDialog.hide();\n                            vm.loadingIframe = false;\n                            vm.paymentExpanded = false;\n                            $scope.bookingSucceeded = false;\n                            $mdToast.show(\n                                $mdToast.simple()\n                                .textContent(response.data.errors[0])\n                                .position('left bottom')\n                                .hideDelay(3000)\n                            );\n                            $log.debug('makeBooking error!', response);\n                        });\n                    }\n\n                    function validatePayment(response) {\n                        if (response.status === 200) {\n                            $scope.paymentResponse = 'success'; //processing, failed\n                            $scope.paymentSuccessful = true;\n                            $scope.safeApply();\n                        }\n                        $scope.bookingSuccessResponse = response;\n\n                        $scope.$emit('paymentResponse', response);\n                        console.log('paymentResponse', response);\n                        // $mdToast.show(\n                        //     $mdToast.simple()\n                        //     .textContent('UNTRUSTED ORIGIN')\n                        //     .position('left bottom')\n                        //     .hideDelay(3000)\n                        // );\n                    }\n\n                    // Create a token or display an error the form is submitted.\n                    var form = document.getElementById('payment-form');\n\n                    card.addEventListener('change', function(event) {\n                        if (typeof event.error === 'undefined' && event.brand != 'unknown') {\n                            vm.stripeCardIsValid = true;\n                        }\n                        else {\n                            vm.stripeCardIsValid = false;\n                        }\n                        $scope.safeApply();\n                    });\n\n                    form.addEventListener('submit', function(event) {\n                        if (vm.paymentMethod != 'credit') {\n                            vm.submitNonCreditCardBooking();\n                        }\n                        else {\n                            event.preventDefault();\n                            vm.waitingForResponse = true;\n                            stripe.createToken(card).then(function(result) {\n                                if (result.error) {\n                                    // Inform the user if there was an error\n                                    var errorElement = document.getElementById('card-errors');\n                                    errorElement.textContent = result.error.message;\n                                    vm.waitingForResponse = false;\n                                }\n                                else {\n                                    // Send the token to your server\n                                    stripeTokenHandler(result.token);\n                                }\n                                $scope.safeApply();\n                            });\n                        }\n                    });\n                }\n\n                function makeStripeBooking() {\n                    $http({\n                        method: 'GET',\n                        url: config.FEATHERS_URL + '/payments/setup',\n                        data: {\n                            operator: $stateParams.merchant || config.ABL_ACCESS_KEY\n                        },\n                        headers: headers\n                    }).then(function successCallback(response) {\n                        $log.debug('makeStripeBooking ', response);\n                        initStripe(response.data.publicKey);\n                    }, function errorCallback(response) {\n                        var errorElement = document.getElementById('card-errors');\n                        errorElement.textContent = response.error.message;\n                    }).catch(function(err) {\n                        $log.debug('makeStripeBooking error', err);\n                    });\n                }\n\n                makeStripeBooking();\n\n                var lpad = function(numberStr, padString, length) {\n                    while (numberStr.length < length) {\n                        numberStr = padString + numberStr;\n                    }\n                    return numberStr;\n                };\n\n\n                var paymentMessageHandler;\n                paymentMessageHandler = function(event) {\n                    // if (event.origin == \"https://calendar.ablist.win\") { // TODO add to config\n                    //     $log.debug(\"TRUSTED ORIGIN\", event.origin);\n                    $log.debug(\"DATA\", event.data);\n                    if (event.data == \"payment_complete\" || event.data.type == \"payment_success\") {\n                        $log.debug(\"PAYMENT COMPLETE\");\n                        $scope.paymentResponse = 'success'; //processing, failed\n                        //   $rootScope.showToast('Payment processed successfully.');\n                        $rootScope.$broadcast('paymentWithResponse', { response: event.data });\n\n                        window.removeEventListener(\"message\", paymentMessageHandler);\n                        $scope.paymentSuccessful = true;\n                        //   $scope.changeState('bookings'); //Go to bookings view if successful\n                        $scope.safeApply();\n                        //$mdDialog.hide();\n                    }\n                    else {\n                        if (event.data.type === 'payment_error')\n                            $rootScope.showToast(event.data.message, 'errorToast');\n                        $scope.paymentSuccessful = false;\n                        $scope.paymentResponse = ''; //processing, failed\n                        vm.showPaymentForm = false;\n                        $scope.safeApply();\n                    }\n                };\n\n                $log.debug(\"Adding Payment Message Event Listener\");\n                window.addEventListener(\"message\", paymentMessageHandler);\n\n                $scope.safeApply = function(fn) {\n                    var phase = this.$root.$$phase;\n                    if (phase == '$apply' || phase == '$digest') {\n                        if (fn && (typeof(fn) === 'function')) {\n                            fn();\n                        }\n                    }\n                    else {\n                        this.$apply(fn);\n                    }\n                };\n\n\n\n\n                var lpad = function (numberStr, padString, length) {\n                    while (numberStr.length < length) {\n                        numberStr = padString + numberStr;\n                    }\n                    return numberStr;\n                };\n\n                $scope.showPayzenDialog = function(ev) {\n                    $log.debug(\"SHOW PAYZEN DIALOG\");\n                    vm.paymentExpanded = true;\n                    vm.showPaymentForm = true;\n\n                    $scope.paymentSuccessful = false;\n                };\n\n                //Merge identical items from an array into nested objects, \n                //summing their amount properties and keeping track of quantities\n                function mergeIdenticalArrayItemsIntoObject(data, oldObject) {\n                    var seen = oldObject;\n                    //$log.debug('mergeIdenticalArrayItemsIntoObject:data', data);\n                    angular.forEach(data, function(e, i) {\n                        // Have we seen this item before?\n                        //$log.debug('mergeIdenticalArrayItemsIntoObject', seen, e, seen.hasOwnProperty(e.name));\n                        if (seen.hasOwnProperty(e.name) && seen[e.name] === e.name) {\n                            seen[e['name']]['price'] = e['price']; //Sum their prices\n                            seen[e['name']]['quantity'] += 1; //Increment their quantity\n                            seen[e['name']]['amount'] = seen[e['name']]['amount'] * seen[e['name']]['quantity']; //Sum their prices\n                            //$log.debug('merged', seen[e['name']]);\n                        }\n                        else {\n                            seen[e['name']] = {};\n                            seen[e['name']]['name'] = e['name'];\n                            seen[e['name']]['price'] = e['price'];\n                            seen[e['name']]['quantity'] = 1;\n                            seen[e['name']]['amount'] = e['amount'];\n                        }\n                    });\n                    //$log.debug('mergeIdenticalArrayItems', seen);\n                    return seen;\n                }\n            }\n        };\n    }]);\n\n\n\n// WEBPACK FOOTER //\n// ./src/activity/activity-book.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./activity-book.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./activity-book.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./activity-book.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-book.css\n// module id = 111\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#paymentIframe {\\n    margin: 0;\\n    padding: 8px 8px;\\n    border: none;\\n    min-height: 234px;\\n    height: 100%;\\n    overflow-y: hidden;\\n    width: 100%;\\n}\\n\\nabl-activity-book md-card {\\n    box-shadow: none !important;\\n    border: none !important;\\n    background: transparent;\\n}\\n\\n.inputBottomMargin {\\n    margin-bottom: 42px !important;\\n}\\n\\n.transparent {\\n    background-color: transparent !important;\\n}\\n\\nlist-item{\\n    display: block !important;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/activity/activity-book.css\n// module id = 112\n// module chunks = 0","module.exports = \"<md-card class=\\\"paymentSummaryCard\\\" ng-show=\\\"paymentResponse != 'success'\\\">\\n  <md-list flex>\\n\\n    <md-list-item class=\\\"lineItemHeader \\\" ng-if=\\\"vm.base \\\" ng-click=\\\"null\\\">\\n      <div class=\\\"md-list-item-text  \\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row \\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <p class=\\\" \\\">Base Price </p>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <p class=\\\" \\\">{{vm.base() / 100}} CFP</p>\\n        </div>\\n      </div>\\n    </md-list-item>\\n\\n    <!--Coupons-->\\n\\n    <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" ng-disabled=\\\"detailsForm.$invalid\\\" ng-show=\\\"vm.couponStatus == 'valid'\\\">\\n      <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n          <!-- <ng-md-icon class=\\\"headerIcon\\\" icon=\\\"local_offer\\\" class=\\\"listIcon\\\" ng-if=\\\"vm.couponStatus !='valid'\\\"></ng-md-icon> -->\\n          <div layout=\\\"column\\\" layout-align=\\\"center start\\\">\\n            <ng-md-icon icon=\\\"clear\\\" class=\\\"listIcon remove-coupon\\\" ng-click=\\\"vm.removeCoupon();\\\" ng-if=\\\"vm.couponStatus =='valid'\\\"></ng-md-icon>\\n          </div>\\n          <span class=\\\"couponText total\\\" flex>{{vm.appliedCoupon.couponId}} - {{vm.appliedCoupon.percentage ? '' : '$'}}{{vm.appliedCoupon.percentage ? vm.appliedCoupon.amount : (vm.appliedCoupon.amount / 100)}}{{vm.appliedCoupon.percentage ? '%' : ''}} Off</span>\\n\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\">\\n          <span class=\\\"couponTextTotal\\\" ng-if=\\\"vm.pricing.couponDeduction[0]\\\">-${{(-1 * vm.pricing.couponDeduction[0].price / 100) | number : 2}}</span>\\n          <md-progress-circular md-mode=\\\"indeterminate\\\" ng-show=\\\"vm.checkingCoupon && vm.couponQuery.length > 0\\\" class=\\\"listItemCircularProgress easeIn\\\"\\n            md-diameter=\\\"24px\\\">\\n          </md-progress-circular>\\n        </div>\\n      </div>\\n    </md-list-item>\\n    <list-item size=\\\"lg\\\" class=\\\"listItemAutocomplete\\\" ng-show=\\\"vm.couponStatus == 'untouched' || vm.couponStatus =='invalid'\\\">\\n      <md-autocomplete md-selected-item=\\\"autocomplete.selectedItem\\\" md-search-text-change=\\\"autocomplete.searchTextChange(autocomplete.searchText)\\\"\\n        md-search-text=\\\"autocomplete.searchText\\\" md-no-cache=\\\"true\\\" md-selected-item-change=\\\"autocomplete.selectedItemChange(item)\\\"\\n        md-items=\\\"item in autocomplete.querySearch(autocomplete.searchText)\\\" md-item-text=\\\"item.couponId\\\" md-min-length=\\\"0\\\"\\n        placeholder=\\\"{{dashboard ? 'Search coupons..' : 'Enter a coupon..'}}\\\" class=\\\"listItem\\\" ng-if=\\\"dashboard\\\">\\n        <md-item-template>\\n          <span md-highlight-text=\\\"ctrl.searchText\\\" md-highlight-flags=\\\"^i\\\">{{item.couponId}}</span>\\n          <span>{{item.percentage ? \\\"\\\" : \\\"$\\\"}}{{item.percentage ? item.amount : (item.amount / 100)}}{{item.percentage ? \\\"%\\\" : \\\"\\\"}}</span>\\n        </md-item-template>\\n        <md-not-found>\\n          No coupons found{{autocomplete.searchText.length > 0 ? (' matching \\\"' + autocomplete.searchText + '\\\".') : '.'}}\\n        </md-not-found>\\n      </md-autocomplete>\\n      <span class=\\\"paymentSubTitle total\\\">\\n        <input id=\\\"#coupon\\\" ng-model=\\\"vm.couponQuery\\\" type=\\\"text\\\" class=\\\"couponInput\\\" ng-if=\\\"(vm.couponStatus =='untouched' || vm.couponStatus =='invalid') && !dashboard\\\" ng-change=\\\"vm.checkingCoupon = true\\\" placeholder=\\\"Enter coupon..\\\" to-uppercase/>\\n        </span>\\n    </list-item>\\n    <md-list-item ng-show=\\\"vm.couponStatus =='invalid' && vm.couponQuery.length > 0 && !vm.checkingCoupon\\\" class=\\\"paymentHeader md-2-line md-primary easeIn\\\"\\n      ng-if=\\\"!dashboard\\\">\\n      <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n          <ng-md-icon class=\\\"headerIcon\\\" icon=\\\"error_outline\\\" class=\\\"listIcon\\\" ng-if=\\\"vm.couponStatus !='valid'\\\" style=\\\"fill: rgba(255,87,87,0.8)\\\"></ng-md-icon>\\n          <span class=\\\"paymentSubTitle total\\\">\\n            Invalid Coupon\\n          </span>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n          <ng-md-icon icon=\\\"clear\\\" class=\\\"listIcon\\\" ng-click=\\\"vm.couponQuery = '';\\\"></ng-md-icon>\\n        </div>\\n      </div>\\n    </md-list-item>\\n\\n    <div ng-if=\\\"vm.attendeeTotal > 0\\\">\\n      <div class=\\\"md-list-item-text subtotalLineItem\\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"total\\\">Attendees </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"activityTotal\\\">${{vm.attendeeTotal / 100 | number:2}}</span>\\n        </div>\\n      </div>\\n\\n      <div ng-repeat=\\\"(key, value) in vm.attendeeSubtotals\\\" layout=\\\"row\\\" flex class=\\\"subtotalLineItem subtotalLineItemSmall\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\">\\n          {{value.quantity}} x {{value.name}} @ ${{value.price/100}} each\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"50\\\">\\n          ${{value.amount / 100 | number:2}}\\n        </div>\\n      </div>\\n    </div>\\n    <div ng-if=\\\"vm.addonTotal > 0\\\">\\n      <div class=\\\"md-list-item-text subtotalLineItem\\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"total\\\">Add-ons </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"activityTotal\\\">${{vm.addonTotal / 100 | number:2}}</span>\\n        </div>\\n      </div>\\n\\n      <div ng-repeat=\\\"addon in vm.addonSubtotals\\\" layout=\\\"row\\\" flex class=\\\"subtotalLineItem subtotalLineItemSmall\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\">\\n          {{addon.quantity}} x {{addon.name}} @ ${{addon.price/100}} each\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"50\\\">\\n          ${{addon.amount / 100 | number:2}}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div ng-if=\\\"vm.taxTotal > 0\\\">\\n      <div class=\\\"md-list-item-text subtotalLineItem\\\" layout=\\\"row \\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"total\\\">Taxes and Fees </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"activityTotal\\\">${{vm.taxTotal / 100 | number:2}}</span>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div>\\n      <div class=\\\"md-list-item-text subtotalLineItem bottomTotal\\\" layout=\\\"row \\\" layout-align=\\\"space-between center \\\" flex>\\n        <div layout=\\\"row \\\" layout-align=\\\"start center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"\\\">Total </span>\\n        </div>\\n        <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n          <span class=\\\"\\\">${{(vm.pricing.total || 0) / 100  | number:2}}</span>\\n        </div>\\n      </div>\\n    </div>\\n  </md-list>\\n</md-card>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-total.html\n// module id = 113\n// module chunks = 0","module.exports = \"<div ng-if=\\\"paymentResponse != 'success' || !vm.showPaymentForm\\\">\\n  <div class=\\\"activityPaymentSummaryCard\\\" layout=\\\"column\\\" after-render>\\n    <!-- Guest Details -->\\n    <list-item size=\\\"lg\\\" class=\\\"listItemHeader\\\" ng-click=\\\"vm.toggleGuestDetails()\\\" ng-disabled=\\\"!vm.guestDetailsAreValid\\\" layout=\\\"column\\\">\\n      <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <ng-md-icon icon=\\\"filter_1\\\" class=\\\"listIcon listItemHeaderIcon\\\"></ng-md-icon>\\n        <span class=\\\"paymentSubTitle\\\" flex>Guest Details</span>\\n      </div>\\n      <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center end\\\">\\n          <ng-md-icon icon=\\\"{{vm.guestDetailsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n        </div>\\n      </div>\\n    </list-item>\\n\\n    <div ng-show=\\\"vm.guestDetailsExpanded\\\" layout=\\\"column\\\">\\n      <list-item ng-if=\\\"dashboard\\\">\\n        <md-checkbox ng-model=\\\"sendConfirmationEmail\\\" class=\\\"listItemCheckbox\\\">Send confirmation e-mail to client</md-checkbox>\\n      </list-item>\\n      <form name=\\\"guestDetailsForm\\\" novalidate>\\n        <div>\\n          <md-input-container class=\\\"md-block listItemInputContainer inputBottomMargin\\\" ng-if=\\\"!dashboard\\\">\\n            <label>Full Name</label>\\n            <input name=\\\"fullName\\\" ng-model=\\\"vm.formData.fullName\\\" required type=\\\"text\\\" md-maxlength=\\\"100\\\" ng-minlength=\\\"3\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.fullName.$error\\\">\\n              <div ng-message=\\\"required\\\">This is required.</div>\\n              <div ng-message=\\\"minlength\\\">The name must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The name must be less than 100 characters long.</div>\\n            </div>\\n          </md-input-container>\\n\\n\\n          <md-autocomplete ng-if=\\\"dashboard\\\" required md-input-name=\\\"autocompleteField\\\" md-input-minlength=\\\"3\\\" md-input-maxlength=\\\"100\\\"\\n            md-no-cache=\\\"true\\\" md-delay=\\\"250\\\" md-selected-item=\\\"vm.clientSearchSelectedItem\\\" md-search-text=\\\"vm.formData.fullName\\\"\\n            md-items=\\\"item in vm.clients\\\" md-item-text=\\\"item.primaryContact.fullName\\\" md-floating-label=\\\"Full Name\\\" md-selected-item-change=\\\"vm.selectedClientChange(item)\\\"\\n            class=\\\"md-block listItemInputContainer\\\" md-menu-class=\\\"autocomplete-custom-template\\\" md-min-length=\\\"2\\\">\\n            <md-item-template>\\n              <span class=\\\"item-title\\\">\\n                  <ng-md-icon icon=\\\"person\\\" class=\\\"listItemHeaderIcon sm\\\"></ng-md-icon>\\n                  <span> {{item.primaryContact.fullName}} </span>\\n              </span>\\n              <span class=\\\"item-metadata\\\">\\n                  <span>\\n                      <ng-md-icon icon=\\\"email\\\" class=\\\"listItemHeaderIcon sm\\\" md-colors=\\\"{fill: 'blue-grey-A200'}\\\"></ng-md-icon>\\n                      \\n                    {{item.primaryContact.email}}\\n                  </span>\\n              <!-- <span>\\n                  <ng-md-icon icon=\\\"phone\\\" class=\\\"listItemHeaderIcon sm\\\" md-colors=\\\"{fill: 'blue-grey-A200'}\\\"></ng-md-icon>\\n                  \\n                    {{item.primaryContact.phoneNumber}}\\n                  </span> -->\\n              </span>\\n            </md-item-template>\\n            <div ng-messages=\\\"guestDetailsForm.autocompleteField.$error\\\" ng-if=\\\"guestDetailsForm.autocompleteField.$touched\\\">\\n              <div ng-message=\\\"required\\\">You <b>must</b> enter a client name.</div>\\n              <div ng-message=\\\"minlength\\\">The name must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The name must be less than 100 characters long.</div>\\n            </div>\\n          </md-autocomplete>\\n\\n\\n          <md-input-container class=\\\"md-block listItemInputContainer listItemAutoCompleteAfterContainer\\\" ng-if=\\\"!dashboard\\\">\\n            <label>E-mail</label>\\n            <input name=\\\"mail\\\" ng-model=\\\"vm.formData.mail\\\" required type=\\\"email\\\" md-maxlength=\\\"100\\\" ng-minlength=\\\"3\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.mail.$error\\\">\\n              <div ng-message=\\\"required\\\">This is required.</div>\\n              <div ng-message=\\\"email\\\">Please enter a valid e-mail address.</div>\\n              <div ng-message=\\\"minlength\\\">The e-mail must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The e-mail must be less than 100 characters long.</div>\\n            </div>\\n          </md-input-container>\\n          <md-input-container class=\\\"md-block listItemInputContainer\\\" ng-if=\\\"!dashboard\\\">\\n            <label>Phone</label>\\n            <input name=\\\"phone\\\" ng-model=\\\"vm.formData.phoneNumber\\\" required type=\\\"text\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.phone.$error\\\">\\n              <div ng-message=\\\"required\\\">This is required.</div>\\n            </div>\\n          </md-input-container>\\n\\n          <md-input-container class=\\\"md-block listItemInputContainer listItemAutoCompleteAfterContainer\\\" ng-if=\\\"dashboard\\\">\\n            <label>E-mail</label>\\n            <input name=\\\"mail\\\" ng-model=\\\"vm.formData.mail\\\" type=\\\"email\\\" md-maxlength=\\\"100\\\" ng-minlength=\\\"3\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.mail.$error\\\">\\n              <div ng-message=\\\"email\\\">Please enter a valid e-mail address.</div>\\n              <div ng-message=\\\"minlength\\\">The e-mail must be at least 3 characters long.</div>\\n              <div ng-message=\\\"md-maxlength\\\">The e-mail must be less than 100 characters long.</div>\\n            </div>\\n          </md-input-container>\\n          <md-input-container class=\\\"md-block listItemInputContainer\\\" ng-if=\\\"dashboard\\\">\\n            <label>Phone</label>\\n            <input name=\\\"phone\\\" ng-model=\\\"vm.formData.phoneNumber\\\" type=\\\"text\\\" />\\n            <div ng-messages=\\\"guestDetailsForm.phone.$error\\\">\\n            </div>\\n          </md-input-container>\\n\\n          <md-input-container class=\\\"md-block listItemInputContainer\\\">\\n            <label>Notes</label>\\n            <textarea ng-model=\\\"vm.formData.notes\\\" md-maxlength=\\\"300\\\" rows=\\\"1\\\"></textarea>\\n          </md-input-container>\\n\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n            <md-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!vm.areGuestDetailsValid(guestDetailsForm)\\\" ng-click=\\\"vm.goToNextStep('guestDetailsStep')\\\">Next</md-button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n    <md-divider class=\\\"no-margin\\\"></md-divider>\\n\\n    <!-- Attendees -->\\n    <list-item size=\\\"lg\\\" class=\\\"listItemHeader\\\" ng-click=\\\"vm.toggleAttendees()\\\" ng-disabled=\\\"!vm.guestDetailsAreValid\\\" layout=\\\"column\\\">\\n      <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n        <ng-md-icon icon=\\\"filter_2\\\" class=\\\"listIcon listItemHeaderIcon\\\"></ng-md-icon>\\n        <span class=\\\"paymentSubTitle\\\" ng-if=\\\"vm.countAttendees() >= 0\\\" flex>Attendees <span ng-show=\\\"vm.countAttendees() < 4\\\"> {{vm.countAttendees()}} spot{{vm.countAttendees() != 1 ? 's' : ''}} remaining</span></span>\\n        <span class=\\\"paymentSubTitle\\\" ng-if=\\\"vm.countAttendees() < 0 \\\" flex>Attendees <span class=\\\"red\\\"> <strong> {{vm.countAttendees() * -1}}</strong> spot{{((vm.countAttendees() * -1) > 1 || (vm.countAttendees() * -1) == 0) ? 's' : ''}} over maximum occupancy</span></span>\\n      </div>\\n      <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center end\\\">\\n          <ng-md-icon icon=\\\"{{vm.attendeesExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n        </div>\\n      </div>\\n    </list-item>\\n\\n    <div ng-show=\\\"vm.attendeesExpanded\\\" ng-class=\\\"vm.areAttendeesValid()\\\" layout=\\\"column\\\">\\n      <div ng-repeat=\\\"attendee in vm.attendees\\\">\\n        <list-item class=\\\"md-2-line addOnListItem\\\">\\n          <div layout=\\\"row\\\" class=\\\"list-item-text\\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n              <div layout=\\\"column\\\" class=\\\"\\\">\\n                <span class=\\\"lineItemSubHeader\\\">{{attendee.name}}</span>\\n\\n                <div layout=\\\"row\\\">\\n                  <span class=\\\"lineItemSubDetail\\\">${{attendee.amount/ 100  | number:2}}</span>\\n                </div>\\n\\n              </div>\\n            </div>\\n\\n            <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n              <div layout=\\\"column\\\" class=\\\"addOnAdjusters\\\" layout-align=\\\"center end\\\" flex layout-grow>\\n                <ng-md-icon icon=\\\"add_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAttendee($index,'up');\\\"> </ng-md-icon>\\n                <ng-md-icon icon=\\\" remove_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAttendee($index,'down');\\\"></ng-md-icon>\\n              </div>\\n\\n              <div layout=\\\"column\\\" layout-align=\\\"end end\\\">\\n                <input class='addOnQuantityText' ng-model=\\\"attendee.quantity\\\" ng-change=\\\"vm.checkAdjustAttendee($index);\\\" md-select-on-focus></input>\\n              </div>\\n            </div>\\n          </div>\\n        </list-item>\\n      </div>\\n      <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n        <md-button ng-if=\\\"vm.isNextStepPayment('attendees')\\\" class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!vm.areAttendeesValid()\\\"\\n          ng-click=\\\"vm.goToNextStep('attendeesStep')\\\">Next</md-button>\\n      </div>\\n    </div>\\n\\n\\n    <md-divider class=\\\"no-margin\\\"></md-divider>\\n\\n    <!-- Add ons -->\\n    <div ng-if=\\\"vm.addons.length > 0\\\">\\n      <list-item class=\\\"paymentHeader md-2-line\\\" ng-disabled=\\\"vm.countAttendeesAdded() < 1 || guestDetailsForm.$invalid\\\" ng-click=\\\"vm.toggleAddons()\\\"\\n        layout=\\\"column\\\" flex>\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n          <ng-md-icon icon=\\\"filter_3\\\" class=\\\"listIcon listItemHeaderIcon\\\"></ng-md-icon>\\n          <span class=\\\"paymentSubTitle\\\">Add-ons</span>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n          <div layout=\\\"column\\\" layout-align=\\\"center end\\\">\\n            <ng-md-icon ng-show=\\\"vm.addOnsSelected == 1\\\" icon=\\\"check\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n            <ng-md-icon icon=\\\"{{vm.addonsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n          </div>\\n        </div>\\n      </list-item>\\n      <md-divider class=\\\"no-margin\\\"></md-divider>\\n      <div ng-show=\\\"vm.addonsExpanded\\\" ng-class=\\\"vm.areAddonsValid()\\\">\\n        <div ng-repeat=\\\"addon in vm.addons\\\">\\n          <list-item class=\\\"md-2-line addOnListItem\\\">\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n              <div layout=\\\"column\\\" class=\\\"\\\">\\n                <span class=\\\"lineItemSubHeader\\\">{{addon.name}}</span>\\n                <div layout=\\\"row\\\" class=\\\"\\\">\\n                  <span class=\\\"lineItemSubDetail\\\">${{addon.amount/ 100  | number:2}}</span>\\n                </div>\\n              </div>\\n            </div>\\n            <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n              <div layout=\\\"column\\\" class=\\\"addOnAdjusters\\\" layout-align=\\\"center end\\\">\\n                <ng-md-icon icon=\\\"add_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAddon($index,'up');\\\"> </ng-md-icon>\\n                <ng-md-icon icon=\\\" remove_circle_outline\\\" class=\\\"listIconSub\\\" ng-click=\\\"vm.adjustAddon($index,'down');\\\"></ng-md-icon>\\n              </div>\\n              <div layout=\\\"column\\\" layout-align=\\\"end end\\\">\\n                <input class='addOnQuantityText' ng-model=\\\"addon.quantity\\\" ng-change=\\\"vm.addonsChanged();\\\" md-select-on-focus></input>\\n              </div>\\n            </div>\\n          </list-item>\\n        </div>\\n\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n          <md-button ng-if=\\\"vm.isNextStepPayment('addons')\\\" class=\\\"md-raised md-primary md-hue-2\\\" ng-click=\\\"vm.goToNextStep('addonsStep')\\\">Next</md-button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <!--Questions-->\\n    <div ng-if=\\\"vm.questions.length > 0\\\">\\n      <list-item class=\\\"paymentHeader md-2-line\\\" ng-disabled=\\\"guestDetailsForm.$invalid || vm.countAttendeesAdded() < 1\\\" ng-click=\\\"vm.toggleQuestions()\\\">\\n        <div layout=\\\"row\\\" class=\\\"list-item-text\\\" flex>\\n          <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n            <div layout=\\\"column\\\" class=\\\"\\\">\\n              <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n                <ng-md-icon icon=\\\"filter_4\\\" class=\\\"listIcon listItemHeaderIcon\\\" ng-if=\\\"vm.addons.length > 0\\\"></ng-md-icon>\\n                <ng-md-icon icon=\\\"filter_3\\\" class=\\\"listIcon listItemHeaderIcon\\\" ng-if=\\\"vm.addons.length == 0\\\"></ng-md-icon>\\n                <span class=\\\"paymentSubTitle\\\">Booking Questions <i class=\\\"fa fa-angle-right\\\" aria-hidden=\\\"true\\\"></i> {{vm.bookingQuestionsCompleted()}}/{{vm.questions.length}}</span>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n            <div layout=\\\"column\\\" layout-align=\\\"center end\\\" flex>\\n              <ng-md-icon icon=\\\"{{vm.questionsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n            </div>\\n          </div>\\n        </div>\\n      </list-item>\\n      <div ng-show=\\\"vm.questionsExpanded\\\" ng-class=\\\"!vm.areBookingQuestionsValid()\\\">\\n        <div class=\\\"questionForm slideDown\\\">\\n          <div ng-repeat=\\\"question in vm.questions\\\" class=\\\"listItemInputContainer\\\">\\n            <div layout=\\\"column\\\" layout-align=\\\"center stretch\\\" flex>\\n              <label class=\\\"small-label\\\">{{question.questionText}}</label>\\n              <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n                <ng-md-icon icon=\\\"{{vm.bookingQuestions[$index].length > 0 ? 'done' : 'priority_high'}}\\\" class=\\\"inputStatusIcon\\\"></ng-md-icon>\\n                <md-input-container class=\\\"md-block\\\" flex>\\n                  <textarea name=\\\"question\\\" ng-model=\\\"vm.bookingQuestions[$index]\\\" md-maxlength=\\\"300\\\" rows=\\\"1\\\"></textarea>\\n                </md-input-container>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n          <md-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!dashboard && !vm.areBookingQuestionsValid()\\\" ng-click=\\\"vm.goToNextStep('paymentStep')\\\">Next</md-button>\\n        </div>\\n      </div>\\n      <md-divider class=\\\"no-margin\\\"></md-divider>\\n    </div>\\n\\n    <!-- Payment Stripe -->\\n    <div>\\n      <list-item class=\\\"paymentHeader md-2-line\\\" ng-disabled=\\\"!vm.isPaymentValid()\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"80\\\">\\n          <ng-md-icon icon=\\\"filter_5\\\" class=\\\"listIcon listItemHeaderIcon\\\" ng-if=\\\"vm.addons.length > 0 && vm.questions.length > 0\\\"></ng-md-icon>\\n          <ng-md-icon icon=\\\"filter_4\\\" class=\\\"listIcon listItemHeaderIcon\\\" ng-if=\\\"vm.addons.length > 0 && vm.questions.length == 0 || vm.addons.length == 0 && vm.questions.length > 0\\\"></ng-md-icon>\\n          <ng-md-icon icon=\\\"filter_3\\\" class=\\\"listIcon listItemHeaderIcon\\\" ng-if=\\\"vm.addons.length == 0 && vm.questions.length == 0\\\"></ng-md-icon>\\n          <span class=\\\"paymentSubTitle\\\">Payment Details</span>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex=\\\"20\\\">\\n          <div layout=\\\"column\\\" layout-align=\\\"center end\\\" flex>\\n            <!--<ng-md-icon icon=\\\"{{vm.guestDetailsExpanded ? 'expand_less' : 'expand_more'}}\\\" class=\\\"listIcon\\\"></ng-md-icon>\\n                <ng-md-icon ng-show=\\\"!guestDetailsHover && detailsForm.$valid\\\" icon=\\\"check\\\" class=\\\"listIcon\\\"></ng-md-icon>-->\\n          </div>\\n        </div>\\n      </list-item>\\n      <md-divider class=\\\"no-margin\\\"></md-divider>\\n      <!--<list-item class=\\\"activityCardForm\\\" ng-if=\\\"app == 'dashboard'\\\">\\n          Dashboard\\n        </list-item>-->\\n      <!-- <div ng-show=\\\"vm.stripePaymentExpanded\\\"> -->\\n      <div ng-show=\\\"vm.stripePaymentExpanded\\\">\\n        <div class=\\\"radioGroup listItemInputContainer\\\" ng-if=\\\"dashboard\\\">\\n          <md-radio-group ng-model=\\\"vm.paymentMethod\\\">\\n            <md-radio-button value=\\\"credit\\\"> Credit Card (Online)</md-radio-button>\\n            <md-radio-button value=\\\"cash\\\">Cash</md-radio-button>\\n            <md-radio-button value=\\\"debit\\\"> Office Point of Sale (POS) </md-radio-button>\\n            <md-radio-button value=\\\"gift\\\"> Gift Card </md-radio-button>\\n            <md-radio-button value=\\\"transfer\\\"> Bank Transfer </md-radio-button>\\n            <md-radio-button value=\\\"reserved\\\"> Reservation - Pay Later </md-radio-button>\\n          </md-radio-group>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin ng-if=\\\"vm.paymentMethod != 'credit'\\\">\\n          <progress-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"vm.countAttendeesAdded() < 1\\\" loading=\\\"bookingSuccessResponse == 'processing'\\\"\\n            ng-click=\\\"bookingSuccessResponse == 'processing' ? null : vm.submitNonCreditCardBooking()\\\" spinner=\\\"3\\\" label=\\\"{{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}\\\"></progress-button>\\n        </div>\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin ng-if=\\\"vm.paymentMethod == 'credit' && dashboard\\\">\\n          <progress-button class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"vm.countAttendeesAdded() < 1\\\" loading=\\\"bookingSuccessResponse == 'processing'\\\"\\n            ng-click=\\\"bookingSuccessResponse == 'processing' ? null : vm.goToPay()\\\" spinner=\\\"3\\\" label=\\\"{{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}\\\"></progress-button>\\n        </div>\\n      </div>\\n      <form method=\\\"post\\\" id=\\\"payment-form\\\" name=\\\"creditCardDetailsForm\\\" ng-show=\\\"false\\\">\\n        <div class=\\\"form-row\\\" style=\\\"padding:0 30px 20px 20px\\\">\\n          <div id=\\\"card-errors\\\"></div>\\n          <div id=\\\"card-element\\\">\\n          </div>\\n        </div>\\n        <div ng-if=\\\"vm.waitingForResponse\\\" layout=\\\"row\\\" layout-align=\\\"space-around center\\\" style=\\\"padding:20px\\\">\\n          <md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular>\\n        </div>\\n\\n\\n        <div layout=\\\"row\\\" layout-align=\\\"end center\\\" layout-margin>\\n          <md-button type=\\\"submit\\\" class=\\\"md-raised md-primary md-hue-2\\\" ng-class=\\\"{'valid': vm.isPaymentValid() && vm.stripeCardIsValid && !vm.waitingForResponse}\\\"\\n            ng-disabled=\\\"!vm.isPaymentValid() || vm.paymentWasSent\\\" class=\\\"submitButton\\\"><i class=\\\"fa fa-credit-card\\\" aria-hidden=\\\"true\\\"></i> {{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}</md-button>\\n        </div>\\n      </form>\\n\\n      <div layout=\\\"row\\\" ng-if=\\\"false\\\">\\n        <md-button flex class=\\\"md-raised md-primary md-hue-2\\\" ng-disabled=\\\"!vm.isPaymentValid() || vm.paymentWasSent\\\" ng-click=\\\"vm.goToPay()\\\"><i class=\\\"fa fa-credit-card\\\" aria-hidden=\\\"true\\\"></i> {{vm.paymentMethod == 'reserved' ? 'Reserve' : 'Pay' }}</md-button>\\n      </div>\\n\\n      <div ng-if=\\\"!dashboard\\\">\\n        <md-card class=\\\"transparent no-margin\\\" ng-show=\\\"vm.showPaymentForm && paymentResponse.length < 1\\\">\\n          <iframe id=\\\"paymentIframe\\\"></iframe>\\n        </md-card>\\n      </div>\\n\\n      <!--Payment-->\\n      <div class=\\\"list-item\\\">\\n        <div ng-if=\\\"vm.loadingIframe\\\" layout=\\\"row\\\" layout-align=\\\"space-around center\\\" style=\\\"padding:20px\\\">\\n          <md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular>\\n        </div>\\n        <iframe ng-style=\\\"{'height': vm.loadingIframe ? '0' : '100%'}\\\" id=\\\"payzenIframe\\\" class=\\\"payzenIframe\\\"></iframe>\\n      </div>\\n      <md-divider class=\\\"no-margin\\\"></md-divider>\\n    </div>\\n\\n\\n  </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-forms.html\n// module id = 114\n// module chunks = 0","module.exports = \"<!--<div layout=\\\"row\\\" class=\\\"activityPaymentSummaryCard\\\" ng-class=\\\"{'activityPaymentSummaryCardMobile' : !screenIsBig()}\\\" layout-align=\\\"center start\\\" flex=\\\"100\\\">-->\\n<div layout=\\\"{{screenIsBig() ? 'row' : 'column'}}\\\" layout-align=\\\"{{screenIsBig() ? 'start stretch' : 'center center'}}\\\" layout-fill\\n  class=\\\"columnFix\\\" ng-class=\\\"screenIsBig() ? 'activityBookDialogLarge' : 'activityBookDialogSmall'\\\" ng-show=\\\"(paymentResponse.length <= 0 && !vm.showPaymentForm) || (!dashboard && paymentResponse.length <= 0)\\\">\\n  <div class=\\\"paymentSummaryCardLarge leftCard \\\" ng-class=\\\"screenIsBig() ? 'leftCardLarge' : 'leftCardSmall'\\\" layout-align=\\\"start stretch\\\">\\n    <div ng-include=\\\"'activity-forms.html'\\\"></div>\\n  </div>\\n  <div class=\\\"paymentSummaryCardLarge rightCard\\\" ng-class=\\\"screenIsBig() ? 'rightCardLarge' : 'rightCardSmall'\\\" layout=\\\"column\\\"\\n    layout-align=\\\"center stretch\\\">\\n    <div class=\\\"activity-total-include\\\" ng-include=\\\"'activity-total.html'\\\"></div>\\n  </div>\\n</div>\\n\\n<div ng-if=\\\"dashboard\\\">\\n  <md-card class=\\\"paymentSummaryCard no-margin\\\" ng-show=\\\"vm.showPaymentForm && paymentResponse.length < 1\\\">\\n    <iframe id=\\\"paymentIframe\\\"></iframe>\\n  </md-card>\\n</div>\\n\\n<div class=\\\"paymentResponseContainer\\\">\\n  <md-card class=\\\"paymentSummaryCard no-margin\\\" ng-show=\\\"paymentResponse.length > 0\\\">\\n    <md-list>\\n      <div ng-show=\\\"paymentResponse == 'success'\\\" class=\\\"easeIn\\\">\\n        <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" ng-mouseleave=\\\"addOnsHover = 0\\\" ng-mouseenter=\\\"addOnsHover = 1\\\"\\n          ng-init=\\\"addOnsHover=0\\\">\\n          <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\" md-colors=\\\"{color: 'default-primary'}\\\">\\n              <ng-md-icon class=\\\"listItemHeaderIcon\\\" icon=\\\"payment\\\" class=\\\"listIcon \\\"></ng-md-icon>\\n              <span class=\\\"paymentSubTitle total\\\">{{bookingSuccessResponse.data.booking.status == 'unpaid' ? 'Booking' : 'Payment'}} Complete</span>\\n            </div>\\n            <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n              <span class=\\\"paymentSubTitle total\\\" ng-style=\\\"{color: 'green'}\\\"></span>\\n              <ng-md-icon icon=\\\"check\\\" class=\\\"listIcon \\\" ng-style=\\\"{fill: 'green'}\\\"></ng-md-icon>\\n            </div>\\n          </div>\\n        </md-list-item>\\n        <div layout=\\\"column\\\" layout-xs=\\\"column\\\" layout-padding layout-margin>\\n          <div flex=\\\"100\\\" flex-gt-sm=\\\"60\\\" class=\\\"confirmation\\\" layout=\\\"column\\\" layout-align=\\\"space-around center\\\" ng-if=\\\"dashboard\\\"\\n            layout-align=\\\"center center\\\">\\n            <h3>Congratulations!</h3>\\n            <div layout=\\\"row\\\">Your {{bookingSuccessResponse.data.booking.status == 'unpaid' ? 'reservation' : 'booking'}} is confirmed.</div>\\n            <div layout=\\\"row\\\" flex layout-wrap>\\n              {{vm.formData.fullName}} is attending {{bookingSuccessResponse.data.booking.title}}\\n              on {{formatDate(bookingSuccessResponse.data.booking.startTime, 'LL')}}\\n            </div>\\n            <div layout=\\\"row\\\" flex layout-wrap>\\n              A confirmation email will be sent to {{bookingSuccessResponse.data.booking.organizations[0].primaryContact.email}}\\n            </div>\\n            <div class=\\\"booking-id\\\">The reference ID is: {{bookingSuccessResponse.data.booking.bookingId}}</div>\\n            <div layout=\\\"row\\\" layout-align=\\\"center center\\\" flex>\\n              <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.returnToMainPage()\\\">Return</md-button>\\n            </div>\\n          </div>\\n          <div flex=\\\"100\\\" class=\\\"confirmation\\\" layout=\\\"column\\\" ng-if=\\\"!dashboard\\\">\\n            <h3>Congratulations!</h3>\\n            <p>Your booking is confirmed.</p>\\n            <p>You will receive a confirmation email at: <strong>{{vm.formData['mail']}}</strong></p>\\n            <p class=\\\"margin-top\\\">For questions about your booking, please contact:</p>\\n            <p><strong>{{bookingSuccessResponse.data.booking.organizations[0].companyName}} ({{bookingSuccessResponse.data.booking.organizations[0].primaryContact.phoneNumber}})</strong></p>\\n            <p><strong>{{bookingSuccessResponse.data.booking.organizations[0].primaryContact.email}}</strong></p>\\n            <div class=\\\"booking-id\\\">Booking ID: {{bookingSuccessResponse.data.booking.bookingId}}</div>\\n            <div style=\\\"margin-top:25px\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" flex>\\n              <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.returnToMainPage()\\\">Return</md-button>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div ng-show=\\\"paymentResponse == 'failed'\\\">\\n\\n        <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" md-colors=\\\"{color: 'default-primary'}\\\" ng-mouseleave=\\\"addOnsHover = 0\\\"\\n          ng-mouseenter=\\\"addOnsHover = 1\\\" ng-init=\\\"addOnsHover=0\\\">\\n          <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex=\\\"50\\\" md-colors=\\\"{color: 'default-warn'}\\\">\\n              <ng-md-icon class=\\\"listItemHeaderIcon\\\" icon=\\\"payment\\\" class=\\\"listIcon \\\"></ng-md-icon>\\n\\n              <span class=\\\"paymentSubTitle total\\\">Payment Failed</span>\\n            </div>\\n            <div layout=\\\"row \\\" layout-align=\\\"end center \\\" flex=\\\"50 \\\">\\n              <span class=\\\"paymentSubTitle total\\\" md-colors=\\\"{color: 'default-warn'}\\\"></span>\\n\\n              <ng-md-icon icon=\\\"error\\\" class=\\\"listIcon \\\" md-colors=\\\"{fill: 'default-warn'}\\\"></ng-md-icon>\\n\\n            </div>\\n          </div>\\n        </md-list-item>\\n\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-wrap>\\n\\n            <p class=\\\"listMessage\\\">Your credit card has been declined. Please confirm the information you provided is correct and try again.</p>\\n          </div>\\n        </md-list-item>\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n            <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.payNow();\\\">Try Again</md-button>\\n\\n          </div>\\n        </md-list-item>\\n      </div>\\n\\n\\n      <div ng-show=\\\"paymentResponse == 'processing'\\\">\\n\\n        <md-list-item class=\\\"paymentHeader md-2-line md-primary\\\" md-colors=\\\"{color: 'default-primary'}\\\" ng-mouseleave=\\\"addOnsHover = 0\\\"\\n          ng-mouseenter=\\\"addOnsHover = 1\\\" ng-init=\\\"addOnsHover=0\\\">\\n\\n          <div layout=\\\"row\\\" class=\\\"md-list-item-text \\\" flex>\\n            <div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex layout-grow md-colors=\\\"{color: 'default-primary'}\\\">\\n              <ng-md-icon class=\\\"listItemHeaderIcon\\\" icon=\\\"payment\\\" class=\\\"listIcon \\\"></ng-md-icon>\\n\\n              <span class=\\\"paymentSubTitle total\\\">Payment Processing</span>\\n            </div>\\n            <div layout=\\\"row \\\" layout-align=\\\"end center \\\">\\n              <span class=\\\"paymentSubTitle total\\\" ng-style=\\\"{color: 'green'}\\\"></span>\\n\\n              <ng-md-icon icon=\\\"watch_later\\\" class=\\\"listIcon \\\" ng-style=\\\"{fill: 'amber'}\\\"></ng-md-icon>\\n\\n            </div>\\n          </div>\\n        </md-list-item>\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-wrap>\\n\\n            <p class=\\\"listMessage\\\">Your booking payment is still processing. An e-mail will be sent to {{vm.formData.mail }} with details about\\n              your reservation.</p>\\n          </div>\\n\\n        </md-list-item>\\n        <md-list-item>\\n          <div layout=\\\"row\\\" layout-align=\\\"end center\\\" flex>\\n            <md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"goToState('home');\\\">Return</md-button>\\n          </div>\\n        </md-list-item>\\n      </div>\\n    </md-list>\\n  </md-card>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/activity/activity-book.html\n// module id = 115\n// module chunks = 0","export default function activityBookValidator(vm, $http, $stateParams) {\n\n\n    vm.searchClients = function (query) {\n        return Rx.Observable\n            .fromPromise($http({\n                method: 'GET',\n                url: vm.config.apiVersion + \"/clients?fullName=\" + text,\n                headers: {\n                    'x-abl-access-key': $stateParams.merchant,\n                    'x-abl-date': Date.parse(new Date().toISOString())\n                }\n            }))\n            .select(function (response) {\n                console.log(response);\n                return response;\n            });\n\n    }\n\n    return vm;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/activity/activity-book-validators.js","   /**\n    * @class abl-sdk-feathers.components\n    * @hidden\n    */\n\n   /**\n    * @function activity-AdjustmentControls\n    * @memberOf abl-sdk-feathers.components\n    * @description Parent component controller for shared activity adjustment functions.\n    * @example  <activity-adjustment-controls></activity-adjustment-controls>\n    */\n\n   function activityAdjustmentControls() {\n       var vm = this;\n\n       this.$onInit = function () {\n           console.log('activityAdjustmentControls', this);\n       };\n\n       this.$onChanges = (changesObj) => {};\n\n       this.$postLink = function () {};\n\n       vm.addCharge = function (label, price) {\n           console.log(label, price);\n       };\n   };\n\n\n   export default activityAdjustmentControls;\n\n\n// WEBPACK FOOTER //\n// ./src/activity/activity.adjustment.controls.component.js"],"sourceRoot":""}